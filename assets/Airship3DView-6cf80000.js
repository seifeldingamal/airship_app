import{a as X,g as Zc,j as Ke,_ as fu,C as Qc,b as Yc,T as Xc,B as Vc}from"./mui-1d446504.js";import{L as Oo,R as Ur,U as xl,a as du,O as mi,P as Sl,S as bo,b as Ao,N as Kc,A as Jc,V as Ht,c as lt,W as pu,C as qc,B as bc,d as $c,e as ef,f as tf,T as nf,g as rf,M as $o,I as lf,h as ea,D as of,Q as Gs,i as Zs,j as Rr,k as kr,l as af,m as sf,n as hu,H as $t,F as Tn,o as Or,p as vn,q as uf,r as Zn,s as mu,t as vu,u as Ml,v as cf,w as Yo,x as Ar,y as ff,z as df,E as pf,G as hf,J as mf,K as El,X as vf,Y as gf,Z as Qs,_ as yf,$ as wf,a0 as Sf,a1 as Ef,a2 as _f,a3 as xf,a4 as Mf,a5 as Pf,a6 as Cf}from"./three-b75072f3.js";import{u as gu}from"./index-66cb7412.js";var yu={exports:{}},ur={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ur.ConcurrentRoot=1;ur.ContinuousEventPriority=4;ur.DefaultEventPriority=16;ur.DiscreteEventPriority=1;ur.IdleEventPriority=536870912;ur.LegacyRoot=0;yu.exports=ur;var Dr=yu.exports;function Tf(o){let i;const u=new Set,a=(_,d)=>{const m=typeof _=="function"?_(i):_;if(m!==i){const E=i;i=d?m:Object.assign({},i,m),u.forEach(C=>C(i,E))}},h=()=>i,g=(_,d=h,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let E=d(i);function C(){const T=d(i);if(!m(E,T)){const j=E;_(E=T,j)}}return u.add(C),()=>u.delete(C)},w={setState:a,getState:h,subscribe:(_,d,m)=>d||m?g(_,d,m):(u.add(_),()=>u.delete(_)),destroy:()=>u.clear()};return i=o(a,h,w),w}const If=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ys=If?X.useEffect:X.useLayoutEffect;function wu(o){const i=typeof o=="function"?Tf(o):o,u=(a=i.getState,h=Object.is)=>{const[,g]=X.useReducer(D=>D+1,0),p=i.getState(),y=X.useRef(p),w=X.useRef(a),_=X.useRef(h),d=X.useRef(!1),m=X.useRef();m.current===void 0&&(m.current=a(p));let E,C=!1;(y.current!==p||w.current!==a||_.current!==h||d.current)&&(E=a(p),C=!h(m.current,E)),Ys(()=>{C&&(m.current=E),y.current=p,w.current=a,_.current=h,d.current=!1});const T=X.useRef(p);Ys(()=>{const D=()=>{try{const k=i.getState(),F=w.current(k);_.current(m.current,F)||(y.current=k,m.current=F,g())}catch{d.current=!0,g()}},I=i.subscribe(D);return i.getState()!==T.current&&D(),I},[]);const j=C?E:m.current;return X.useDebugValue(j),j};return Object.assign(u,i),u[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const a=[u,i];return{next(){const h=a.length<=0;return{value:a.shift(),done:h}}}},u}const Rf=o=>typeof o=="object"&&typeof o.then=="function",ar=[];function Su(o,i,u=(a,h)=>a===h){if(o===i)return!0;if(!o||!i)return!1;const a=o.length;if(i.length!==a)return!1;for(let h=0;h<a;h++)if(!u(o[h],i[h]))return!1;return!0}function Eu(o,i=null,u=!1,a={}){i===null&&(i=[o]);for(const g of ar)if(Su(i,g.keys,g.equal)){if(u)return;if(Object.prototype.hasOwnProperty.call(g,"error"))throw g.error;if(Object.prototype.hasOwnProperty.call(g,"response"))return a.lifespan&&a.lifespan>0&&(g.timeout&&clearTimeout(g.timeout),g.timeout=setTimeout(g.remove,a.lifespan)),g.response;if(!u)throw g.promise}const h={keys:i,equal:a.equal,remove:()=>{const g=ar.indexOf(h);g!==-1&&ar.splice(g,1)},promise:(Rf(o)?o:o(...i)).then(g=>{h.response=g,a.lifespan&&a.lifespan>0&&(h.timeout=setTimeout(h.remove,a.lifespan))}).catch(g=>h.error=g)};if(ar.push(h),!u)throw h.promise}const kf=(o,i,u)=>Eu(o,i,!1,u),Nf=(o,i,u)=>void Eu(o,i,!0,u),zf=o=>{if(o===void 0||o.length===0)ar.splice(0,ar.length);else{const i=ar.find(u=>Su(o,u.keys,u.equal));i&&i.remove()}};var _u={exports:{}},xu={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(V,oe){var K=V.length;V.push(oe);e:for(;0<K;){var he=K-1>>>1,me=V[he];if(0<h(me,oe))V[he]=oe,V[K]=me,K=he;else break e}}function u(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var oe=V[0],K=V.pop();if(K!==oe){V[0]=K;e:for(var he=0,me=V.length,_e=me>>>1;he<_e;){var Ye=2*(he+1)-1,ot=V[Ye],Re=Ye+1,ct=V[Re];if(0>h(ot,K))Re<me&&0>h(ct,ot)?(V[he]=ct,V[Re]=K,he=Re):(V[he]=ot,V[Ye]=K,he=Ye);else if(Re<me&&0>h(ct,K))V[he]=ct,V[Re]=K,he=Re;else break e}}return oe}function h(V,oe){var K=V.sortIndex-oe.sortIndex;return K!==0?K:V.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;o.unstable_now=function(){return g.now()}}else{var p=Date,y=p.now();o.unstable_now=function(){return p.now()-y}}var w=[],_=[],d=1,m=null,E=3,C=!1,T=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(V){for(var oe=u(_);oe!==null;){if(oe.callback===null)a(_);else if(oe.startTime<=V)a(_),oe.sortIndex=oe.expirationTime,i(w,oe);else break;oe=u(_)}}function re(V){if(j=!1,F(V),!T)if(u(w)!==null)T=!0,we(W);else{var oe=u(_);oe!==null&&be(re,oe.startTime-V)}}function W(V,oe){T=!1,j&&(j=!1,I(U),U=-1),C=!0;var K=E;try{for(F(oe),m=u(w);m!==null&&(!(m.expirationTime>oe)||V&&!Q());){var he=m.callback;if(typeof he=="function"){m.callback=null,E=m.priorityLevel;var me=he(m.expirationTime<=oe);oe=o.unstable_now(),typeof me=="function"?m.callback=me:m===u(w)&&a(w),F(oe)}else a(w);m=u(w)}if(m!==null)var _e=!0;else{var Ye=u(_);Ye!==null&&be(re,Ye.startTime-oe),_e=!1}return _e}finally{m=null,E=K,C=!1}}var B=!1,se=null,U=-1,H=5,G=-1;function Q(){return!(o.unstable_now()-G<H)}function ae(){if(se!==null){var V=o.unstable_now();G=V;var oe=!0;try{oe=se(!0,V)}finally{oe?pe():(B=!1,se=null)}}else B=!1}var pe;if(typeof k=="function")pe=function(){k(ae)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ze=fe.port2;fe.port1.onmessage=ae,pe=function(){ze.postMessage(null)}}else pe=function(){D(ae,0)};function we(V){se=V,B||(B=!0,pe())}function be(V,oe){U=D(function(){V(o.unstable_now())},oe)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(V){V.callback=null},o.unstable_continueExecution=function(){T||C||(T=!0,we(W))},o.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_getFirstCallbackNode=function(){return u(w)},o.unstable_next=function(V){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var K=E;E=oe;try{return V()}finally{E=K}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(V,oe){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=E;E=V;try{return oe()}finally{E=K}},o.unstable_scheduleCallback=function(V,oe,K){var he=o.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?he+K:he):K=he,V){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=K+me,V={id:d++,callback:oe,priorityLevel:V,startTime:K,expirationTime:me,sortIndex:-1},K>he?(V.sortIndex=K,i(_,V),u(w)===null&&V===u(_)&&(j?(I(U),U=-1):j=!0,be(re,K-he))):(V.sortIndex=me,i(w,V),T||C||(T=!0,we(W))),V},o.unstable_shouldYield=Q,o.unstable_wrapCallback=function(V){var oe=E;return function(){var K=E;E=oe;try{return V.apply(this,arguments)}finally{E=K}}}})(Mu);xu.exports=Mu;var Xo=xu.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=function(i){var u={},a=X,h=Xo,g=Object.assign;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),W=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}function se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case _:return"Portal";case E:return"Profiler";case m:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function H(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function G(e){if(H(e)!==e)throw Error(p(188))}function Q(e){var t=e.alternate;if(!t){if(t=H(e),t===null)throw Error(p(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return G(l),e;if(s===r)return G(l),t;s=s.sibling}throw Error(p(188))}if(n.return!==r.return)n=l,r=s;else{for(var v=!1,x=l.child;x;){if(x===n){v=!0,n=l,r=s;break}if(x===r){v=!0,r=l,n=s;break}x=x.sibling}if(!v){for(x=s.child;x;){if(x===n){v=!0,n=s,r=l;break}if(x===r){v=!0,r=s,n=l;break}x=x.sibling}if(!v)throw Error(p(189))}}if(n.alternate!==r)throw Error(p(190))}if(n.tag!==3)throw Error(p(188));return n.stateNode.current===n?e:t}function ae(e){return e=Q(e),e!==null?pe(e):null}function pe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pe(e);if(t!==null)return t;e=e.sibling}return null}function fe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=fe(e);if(t!==null)return t}e=e.sibling}return null}var ze=Array.isArray,we=i.getPublicInstance,be=i.getRootHostContext,V=i.getChildHostContext,oe=i.prepareForCommit,K=i.resetAfterCommit,he=i.createInstance,me=i.appendInitialChild,_e=i.finalizeInitialChildren,Ye=i.prepareUpdate,ot=i.shouldSetTextContent,Re=i.createTextInstance,ct=i.scheduleTimeout,Ot=i.cancelTimeout,Yn=i.noTimeout,In=i.isPrimaryRenderer,Et=i.supportsMutation,gn=i.supportsPersistence,ft=i.supportsHydration,Xn=i.getInstanceFromNode,cr=i.preparePortalMount,jr=i.getCurrentEventPriority,fr=i.detachDeletedInstance,dr=i.supportsMicrotasks,pr=i.scheduleMicrotask,yn=i.supportsTestSelectors,Hr=i.findFiberRoot,hr=i.getBoundingRect,Rn=i.getTextContent,At=i.isHiddenSubtree,Vn=i.matchAccessibilityRole,Wr=i.setFocusIfFocusable,mr=i.setupIntersectionObserver,kn=i.appendChild,Nn=i.appendChildToContainer,Gr=i.commitTextUpdate,vr=i.commitMount,Zr=i.commitUpdate,wn=i.insertBefore,dt=i.insertInContainerBefore,zn=i.removeChild,P=i.removeChildFromContainer,Y=i.resetTextContent,ue=i.hideInstance,Ae=i.hideTextInstance,b=i.unhideInstance,yt=i.unhideTextInstance,Gt=i.clearContainer,Ei=i.cloneInstance,Kn=i.createContainerChildSet,kt=i.appendChildToContainerChildSet,Dt=i.finalizeContainerChildren,ln=i.replaceContainerChildren,on=i.cloneHiddenInstance,an=i.cloneHiddenTextInstance,Ln=i.canHydrateInstance,Cl=i.canHydrateTextInstance,Tl=i.canHydrateSuspenseInstance,Jn=i.isSuspenseInstancePending,Qr=i.isSuspenseInstanceFallback,qn=i.registerSuspenseInstanceRetry,en=i.getNextHydratableSibling,Oe=i.getFirstHydratableChild,_i=i.getFirstHydratableChildWithinContainer,Il=i.getFirstHydratableChildWithinSuspenseInstance,c=i.hydrateInstance,f=i.hydrateTextInstance,S=i.hydrateSuspenseInstance,N=i.getNextHydratableInstanceAfterSuspenseInstance,L=i.commitHydratedContainer,O=i.commitHydratedSuspenseInstance,J=i.clearSuspenseBoundary,Z=i.clearSuspenseBoundaryFromContainer,te=i.shouldDeleteUnhydratedTailInstances,ee=i.didNotMatchHydratedContainerTextInstance,ne=i.didNotMatchHydratedTextInstance,$;function Ze(e){if($===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return`
`+$+e}var de=!1;function ge(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(q){var r=q}Reflect.construct(e,[],t)}else{try{t.call()}catch(q){r=q}e.call(t.prototype)}else{try{throw Error()}catch(q){r=q}e()}}catch(q){if(q&&r&&typeof q.stack=="string"){for(var l=q.stack.split(`
`),s=r.stack.split(`
`),v=l.length-1,x=s.length-1;1<=v&&0<=x&&l[v]!==s[x];)x--;for(;1<=v&&0<=x;v--,x--)if(l[v]!==s[x]){if(v!==1||x!==1)do if(v--,x--,0>x||l[v]!==s[x]){var A=`
`+l[v].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=v&&0<=x);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ze(e):""}var Me=Object.prototype.hasOwnProperty,Te=[],Ue=-1;function De(e){return{current:e}}function xe(e){0>Ue||(e.current=Te[Ue],Te[Ue]=null,Ue--)}function Ie(e,t){Ue++,Te[Ue]=e.current,e.current=t}var Fe={},Xe=De(Fe),ke=De(!1),Je=Fe;function _t(e,t){var n=e.type.contextTypes;if(!n)return Fe;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function at(e){return e=e.childContextTypes,e!=null}function wt(){xe(ke),xe(Xe)}function Ge(e,t,n){if(Xe.current!==Fe)throw Error(p(168));Ie(Xe,t),Ie(ke,n)}function pt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(p(108,U(e)||"Unknown",l));return g({},n,r)}function Qe(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fe,Je=Xe.current,Ie(Xe,e),Ie(ke,ke.current),!0}function Be(e,t,n){var r=e.stateNode;if(!r)throw Error(p(169));n?(e=pt(e,t,Je),r.__reactInternalMemoizedMergedChildContext=e,xe(ke),xe(Xe),Ie(Xe,e)):xe(ke),Ie(ke,n)}var et=Math.clz32?Math.clz32:sn,Sn=Math.log,Tt=Math.LN2;function sn(e){return e>>>=0,e===0?32:31-(Sn(e)/Tt|0)|0}var xi=64,Mi=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,v=n&268435455;if(v!==0){var x=v&~l;x!==0?r=Yr(x):(s&=v,s!==0&&(r=Yr(s)))}else v=n&~l,v!==0?r=Yr(v):s!==0&&(r=Yr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),l=1<<n,r|=e[n],t&=~l;return r}function nc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var v=31-et(s),x=1<<v,A=l[v];A===-1?(!(x&n)||x&r)&&(l[v]=nc(x,t)):A<=t&&(e.expiredLanes|=x),s&=~x}}function Rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function ic(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-et(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Nl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var je=0;function da(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zl=h.unstable_scheduleCallback,pa=h.unstable_cancelCallback,lc=h.unstable_shouldYield,oc=h.unstable_requestPaint,mt=h.unstable_now,Ll=h.unstable_ImmediatePriority,ac=h.unstable_UserBlockingPriority,Ol=h.unstable_NormalPriority,sc=h.unstable_IdlePriority,Ci=null,un=null;function uc(e){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Ci,e,void 0,(e.current.flags&128)===128)}catch{}}function cc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:cc,En=null,Ti=!1,Al=!1;function ha(e){En===null?En=[e]:En.push(e)}function fc(e){Ti=!0,ha(e)}function fn(){if(!Al&&En!==null){Al=!0;var e=0,t=je;try{var n=En;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}En=null,Ti=!1}catch(l){throw En!==null&&(En=En.slice(e+1)),zl(Ll,fn),l}finally{je=t,Al=!1}}return null}var dc=y.ReactCurrentBatchConfig;function Ii(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Me.call(t,l)||!cn(e[l],t[l]))return!1}return!0}function pc(e){switch(e.tag){case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function tn(e,t){if(e&&e.defaultProps){t=g({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ri=De(null),ki=null,gr=null,Dl=null;function Fl(){Dl=gr=ki=null}function ma(e,t,n){In?(Ie(Ri,t._currentValue),t._currentValue=n):(Ie(Ri,t._currentValue2),t._currentValue2=n)}function Ul(e){var t=Ri.current;xe(Ri),In?e._currentValue=t:e._currentValue2=t}function Bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){ki=e,Dl=gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function Zt(e){var t=In?e._currentValue:e._currentValue2;if(Dl!==e)if(e={context:e,memoizedValue:t,next:null},gr===null){if(ki===null)throw Error(p(308));gr=e,ki.dependencies={lanes:0,firstContext:e}}else gr=gr.next=e;return t}var dn=null,On=!1;function jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t){var n=e.updateQueue;n!==null&&(n=n.shared,st!==null&&e.mode&1&&!(Le&2)?(e=n.interleaved,e===null?(t.next=t,dn===null?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(e=n.pending,e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nl(e,n)}}function ga(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var v={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=v:s=s.next=v,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var l=e.updateQueue;On=!1;var s=l.firstBaseUpdate,v=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var A=x,q=A.next;A.next=null,v===null?s=q:v.next=q,v=A;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,x=ce.lastBaseUpdate,x!==v&&(x===null?ce.firstBaseUpdate=q:x.next=q,ce.lastBaseUpdate=A))}if(s!==null){var Pe=l.baseState;v=0,ce=q=A=null,x=s;do{var Se=x.lane,Ve=x.eventTime;if((r&Se)===Se){ce!==null&&(ce=ce.next={eventTime:Ve,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ye=e,Ct=x;switch(Se=t,Ve=n,Ct.tag){case 1:if(ye=Ct.payload,typeof ye=="function"){Pe=ye.call(Ve,Pe,Se);break e}Pe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ct.payload,Se=typeof ye=="function"?ye.call(Ve,Pe,Se):ye,Se==null)break e;Pe=g({},Pe,Se);break e;case 2:On=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,Se=l.effects,Se===null?l.effects=[x]:Se.push(x))}else Ve={eventTime:Ve,lane:Se,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ce===null?(q=ce=Ve,A=Pe):ce=ce.next=Ve,v|=Se;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;Se=x,x=Se.next,Se.next=null,l.lastBaseUpdate=Se,l.shared.pending=null}}while(1);if(ce===null&&(A=Pe),l.baseState=A,l.firstBaseUpdate=q,l.lastBaseUpdate=ce,t=l.shared.interleaved,t!==null){l=t;do v|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Tr|=v,e.lanes=v,e.memoizedState=Pe}}function ya(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(p(191,l));l.call(r)}}}var wa=new a.Component().refs;function Hl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Li={isMounted:function(e){return(e=e._reactInternals)?H(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),l=Un(e),s=_n(r,l);s.payload=t,n!=null&&(s.callback=n),An(e,s),t=Kt(e,l,r),t!==null&&Ni(t,e,l)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),l=Un(e),s=_n(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),An(e,s),t=Kt(e,l,r),t!==null&&Ni(t,e,l)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=Un(e),l=_n(n,r);l.tag=2,t!=null&&(l.callback=t),An(e,l),t=Kt(e,r,n),t!==null&&Ni(t,e,r)}};function Sa(e,t,n,r,l,s,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,v):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(l,s):!0}function Ea(e,t,n){var r=!1,l=Fe,s=t.contextType;return typeof s=="object"&&s!==null?s=Zt(s):(l=at(t)?Je:Xe.current,r=t.contextTypes,s=(r=r!=null)?_t(e,l):Fe),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Li,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function _a(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function Wl(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=wa,jl(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Zt(s):(s=at(t)?Je:Xe.current,l.context=_t(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Hl(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Li.enqueueReplaceState(l,l.state,null),zi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}var wr=[],Sr=0,Oi=null,Ai=0,Qt=[],Yt=0,bn=null,xn=1,Mn="";function $n(e,t){wr[Sr++]=Ai,wr[Sr++]=Oi,Oi=e,Ai=t}function xa(e,t,n){Qt[Yt++]=xn,Qt[Yt++]=Mn,Qt[Yt++]=bn,bn=e;var r=xn;e=Mn;var l=32-et(r)-1;r&=~(1<<l),n+=1;var s=32-et(t)+l;if(30<s){var v=l-l%5;s=(r&(1<<v)-1).toString(32),r>>=v,l-=v,xn=1<<32-et(t)+l|n<<l|r,Mn=s+e}else xn=1<<s|n<<l|r,Mn=e}function Gl(e){e.return!==null&&($n(e,1),xa(e,1,0))}function Zl(e){for(;e===Oi;)Oi=wr[--Sr],wr[Sr]=null,Ai=wr[--Sr],wr[Sr]=null;for(;e===bn;)bn=Qt[--Yt],Qt[Yt]=null,Mn=Qt[--Yt],Qt[Yt]=null,xn=Qt[--Yt],Qt[Yt]=null}var Ft=null,Ut=null,tt=!1,Vr=!1,nn=null;function Ma(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:return t=Ln(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,Ft=e,Ut=Oe(t),!0):!1;case 6:return t=Cl(t,e.pendingProps),t!==null?(e.stateNode=t,Ft=e,Ut=null,!0):!1;case 13:if(t=Tl(t),t!==null){var n=bn!==null?{id:xn,overflow:Mn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ft=e,Ut=null,!0}return!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(tt){var t=Ut;if(t){var n=t;if(!Pa(e,t)){if(Ql(e))throw Error(p(418));t=en(n);var r=Ft;t&&Pa(e,t)?Ma(r,n):(e.flags=e.flags&-4097|2,tt=!1,Ft=e)}}else{if(Ql(e))throw Error(p(418));e.flags=e.flags&-4097|2,tt=!1,Ft=e}}}function Ca(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function Kr(e){if(!ft||e!==Ft)return!1;if(!tt)return Ca(e),tt=!0,!1;if(e.tag!==3&&(e.tag!==5||te(e.type)&&!ot(e.type,e.memoizedProps))){var t=Ut;if(t){if(Ql(e)){for(e=Ut;e;)e=en(e);throw Error(p(418))}for(;t;)Ma(e,t),t=en(t)}}if(Ca(e),e.tag===13){if(!ft)throw Error(p(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Ut=N(e)}else Ut=Ft?en(e.stateNode):null;return!0}function Er(){ft&&(Ut=Ft=null,Vr=tt=!1)}function Xl(e){nn===null?nn=[e]:nn.push(e)}function Jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(p(309));var r=n.stateNode}if(!r)throw Error(p(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(v){var x=l.refs;x===wa&&(x=l.refs={}),v===null?delete x[s]:x[s]=v},t._stringRef=s,t)}if(typeof e!="string")throw Error(p(284));if(!n._owner)throw Error(p(290,e))}return e}function Di(e,t){throw e=Object.prototype.toString.call(t),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ta(e){var t=e._init;return t(e._payload)}function Ia(e){function t(R,M){if(e){var z=R.deletions;z===null?(R.deletions=[M],R.flags|=16):z.push(M)}}function n(R,M){if(!e)return null;for(;M!==null;)t(R,M),M=M.sibling;return null}function r(R,M){for(R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function l(R,M){return R=jn(R,M),R.index=0,R.sibling=null,R}function s(R,M,z){return R.index=z,e?(z=R.alternate,z!==null?(z=z.index,z<M?(R.flags|=2,M):z):(R.flags|=2,M)):(R.flags|=1048576,M)}function v(R){return e&&R.alternate===null&&(R.flags|=2),R}function x(R,M,z,le){return M===null||M.tag!==6?(M=No(z,R.mode,le),M.return=R,M):(M=l(M,z),M.return=R,M)}function A(R,M,z,le){var ve=z.type;return ve===d?ce(R,M,z.props.children,le,z.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===F&&Ta(ve)===M.type)?(le=l(M,z.props),le.ref=Jr(R,M,z),le.return=R,le):(le=pl(z.type,z.key,z.props,null,R.mode,le),le.ref=Jr(R,M,z),le.return=R,le)}function q(R,M,z,le){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=zo(z,R.mode,le),M.return=R,M):(M=l(M,z.children||[]),M.return=R,M)}function ce(R,M,z,le,ve){return M===null||M.tag!==7?(M=or(z,R.mode,le,ve),M.return=R,M):(M=l(M,z),M.return=R,M)}function Pe(R,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return M=No(""+M,R.mode,z),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return z=pl(M.type,M.key,M.props,null,R.mode,z),z.ref=Jr(R,null,M),z.return=R,z;case _:return M=zo(M,R.mode,z),M.return=R,M;case F:var le=M._init;return Pe(R,le(M._payload),z)}if(ze(M)||B(M))return M=or(M,R.mode,z,null),M.return=R,M;Di(R,M)}return null}function Se(R,M,z,le){var ve=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:x(R,M,""+z,le);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===ve?A(R,M,z,le):null;case _:return z.key===ve?q(R,M,z,le):null;case F:return ve=z._init,Se(R,M,ve(z._payload),le)}if(ze(z)||B(z))return ve!==null?null:ce(R,M,z,le,null);Di(R,z)}return null}function Ve(R,M,z,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number")return R=R.get(z)||null,x(M,R,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return R=R.get(le.key===null?z:le.key)||null,A(M,R,le,ve);case _:return R=R.get(le.key===null?z:le.key)||null,q(M,R,le,ve);case F:var Ne=le._init;return Ve(R,M,z,Ne(le._payload),ve)}if(ze(le)||B(le))return R=R.get(z)||null,ce(M,R,le,ve,null);Di(M,le)}return null}function ye(R,M,z,le){for(var ve=null,Ne=null,Ce=M,He=M=0,gt=null;Ce!==null&&He<z.length;He++){Ce.index>He?(gt=Ce,Ce=null):gt=Ce.sibling;var We=Se(R,Ce,z[He],le);if(We===null){Ce===null&&(Ce=gt);break}e&&Ce&&We.alternate===null&&t(R,Ce),M=s(We,M,He),Ne===null?ve=We:Ne.sibling=We,Ne=We,Ce=gt}if(He===z.length)return n(R,Ce),tt&&$n(R,He),ve;if(Ce===null){for(;He<z.length;He++)Ce=Pe(R,z[He],le),Ce!==null&&(M=s(Ce,M,He),Ne===null?ve=Ce:Ne.sibling=Ce,Ne=Ce);return tt&&$n(R,He),ve}for(Ce=r(R,Ce);He<z.length;He++)gt=Ve(Ce,R,He,z[He],le),gt!==null&&(e&&gt.alternate!==null&&Ce.delete(gt.key===null?He:gt.key),M=s(gt,M,He),Ne===null?ve=gt:Ne.sibling=gt,Ne=gt);return e&&Ce.forEach(function(Hn){return t(R,Hn)}),tt&&$n(R,He),ve}function Ct(R,M,z,le){var ve=B(z);if(typeof ve!="function")throw Error(p(150));if(z=ve.call(z),z==null)throw Error(p(151));for(var Ne=ve=null,Ce=M,He=M=0,gt=null,We=z.next();Ce!==null&&!We.done;He++,We=z.next()){Ce.index>He?(gt=Ce,Ce=null):gt=Ce.sibling;var Hn=Se(R,Ce,We.value,le);if(Hn===null){Ce===null&&(Ce=gt);break}e&&Ce&&Hn.alternate===null&&t(R,Ce),M=s(Hn,M,He),Ne===null?ve=Hn:Ne.sibling=Hn,Ne=Hn,Ce=gt}if(We.done)return n(R,Ce),tt&&$n(R,He),ve;if(Ce===null){for(;!We.done;He++,We=z.next())We=Pe(R,We.value,le),We!==null&&(M=s(We,M,He),Ne===null?ve=We:Ne.sibling=We,Ne=We);return tt&&$n(R,He),ve}for(Ce=r(R,Ce);!We.done;He++,We=z.next())We=Ve(Ce,R,He,We.value,le),We!==null&&(e&&We.alternate!==null&&Ce.delete(We.key===null?He:We.key),M=s(We,M,He),Ne===null?ve=We:Ne.sibling=We,Ne=We);return e&&Ce.forEach(function(Gc){return t(R,Gc)}),tt&&$n(R,He),ve}function qt(R,M,z,le){if(typeof z=="object"&&z!==null&&z.type===d&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var ve=z.key,Ne=M;Ne!==null;){if(Ne.key===ve){if(ve=z.type,ve===d){if(Ne.tag===7){n(R,Ne.sibling),M=l(Ne,z.props.children),M.return=R,R=M;break e}}else if(Ne.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===F&&Ta(ve)===Ne.type){n(R,Ne.sibling),M=l(Ne,z.props),M.ref=Jr(R,Ne,z),M.return=R,R=M;break e}n(R,Ne);break}else t(R,Ne);Ne=Ne.sibling}z.type===d?(M=or(z.props.children,R.mode,le,z.key),M.return=R,R=M):(le=pl(z.type,z.key,z.props,null,R.mode,le),le.ref=Jr(R,M,z),le.return=R,R=le)}return v(R);case _:e:{for(Ne=z.key;M!==null;){if(M.key===Ne)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){n(R,M.sibling),M=l(M,z.children||[]),M.return=R,R=M;break e}else{n(R,M);break}else t(R,M);M=M.sibling}M=zo(z,R.mode,le),M.return=R,R=M}return v(R);case F:return Ne=z._init,qt(R,M,Ne(z._payload),le)}if(ze(z))return ye(R,M,z,le);if(B(z))return Ct(R,M,z,le);Di(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,M!==null&&M.tag===6?(n(R,M.sibling),M=l(M,z),M.return=R,R=M):(n(R,M),M=No(z,R.mode,le),M.return=R,R=M),v(R)):n(R,M)}return qt}var _r=Ia(!0),Ra=Ia(!1),qr={},Xt=De(qr),br=De(qr),xr=De(qr);function pn(e){if(e===qr)throw Error(p(174));return e}function Vl(e,t){Ie(xr,t),Ie(br,e),Ie(Xt,qr),e=be(t),xe(Xt),Ie(Xt,e)}function Mr(){xe(Xt),xe(br),xe(xr)}function ka(e){var t=pn(xr.current),n=pn(Xt.current);t=V(n,e.type,t),n!==t&&(Ie(br,e),Ie(Xt,t))}function Kl(e){br.current===e&&(xe(Xt),xe(br))}var nt=De(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Jn(n)||Qr(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function ql(){for(var e=0;e<Jl.length;e++){var t=Jl[e];In?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Jl.length=0}var Ui=y.ReactCurrentDispatcher,Vt=y.ReactCurrentBatchConfig,Pr=0,rt=null,xt=null,vt=null,Bi=!1,$r=!1,ei=0,hc=0;function Mt(){throw Error(p(321))}function bl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function $l(e,t,n,r,l,s){if(Pr=s,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ui.current=e===null||e.memoizedState===null?yc:wc,e=n(r,l),$r){s=0;do{if($r=!1,ei=0,25<=s)throw Error(p(301));s+=1,vt=xt=null,t.updateQueue=null,Ui.current=Sc,e=n(r,l)}while($r)}if(Ui.current=Zi,t=xt!==null&&xt.next!==null,Pr=0,vt=xt=rt=null,Bi=!1,t)throw Error(p(300));return e}function eo(){var e=ei!==0;return ei=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?rt.memoizedState=vt=e:vt=vt.next=e,vt}function hn(){if(xt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=vt===null?rt.memoizedState:vt.next;if(t!==null)vt=t,xt=e;else{if(e===null)throw Error(p(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},vt===null?rt.memoizedState=vt=e:vt=vt.next=e}return vt}function er(e,t){return typeof t=="function"?t(e):t}function ji(e){var t=hn(),n=t.queue;if(n===null)throw Error(p(311));n.lastRenderedReducer=e;var r=xt,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var v=l.next;l.next=s.next,s.next=v}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var x=v=null,A=null,q=s;do{var ce=q.lane;if((Pr&ce)===ce)A!==null&&(A=A.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),r=q.hasEagerState?q.eagerState:e(r,q.action);else{var Pe={lane:ce,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};A===null?(x=A=Pe,v=r):A=A.next=Pe,rt.lanes|=ce,Tr|=ce}q=q.next}while(q!==null&&q!==s);A===null?v=r:A.next=x,cn(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=v,t.baseQueue=A,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,rt.lanes|=s,Tr|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hi(e){var t=hn(),n=t.queue;if(n===null)throw Error(p(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var v=l=l.next;do s=e(s,v.action),v=v.next;while(v!==l);cn(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Na(){}function za(e,t){var n=rt,r=hn(),l=t(),s=!cn(r.memoizedState,l);if(s&&(r.memoizedState=l,Bt=!0),r=r.queue,ni(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,ti(9,Oa.bind(null,n,r,l,t),void 0,null),st===null)throw Error(p(349));Pr&30||La(n,t,l)}return l}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&Kt(e,1,-1)}function Aa(e,t,n){return n(function(){Da(t)&&Kt(e,1,-1)})}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function to(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},t.queue=e,e=e.dispatch=gc.bind(null,rt,e),[t.memoizedState,e]}function ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fa(){return hn().memoizedState}function Wi(e,t,n,r){var l=Pn();rt.flags|=e,l.memoizedState=ti(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var l=hn();r=r===void 0?null:r;var s=void 0;if(xt!==null){var v=xt.memoizedState;if(s=v.destroy,r!==null&&bl(r,v.deps)){l.memoizedState=ti(t,n,s,r);return}}rt.flags|=e,l.memoizedState=ti(1|t,n,s,r)}function no(e,t){return Wi(8390656,8,e,t)}function ni(e,t){return Gi(2048,8,e,t)}function Ua(e,t){return Gi(4,2,e,t)}function Ba(e,t){return Gi(4,4,e,t)}function ja(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ha(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,ja.bind(null,t,e),n)}function ro(){}function Wa(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ga(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mc(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=Vt.transition;Vt.transition={};try{e(!1),t()}finally{je=n,Vt.transition=r}}function Za(){return hn().memoizedState}function vc(e,t,n){var r=Un(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Ya(t,n):(Xa(e,t,n),n=Rt(),e=Kt(e,r,n),e!==null&&Va(e,t,r))}function gc(e,t,n){var r=Un(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,l);else{Xa(e,t,l);var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var v=t.lastRenderedState,x=s(v,n);if(l.hasEagerState=!0,l.eagerState=x,cn(x,v))return}catch{}finally{}n=Rt(),e=Kt(e,r,n),e!==null&&Va(e,t,r)}}function Qa(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function Ya(e,t){$r=Bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){st!==null&&e.mode&1&&!(Le&2)?(e=t.interleaved,e===null?(n.next=n,dn===null?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(e=t.pending,e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Va(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nl(e,n)}}var Zi={readContext:Zt,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},yc={readContext:Zt,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:no,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wi(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vc.bind(null,rt,e),[r.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:to,useDebugValue:ro,useDeferredValue:function(e){var t=to(e),n=t[0],r=t[1];return no(function(){var l=Vt.transition;Vt.transition={};try{r(e)}finally{Vt.transition=l}},[e]),n},useTransition:function(){var e=to(!1),t=e[0];return e=mc.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rt,l=Pn();if(tt){if(n===void 0)throw Error(p(407));n=n()}else{if(n=t(),st===null)throw Error(p(349));Pr&30||La(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,no(Aa.bind(null,r,s,e),[e]),r.flags|=2048,ti(9,Oa.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Pn(),t=st.identifierPrefix;if(tt){var n=Mn,r=xn;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wc={readContext:Zt,useCallback:Wa,useContext:Zt,useEffect:ni,useImperativeHandle:Ha,useInsertionEffect:Ua,useLayoutEffect:Ba,useMemo:Ga,useReducer:ji,useRef:Fa,useState:function(){return ji(er)},useDebugValue:ro,useDeferredValue:function(e){var t=ji(er),n=t[0],r=t[1];return ni(function(){var l=Vt.transition;Vt.transition={};try{r(e)}finally{Vt.transition=l}},[e]),n},useTransition:function(){var e=ji(er)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Na,useSyncExternalStore:za,useId:Za,unstable_isNewReconciler:!1},Sc={readContext:Zt,useCallback:Wa,useContext:Zt,useEffect:ni,useImperativeHandle:Ha,useInsertionEffect:Ua,useLayoutEffect:Ba,useMemo:Ga,useReducer:Hi,useRef:Fa,useState:function(){return Hi(er)},useDebugValue:ro,useDeferredValue:function(e){var t=Hi(er),n=t[0],r=t[1];return ni(function(){var l=Vt.transition;Vt.transition={};try{r(e)}finally{Vt.transition=l}},[e]),n},useTransition:function(){var e=Hi(er)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Na,useSyncExternalStore:za,useId:Za,unstable_isNewReconciler:!1};function io(e,t){try{var n="",r=t;do n+=pc(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l}}function lo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ec=typeof WeakMap=="function"?WeakMap:Map;function Ka(e,t,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ol||(ol=!0,Mo=r),lo(e,t)},n}function Ja(e,t,n){n=_n(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){lo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lo(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),n}function qa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ec;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function ba(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $a(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_n(-1,1),t.tag=2,An(n,t))),n.lanes|=1),e)}function mn(e){e.flags|=4}function es(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var ri,ii,Qi,Yi;if(Et)ri=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)me(e,n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ii=function(){},Qi=function(e,t,n,r,l){if(e=e.memoizedProps,e!==r){var s=t.stateNode,v=pn(Xt.current);n=Ye(s,n,e,r,l,v),(t.updateQueue=n)&&mn(t)}},Yi=function(e,t,n,r){n!==r&&mn(t)};else if(gn){ri=function(e,t,n,r){for(var l=t.child;l!==null;){if(l.tag===5){var s=l.stateNode;n&&r&&(s=on(s,l.type,l.memoizedProps,l)),me(e,s)}else if(l.tag===6)s=l.stateNode,n&&r&&(s=an(s,l.memoizedProps,l)),me(e,s);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)s=l.child,s!==null&&(s.return=l),ri(e,l,!0,!0);else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};var ts=function(e,t,n,r){for(var l=t.child;l!==null;){if(l.tag===5){var s=l.stateNode;n&&r&&(s=on(s,l.type,l.memoizedProps,l)),kt(e,s)}else if(l.tag===6)s=l.stateNode,n&&r&&(s=an(s,l.memoizedProps,l)),kt(e,s);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)s=l.child,s!==null&&(s.return=l),ts(e,l,!0,!0);else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};ii=function(e,t){var n=t.stateNode;if(!es(e,t)){e=n.containerInfo;var r=Kn(e);ts(r,t,!1,!1),n.pendingChildren=r,mn(t),Dt(e,r)}},Qi=function(e,t,n,r,l){var s=e.stateNode,v=e.memoizedProps;if((e=es(e,t))&&v===r)t.stateNode=s;else{var x=t.stateNode,A=pn(Xt.current),q=null;v!==r&&(q=Ye(x,n,v,r,l,A)),e&&q===null?t.stateNode=s:(s=Ei(s,q,n,v,r,t,e,x),_e(s,n,r,l,A)&&mn(t),t.stateNode=s,e?mn(t):ri(s,t,!1,!1))}},Yi=function(e,t,n,r){n!==r?(e=pn(xr.current),n=pn(Xt.current),t.stateNode=Re(r,e,n,t),mn(t)):t.stateNode=e.stateNode}}else ii=function(){},Qi=function(){},Yi=function(){};function li(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _c(e,t,n){var r=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return at(t.type)&&wt(),Pt(t),null;case 3:return r=t.stateNode,Mr(),xe(ke),xe(Xe),ql(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(To(nn),nn=null))),ii(e,t),Pt(t),null;case 5:Kl(t),n=pn(xr.current);var l=t.type;if(e!==null&&t.stateNode!=null)Qi(e,t,l,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(p(166));return Pt(t),null}if(e=pn(Xt.current),Kr(t)){if(!ft)throw Error(p(175));e=c(t.stateNode,t.type,t.memoizedProps,n,e,t,!Vr),t.updateQueue=e,e!==null&&mn(t)}else{var s=he(l,r,n,e,t);ri(s,t,!1,!1),t.stateNode=s,_e(s,l,r,n,e)&&mn(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Yi(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(p(166));if(e=pn(xr.current),n=pn(Xt.current),Kr(t)){if(!ft)throw Error(p(176));if(e=t.stateNode,r=t.memoizedProps,(n=f(e,r,t,!Vr))&&(l=Ft,l!==null))switch(s=(l.mode&1)!==0,l.tag){case 3:ee(l.stateNode.containerInfo,e,r,s);break;case 5:ne(l.type,l.memoizedProps,l.stateNode,e,r,s)}n&&mn(t)}else t.stateNode=Re(r,e,n,t)}return Pt(t),null;case 13:if(xe(nt),r=t.memoizedState,tt&&Ut!==null&&t.mode&1&&!(t.flags&128)){for(e=Ut;e;)e=en(e);return Er(),t.flags|=98560,t}if(r!==null&&r.dehydrated!==null){if(r=Kr(t),e===null){if(!r)throw Error(p(318));if(!ft)throw Error(p(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));S(e,t)}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return Pt(t),null}return nn!==null&&(To(nn),nn=null),t.flags&128?(t.lanes=n,t):(r=r!==null,n=!1,e===null?Kr(t):n=e.memoizedState!==null,r&&!n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?ht===0&&(ht=3):Ro())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Mr(),ii(e,t),e===null&&cr(t.stateNode.containerInfo),Pt(t),null;case 10:return Ul(t.type._context),Pt(t),null;case 17:return at(t.type)&&wt(),Pt(t),null;case 19:if(xe(nt),l=t.memoizedState,l===null)return Pt(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)li(l,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Fi(e),s!==null){for(t.flags|=128,li(l,!1),e=s.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;r!==null;)n=r,l=e,n.flags&=14680066,s=n.alternate,s===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,l=s.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r=r.sibling;return Ie(nt,nt.current&1|2),t.child}e=e.sibling}l.tail!==null&&mt()>xo&&(t.flags|=128,r=!0,li(l,!1),t.lanes=4194304)}else{if(!r)if(e=Fi(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!tt)return Pt(t),null}else 2*mt()-l.renderingStartTime>xo&&n!==1073741824&&(t.flags|=128,r=!0,li(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=mt(),t.sibling=null,e=nt.current,Ie(nt,r?e&1|2:e&1),t):(Pt(t),null);case 22:case 23:return Io(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jt&1073741824&&(Pt(t),Et&&t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(p(156,t.tag))}var xc=y.ReactCurrentOwner,Bt=!1;function It(e,t,n,r){t.child=e===null?Ra(t,null,n,r):_r(t,e.child,n,r)}function ns(e,t,n,r,l){n=n.render;var s=t.ref;return yr(t,l),r=$l(e,t,n,r,s,l),n=eo(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Cn(e,t,l)):(tt&&n&&Gl(t),t.flags|=1,It(e,t,r,l),t.child)}function rs(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!ko(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,is(e,t,s,r,l)):(e=pl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var v=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(v,r)&&e.ref===t.ref)return Cn(e,t,l)}return t.flags|=1,e=jn(s,r),e.ref=t.ref,e.return=t,t.child=e}function is(e,t,n,r,l){if(e!==null&&Ii(e.memoizedProps,r)&&e.ref===t.ref)if(Bt=!1,(e.lanes&l)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,Cn(e,t,l);return oo(e,t,n,r,l)}function ls(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},Ie(Cr,jt),jt|=n;else if(n&1073741824)t.memoizedState={baseLanes:0,cachePool:null},r=s!==null?s.baseLanes:n,Ie(Cr,jt),jt|=r;else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ie(Cr,jt),jt|=e,null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ie(Cr,jt),jt|=r;return It(e,t,l,n),t.child}function os(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oo(e,t,n,r,l){var s=at(n)?Je:Xe.current;return s=_t(t,s),yr(t,l),n=$l(e,t,n,r,s,l),r=eo(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Cn(e,t,l)):(tt&&r&&Gl(t),t.flags|=1,It(e,t,n,l),t.child)}function as(e,t,n,r,l){if(at(n)){var s=!0;Qe(t)}else s=!1;if(yr(t,l),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Ea(t,n,r),Wl(t,n,r,l),r=!0;else if(e===null){var v=t.stateNode,x=t.memoizedProps;v.props=x;var A=v.context,q=n.contextType;typeof q=="object"&&q!==null?q=Zt(q):(q=at(n)?Je:Xe.current,q=_t(t,q));var ce=n.getDerivedStateFromProps,Pe=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function";Pe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==r||A!==q)&&_a(t,v,r,q),On=!1;var Se=t.memoizedState;v.state=Se,zi(t,r,v,l),A=t.memoizedState,x!==r||Se!==A||ke.current||On?(typeof ce=="function"&&(Hl(t,n,ce,r),A=t.memoizedState),(x=On||Sa(t,n,x,r,Se,A,q))?(Pe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),v.props=r,v.state=A,v.context=q,r=x):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{v=t.stateNode,va(e,t),x=t.memoizedProps,q=t.type===t.elementType?x:tn(t.type,x),v.props=q,Pe=t.pendingProps,Se=v.context,A=n.contextType,typeof A=="object"&&A!==null?A=Zt(A):(A=at(n)?Je:Xe.current,A=_t(t,A));var Ve=n.getDerivedStateFromProps;(ce=typeof Ve=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==Pe||Se!==A)&&_a(t,v,r,A),On=!1,Se=t.memoizedState,v.state=Se,zi(t,r,v,l);var ye=t.memoizedState;x!==Pe||Se!==ye||ke.current||On?(typeof Ve=="function"&&(Hl(t,n,Ve,r),ye=t.memoizedState),(q=On||Sa(t,n,q,r,Se,ye,A)||!1)?(ce||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(r,ye,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(r,ye,A)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===e.memoizedProps&&Se===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Se===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ye),v.props=r,v.state=ye,v.context=A,r=q):(typeof v.componentDidUpdate!="function"||x===e.memoizedProps&&Se===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Se===e.memoizedState||(t.flags|=1024),r=!1)}return ao(e,t,n,r,s,l)}function ao(e,t,n,r,l,s){os(e,t);var v=(t.flags&128)!==0;if(!r&&!v)return l&&Be(t,n,!1),Cn(e,t,s);r=t.stateNode,xc.current=t;var x=v&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&v?(t.child=_r(t,e.child,null,s),t.child=_r(t,null,x,s)):It(e,t,x,s),t.memoizedState=r.state,l&&Be(t,n,!0),t.child}function ss(e){var t=e.stateNode;t.pendingContext?Ge(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ge(e,t.context,!1),Vl(e,t.containerInfo)}function us(e,t,n,r,l){return Er(),Xl(l),t.flags|=256,It(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Vi(e){return{baseLanes:e,cachePool:null}}function cs(e,t,n){var r=t.pendingProps,l=nt.current,s=!1,v=(t.flags&128)!==0,x;if((x=v)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ie(nt,l&1),e===null)return Yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?Qr(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=hl(l,r,0,null),e=or(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vi(n),t.memoizedState=Xi,e):so(t,l));if(l=e.memoizedState,l!==null){if(x=l.dehydrated,x!==null){if(v)return t.flags&256?(t.flags&=-257,Ki(e,t,n,Error(p(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=hl({mode:"visible",children:r.children},l,0,null),s=or(s,l,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&_r(t,e.child,null,n),t.child.memoizedState=Vi(n),t.memoizedState=Xi,s);if(!(t.mode&1))t=Ki(e,t,n,null);else if(Qr(x))t=Ki(e,t,n,Error(p(419)));else if(r=(n&e.childLanes)!==0,Bt||r){if(r=st,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=s&(r.suspendedLanes|n)?0:s,r!==0&&r!==l.retryLane&&(l.retryLane=r,Kt(e,r,-1))}Ro(),t=Ki(e,t,n,Error(p(421)))}else Jn(x)?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),qn(x,t),t=null):(n=l.treeContext,ft&&(Ut=Il(x),Ft=t,tt=!0,nn=null,Vr=!1,n!==null&&(Qt[Yt++]=xn,Qt[Yt++]=Mn,Qt[Yt++]=bn,xn=n.id,Mn=n.overflow,bn=t)),t=so(t,t.pendingProps.children),t.flags|=4096);return t}return s?(r=ds(e,t,r.children,r.fallback,n),s=t.child,l=e.child.memoizedState,s.memoizedState=l===null?Vi(n):{baseLanes:l.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,r):(n=fs(e,t,r.children,n),t.memoizedState=null,n)}return s?(r=ds(e,t,r.children,r.fallback,n),s=t.child,l=e.child.memoizedState,s.memoizedState=l===null?Vi(n):{baseLanes:l.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,r):(n=fs(e,t,r.children,n),t.memoizedState=null,n)}function so(e,t){return t=hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fs(e,t,n,r){var l=e.child;return e=l.sibling,n=jn(l,{mode:"visible",children:n}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ds(e,t,n,r,l){var s=t.mode;e=e.child;var v=e.sibling,x={mode:"hidden",children:n};return!(s&1)&&t.child!==e?(n=t.child,n.childLanes=0,n.pendingProps=x,t.deletions=null):(n=jn(e,x),n.subtreeFlags=e.subtreeFlags&14680064),v!==null?r=jn(v,r):(r=or(r,s,l,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ki(e,t,n,r){return r!==null&&Xl(r),_r(t,e.child,null,n),e=so(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ps(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bl(e.return,t,n)}function uo(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function hs(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(It(e,t,r.children,n),r=nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ps(e,n,t);else if(e.tag===19)ps(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ie(nt,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Fi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),uo(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Fi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}uo(t,!0,n,null,s);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(p(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mc(e,t,n){switch(t.tag){case 3:ss(t),Er();break;case 5:ka(t);break;case 1:at(t.type)&&Qe(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:ma(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ie(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?cs(e,t,n):(Ie(nt,nt.current&1),e=Cn(e,t,n),e!==null?e.sibling:null);Ie(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hs(e,t,n);t.flags|=128}var l=t.memoizedState;if(l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ie(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,ls(e,t,n)}return Cn(e,t,n)}function Pc(e,t){switch(Zl(t),t.tag){case 1:return at(t.type)&&wt(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),xe(ke),xe(Xe),ql(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kl(t),null;case 13:if(xe(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(p(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(nt),null;case 4:return Mr(),null;case 10:return Ul(t.type._context),null;case 22:case 23:return Io(),null;case 24:return null;default:return null}}var Ji=!1,tr=!1,Cc=typeof WeakSet=="function"?WeakSet:Set,ie=null;function qi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(e,t,r)}else n.current=null}function co(e,t,n){try{n()}catch(r){Lt(e,t,r)}}var ms=!1;function Tc(e,t){for(oe(e.containerInfo),ie=t;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var n=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(n!==null){var r=n.memoizedProps,l=n.memoizedState,s=e.stateNode,v=s.getSnapshotBeforeUpdate(e.elementType===e.type?r:tn(e.type,r),l);s.__reactInternalSnapshotBeforeUpdate=v}break;case 3:Et&&Gt(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(x){Lt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return n=ms,ms=!1,n}function nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&co(t,n,s)}l=l.next}while(l!==r)}}function oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=we(n);break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vs(e,t,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Ci,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var l=r,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&co(t,n,s),r=r.next}while(r!==e)}break;case 1:if(qi(t,n),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(v){Lt(t,n,v)}break;case 5:qi(t,n);break;case 4:Et?_s(e,t,n):gn&&gn&&(t=t.stateNode.containerInfo,n=Kn(t),ln(t,n))}}function gs(e,t,n){for(var r=t;;)if(vs(e,r,n),r.child===null||Et&&r.tag===4){if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ys(e){var t=e.alternate;t!==null&&(e.alternate=null,ys(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ws(e){return e.tag===5||e.tag===3||e.tag===4}function Ss(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ws(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Es(e){if(Et){e:{for(var t=e.return;t!==null;){if(ws(t))break e;t=t.return}throw Error(p(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,n.flags&32&&(Y(t),n.flags&=-33),n=Ss(e),ho(e,n,t);break;case 3:case 4:t=n.stateNode.containerInfo,n=Ss(e),po(e,n,t);break;default:throw Error(p(161))}}}function po(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?dt(n,e,t):Nn(n,e);else if(r!==4&&(e=e.child,e!==null))for(po(e,t,n),e=e.sibling;e!==null;)po(e,t,n),e=e.sibling}function ho(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?wn(n,e,t):kn(n,e);else if(r!==4&&(e=e.child,e!==null))for(ho(e,t,n),e=e.sibling;e!==null;)ho(e,t,n),e=e.sibling}function _s(e,t,n){for(var r=t,l=!1,s,v;;){if(!l){l=r.return;e:for(;;){if(l===null)throw Error(p(160));switch(s=l.stateNode,l.tag){case 5:v=!1;break e;case 3:s=s.containerInfo,v=!0;break e;case 4:s=s.containerInfo,v=!0;break e}l=l.return}l=!0}if(r.tag===5||r.tag===6)gs(e,r,n),v?P(s,r.stateNode):zn(s,r.stateNode);else if(r.tag===18)v?Z(s,r.stateNode):J(s,r.stateNode);else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,v=!0,r.child.return=r,r=r.child;continue}}else if(vs(e,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(l=!1)}r.sibling.return=r.return,r=r.sibling}}function mo(e,t){if(Et){switch(t.tag){case 0:case 11:case 14:case 15:nr(3,t,t.return),oi(3,t),nr(5,t,t.return);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var r=t.memoizedProps;e=e!==null?e.memoizedProps:r;var l=t.type,s=t.updateQueue;t.updateQueue=null,s!==null&&Zr(n,s,l,e,r,t)}return;case 6:if(t.stateNode===null)throw Error(p(162));n=t.memoizedProps,Gr(t.stateNode,e!==null?e.memoizedProps:n,n);return;case 3:ft&&e!==null&&e.memoizedState.isDehydrated&&L(t.stateNode.containerInfo);return;case 12:return;case 13:bi(t);return;case 19:bi(t);return;case 17:return}throw Error(p(163))}switch(t.tag){case 0:case 11:case 14:case 15:nr(3,t,t.return),oi(3,t),nr(5,t,t.return);return;case 12:return;case 13:bi(t);return;case 19:bi(t);return;case 3:ft&&e!==null&&e.memoizedState.isDehydrated&&L(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(gn){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,ln(t.containerInfo,t.pendingChildren);break e}throw Error(p(163))}}function bi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cc),t.forEach(function(r){var l=Fc.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ic(e,t){for(ie=t;ie!==null;){t=ie;var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e;Et?_s(s,l,t):gs(s,l,t);var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(ve){Lt(l,t,ve)}}if(n=t.child,t.subtreeFlags&12854&&n!==null)n.return=t,ie=n;else for(;ie!==null;){t=ie;try{var x=t.flags;if(x&32&&Et&&Y(t.stateNode),x&512){var A=t.alternate;if(A!==null){var q=A.ref;q!==null&&(typeof q=="function"?q(null):q.current=null)}}if(x&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var ce=t.alternate;(ce===null||ce.memoizedState===null)&&(_o=mt())}break;case 22:var Pe=t.memoizedState!==null,Se=t.alternate,Ve=Se!==null&&Se.memoizedState!==null;if(n=t,Et){e:if(r=n,l=Pe,s=null,Et)for(var ye=r;;){if(ye.tag===5){if(s===null){s=ye;var Ct=ye.stateNode;l?ue(Ct):b(ye.stateNode,ye.memoizedProps)}}else if(ye.tag===6){if(s===null){var qt=ye.stateNode;l?Ae(qt):yt(qt,ye.memoizedProps)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===r)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===r)break;for(;ye.sibling===null;){if(ye.return===null||ye.return===r)break e;s===ye&&(s=null),ye=ye.return}s===ye&&(s=null),ye.sibling.return=ye.return,ye=ye.sibling}}if(Pe&&!Ve&&n.mode&1){ie=n;for(var R=n.child;R!==null;){for(n=ie=R;ie!==null;){r=ie;var M=r.child;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return);break;case 1:qi(r,r.return);var z=r.stateNode;if(typeof z.componentWillUnmount=="function"){var le=r.return;try{z.props=r.memoizedProps,z.state=r.memoizedState,z.componentWillUnmount()}catch(ve){Lt(r,le,ve)}}break;case 5:qi(r,r.return);break;case 22:if(r.memoizedState!==null){Ps(n);continue}}M!==null?(M.return=r,ie=M):Ps(n)}R=R.sibling}}}switch(x&4102){case 2:Es(t),t.flags&=-3;break;case 6:Es(t),t.flags&=-3,mo(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,mo(t.alternate,t);break;case 4:mo(t.alternate,t)}}catch(ve){Lt(t,t.return,ve)}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}}function Rc(e,t,n){ie=e,xs(e)}function xs(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var l=ie,s=l.child;if(l.tag===22&&r){var v=l.memoizedState!==null||Ji;if(!v){var x=l.alternate,A=x!==null&&x.memoizedState!==null||tr;x=Ji;var q=tr;if(Ji=v,(tr=A)&&!q)for(ie=l;ie!==null;)v=ie,A=v.child,v.tag===22&&v.memoizedState!==null?Cs(l):A!==null?(A.return=v,ie=A):Cs(l);for(;s!==null;)ie=s,xs(s),s=s.sibling;ie=l,Ji=x,tr=q}Ms(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,ie=s):Ms(e)}}function Ms(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||oi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tr)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ya(t,s,r);break;case 3:var v=t.updateQueue;if(v!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=we(t.child.stateNode);break;case 1:n=t.child.stateNode}ya(t,v,n)}break;case 5:var x=t.stateNode;n===null&&t.flags&4&&vr(x,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(ft&&t.memoizedState===null){var A=t.alternate;if(A!==null){var q=A.memoizedState;if(q!==null){var ce=q.dehydrated;ce!==null&&O(ce)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(p(163))}tr||t.flags&512&&fo(t)}catch(Pe){Lt(t,t.return,Pe)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Ps(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Cs(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oi(4,t)}catch(A){Lt(t,n,A)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(A){Lt(t,l,A)}}var s=t.return;try{fo(t)}catch(A){Lt(t,s,A)}break;case 5:var v=t.return;try{fo(t)}catch(A){Lt(t,v,A)}}}catch(A){Lt(t,t.return,A)}if(t===e){ie=null;break}var x=t.sibling;if(x!==null){x.return=t.return,ie=x;break}ie=t.return}}var $i=0,el=1,tl=2,nl=3,rl=4;if(typeof Symbol=="function"&&Symbol.for){var ai=Symbol.for;$i=ai("selector.component"),el=ai("selector.has_pseudo_class"),tl=ai("selector.role"),nl=ai("selector.test_id"),rl=ai("selector.text")}function vo(e){var t=Xn(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(p(364));return t}if(e=Hr(e),e===null)throw Error(p(362));return e.stateNode.current}function go(e,t){switch(t.$$typeof){case $i:if(e.type===t.value)return!0;break;case el:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],l=e[n++],s=t[l];if(r.tag!==5||!At(r)){for(;s!=null&&go(r,s);)l++,s=t[l];if(l===t.length){t=!0;break e}else for(r=r.child;r!==null;)e.push(r,l),r=r.sibling}}t=!1}return t;case tl:if(e.tag===5&&Vn(e.stateNode,t.value))return!0;break;case rl:if((e.tag===5||e.tag===6)&&(e=Rn(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case nl:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(p(365))}return!1}function yo(e){switch(e.$$typeof){case $i:return"<"+(se(e.value)||"Unknown")+">";case el:return":has("+(yo(e)||"")+")";case tl:return'[role="'+e.value+'"]';case rl:return'"'+e.value+'"';case nl:return'[data-testname="'+e.value+'"]';default:throw Error(p(365))}}function Ts(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var l=e[r++],s=e[r++],v=t[s];if(l.tag!==5||!At(l)){for(;v!=null&&go(l,v);)s++,v=t[s];if(s===t.length)n.push(l);else for(l=l.child;l!==null;)e.push(l,s),l=l.sibling}}return n}function wo(e,t){if(!yn)throw Error(p(363));e=vo(e),e=Ts(e,t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(r.tag===5)At(r)||t.push(r.stateNode);else for(r=r.child;r!==null;)e.push(r),r=r.sibling}return t}var kc=Math.ceil,il=y.ReactCurrentDispatcher,So=y.ReactCurrentOwner,it=y.ReactCurrentBatchConfig,Le=0,st=null,ut=null,St=0,jt=0,Cr=De(0),ht=0,si=null,Tr=0,ll=0,Eo=0,ui=null,Nt=null,_o=0,xo=1/0;function Ir(){xo=mt()+500}var ol=!1,Mo=null,Dn=null,al=!1,Fn=null,sl=0,ci=0,Po=null,ul=-1,cl=0;function Rt(){return Le&6?mt():ul!==-1?ul:ul=mt()}function Un(e){return e.mode&1?Le&2&&St!==0?St&-St:dc.transition!==null?(cl===0&&(e=xi,xi<<=1,!(xi&4194240)&&(xi=64),cl=e),cl):(e=je,e!==0?e:jr()):1}function Kt(e,t,n){if(50<ci)throw ci=0,Po=null,Error(p(185));var r=fl(e,t);return r===null?null:(Xr(r,t,n),(!(Le&2)||r!==st)&&(r===st&&(!(Le&2)&&(ll|=t),ht===4&&Bn(r,St)),zt(r,n),t===1&&Le===0&&!(e.mode&1)&&(Ir(),Ti&&fn())),r)}function fl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function zt(e,t){var n=e.callbackNode;rc(e,t);var r=Pi(e,e===st?St:0);if(r===0)n!==null&&pa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pa(n),t===1)e.tag===0?fc(Rs.bind(null,e)):ha(Rs.bind(null,e)),dr?pr(function(){Le===0&&fn()}):zl(Ll,fn),n=null;else{switch(da(r)){case 1:n=Ll;break;case 4:n=ac;break;case 16:n=Ol;break;case 536870912:n=sc;break;default:n=Ol}n=Us(n,Is.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Is(e,t){if(ul=-1,cl=0,Le&6)throw Error(p(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var r=Pi(e,e===st?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dl(e,r);else{t=r;var l=Le;Le|=2;var s=zs();(st!==e||St!==t)&&(Ir(),rr(e,t));do try{Lc();break}catch(x){Ns(e,x)}while(1);Fl(),il.current=s,Le=l,ut!==null?t=0:(st=null,St=0,t=ht)}if(t!==0){if(t===2&&(l=Rl(e),l!==0&&(r=l,t=Co(e,l))),t===1)throw n=si,rr(e,0),Bn(e,r),zt(e,mt()),n;if(t===6)Bn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Nc(l)&&(t=dl(e,r),t===2&&(s=Rl(e),s!==0&&(r=s,t=Co(e,s))),t===1))throw n=si,rr(e,0),Bn(e,r),zt(e,mt()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(p(345));case 2:ir(e,Nt);break;case 3:if(Bn(e,r),(r&130023424)===r&&(t=_o+500-mt(),10<t)){if(Pi(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ct(ir.bind(null,e,Nt),t);break}ir(e,Nt);break;case 4:if(Bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var v=31-et(r);s=1<<v,v=t[v],v>l&&(l=v),r&=~s}if(r=l,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kc(r/1960))-r,10<r){e.timeoutHandle=ct(ir.bind(null,e,Nt),r);break}ir(e,Nt);break;case 5:ir(e,Nt);break;default:throw Error(p(329))}}}return zt(e,mt()),e.callbackNode===n?Is.bind(null,e):null}function Co(e,t){var n=ui;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=dl(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&To(t)),e}function To(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function Nc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!cn(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~Eo,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function Rs(e){if(Le&6)throw Error(p(327));lr();var t=Pi(e,0);if(!(t&1))return zt(e,mt()),null;var n=dl(e,t);if(e.tag!==0&&n===2){var r=Rl(e);r!==0&&(t=r,n=Co(e,r))}if(n===1)throw n=si,rr(e,0),Bn(e,t),zt(e,mt()),n;if(n===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,Nt),zt(e,mt()),null}function ks(e){Fn!==null&&Fn.tag===0&&!(Le&6)&&lr();var t=Le;Le|=1;var n=it.transition,r=je;try{if(it.transition=null,je=1,e)return e()}finally{je=r,it.transition=n,Le=t,!(Le&6)&&fn()}}function Io(){jt=Cr.current,xe(Cr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Yn&&(e.timeoutHandle=Yn,Ot(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Zl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wt();break;case 3:Mr(),xe(ke),xe(Xe),ql();break;case 5:Kl(r);break;case 4:Mr();break;case 13:xe(nt);break;case 19:xe(nt);break;case 10:Ul(r.type._context);break;case 22:case 23:Io()}n=n.return}if(st=e,ut=e=jn(e.current,null),St=jt=t,ht=0,si=null,Eo=ll=Tr=0,Nt=ui=null,dn!==null){for(t=0;t<dn.length;t++)if(n=dn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var v=s.next;s.next=l,r.next=v}n.pending=r}dn=null}return e}function Ns(e,t){do{var n=ut;try{if(Fl(),Ui.current=Zi,Bi){for(var r=rt.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Bi=!1}if(Pr=0,vt=xt=rt=null,$r=!1,ei=0,So.current=null,n===null||n.return===null){ht=1,si=t,ut=null;break}e:{var s=e,v=n.return,x=n,A=t;if(t=St,x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=A,ce=x,Pe=ce.tag;if(!(ce.mode&1)&&(Pe===0||Pe===11||Pe===15)){var Se=ce.alternate;Se?(ce.updateQueue=Se.updateQueue,ce.memoizedState=Se.memoizedState,ce.lanes=Se.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ve=ba(v);if(Ve!==null){Ve.flags&=-257,$a(Ve,v,x,s,t),Ve.mode&1&&qa(s,q,t),t=Ve,A=q;var ye=t.updateQueue;if(ye===null){var Ct=new Set;Ct.add(A),t.updateQueue=Ct}else ye.add(A);break e}else{if(!(t&1)){qa(s,q,t),Ro();break e}A=Error(p(426))}}else if(tt&&x.mode&1){var qt=ba(v);if(qt!==null){!(qt.flags&65536)&&(qt.flags|=256),$a(qt,v,x,s,t),Xl(A);break e}}s=A,ht!==4&&(ht=2),ui===null?ui=[s]:ui.push(s),A=io(A,x),x=v;do{switch(x.tag){case 3:x.flags|=65536,t&=-t,x.lanes|=t;var R=Ka(x,A,t);ga(x,R);break e;case 1:s=A;var M=x.type,z=x.stateNode;if(!(x.flags&128)&&(typeof M.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Dn===null||!Dn.has(z)))){x.flags|=65536,t&=-t,x.lanes|=t;var le=Ja(x,s,t);ga(x,le);break e}}x=x.return}while(x!==null)}Os(n)}catch(ve){t=ve,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function zs(){var e=il.current;return il.current=Zi,e===null?Zi:e}function Ro(){(ht===0||ht===3||ht===2)&&(ht=4),st===null||!(Tr&268435455)&&!(ll&268435455)||Bn(st,St)}function dl(e,t){var n=Le;Le|=2;var r=zs();st===e&&St===t||rr(e,t);do try{zc();break}catch(l){Ns(e,l)}while(1);if(Fl(),Le=n,il.current=r,ut!==null)throw Error(p(261));return st=null,St=0,ht}function zc(){for(;ut!==null;)Ls(ut)}function Lc(){for(;ut!==null&&!lc();)Ls(ut)}function Ls(e){var t=Fs(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?Os(e):ut=t,So.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pc(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,ut=null;return}}else if(n=_c(n,t,jt),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);ht===0&&(ht=5)}function ir(e,t){var n=je,r=it.transition;try{it.transition=null,je=1,Oc(e,t,n)}finally{it.transition=r,je=n}return null}function Oc(e,t,n){do lr();while(Fn!==null);if(Le&6)throw Error(p(327));var r=e.finishedWork,l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(ic(e,s),e===st&&(ut=st=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||al||(al=!0,Us(Ol,function(){return lr(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=it.transition,it.transition=null;var v=je;je=1;var x=Le;Le|=4,So.current=null,Tc(e,r),Ic(e,r),K(e.containerInfo),e.current=r,Rc(r),oc(),Le=x,je=v,it.transition=s}else e.current=r;if(al&&(al=!1,Fn=e,sl=l),s=e.pendingLanes,s===0&&(Dn=null),uc(r.stateNode),zt(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(ol)throw ol=!1,e=Mo,Mo=null,e;return sl&1&&e.tag!==0&&lr(),s=e.pendingLanes,s&1?e===Po?ci++:(ci=0,Po=e):ci=0,fn(),null}function lr(){if(Fn!==null){var e=da(sl),t=it.transition,n=je;try{if(it.transition=null,je=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,sl=0,Le&6)throw Error(p(331));var l=Le;for(Le|=4,ie=e.current;ie!==null;){var s=ie,v=s.child;if(ie.flags&16){var x=s.deletions;if(x!==null){for(var A=0;A<x.length;A++){var q=x[A];for(ie=q;ie!==null;){var ce=ie;switch(ce.tag){case 0:case 11:case 15:nr(8,ce,s)}var Pe=ce.child;if(Pe!==null)Pe.return=ce,ie=Pe;else for(;ie!==null;){ce=ie;var Se=ce.sibling,Ve=ce.return;if(ys(ce),ce===q){ie=null;break}if(Se!==null){Se.return=Ve,ie=Se;break}ie=Ve}}}var ye=s.alternate;if(ye!==null){var Ct=ye.child;if(Ct!==null){ye.child=null;do{var qt=Ct.sibling;Ct.sibling=null,Ct=qt}while(Ct!==null)}}ie=s}}if(s.subtreeFlags&2064&&v!==null)v.return=s,ie=v;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nr(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,ie=R;break e}ie=s.return}}var M=e.current;for(ie=M;ie!==null;){v=ie;var z=v.child;if(v.subtreeFlags&2064&&z!==null)z.return=v,ie=z;else e:for(v=M;ie!==null;){if(x=ie,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:oi(9,x)}}catch(ve){Lt(x,x.return,ve)}if(x===v){ie=null;break e}var le=x.sibling;if(le!==null){le.return=x.return,ie=le;break e}ie=x.return}}if(Le=l,fn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Ci,e)}catch{}r=!0}return r}finally{je=n,it.transition=t}}return!1}function As(e,t,n){t=io(n,t),t=Ka(e,t,1),An(e,t),t=Rt(),e=fl(e,1),e!==null&&(Xr(e,1,t),zt(e,t))}function Lt(e,t,n){if(e.tag===3)As(e,e,n);else for(;t!==null;){if(t.tag===3){As(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=io(n,e),e=Ja(t,e,1),An(t,e),e=Rt(),t=fl(t,1),t!==null&&(Xr(t,1,e),zt(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(St&n)===n&&(ht===4||ht===3&&(St&130023424)===St&&500>mt()-_o?rr(e,0):Eo|=n),zt(e,t)}function Ds(e,t){t===0&&(e.mode&1?(t=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):t=1);var n=Rt();e=fl(e,t),e!==null&&(Xr(e,t,n),zt(e,n))}function Dc(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ds(e,n)}function Fc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(p(314))}r!==null&&r.delete(t),Ds(e,n)}var Fs;Fs=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ke.current)Bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bt=!1,Mc(e,t,n);Bt=!!(e.flags&131072)}else Bt=!1,tt&&t.flags&1048576&&xa(t,Ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var l=_t(t,Xe.current);yr(t,n),l=$l(null,t,r,e,l,n);var s=eo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(s=!0,Qe(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,jl(t),l.updater=Li,t.stateNode=l,l._reactInternals=t,Wl(t,r,e,n),t=ao(null,t,r,!0,s,n)):(t.tag=0,tt&&s&&Gl(t),It(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Bc(r),e=tn(r,e),l){case 0:t=oo(null,t,r,e,n);break e;case 1:t=as(null,t,r,e,n);break e;case 11:t=ns(null,t,r,e,n);break e;case 14:t=rs(null,t,r,tn(r.type,e),n);break e}throw Error(p(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:tn(r,l),oo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:tn(r,l),as(e,t,r,l,n);case 3:e:{if(ss(t),e===null)throw Error(p(387));r=t.pendingProps,s=t.memoizedState,l=s.element,va(e,t),zi(t,r,null,n);var v=t.memoizedState;if(r=v.element,ft&&s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:v.cache,transitions:v.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Error(p(423)),t=us(e,t,r,n,l);break e}else if(r!==l){l=Error(p(424)),t=us(e,t,r,n,l);break e}else for(ft&&(Ut=_i(t.stateNode.containerInfo),Ft=t,tt=!0,nn=null,Vr=!1),n=Ra(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),r===l){t=Cn(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return ka(t),e===null&&Yl(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,v=l.children,ot(r,l)?v=null:s!==null&&ot(r,s)&&(t.flags|=32),os(e,t),It(e,t,v,n),t.child;case 6:return e===null&&Yl(t),null;case 13:return cs(e,t,n);case 4:return Vl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_r(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:tn(r,l),ns(e,t,r,l,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,v=l.value,ma(t,r,v),s!==null)if(cn(s.value,v)){if(s.children===l.children&&!ke.current){t=Cn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var x=s.dependencies;if(x!==null){v=s.child;for(var A=x.firstContext;A!==null;){if(A.context===r){if(s.tag===1){A=_n(-1,n&-n),A.tag=2;var q=s.updateQueue;if(q!==null){q=q.shared;var ce=q.pending;ce===null?A.next=A:(A.next=ce.next,ce.next=A),q.pending=A}}s.lanes|=n,A=s.alternate,A!==null&&(A.lanes|=n),Bl(s.return,n,t),x.lanes|=n;break}A=A.next}}else if(s.tag===10)v=s.type===t.type?null:s.child;else if(s.tag===18){if(v=s.return,v===null)throw Error(p(341));v.lanes|=n,x=v.alternate,x!==null&&(x.lanes|=n),Bl(v,n,t),v=s.sibling}else v=s.child;if(v!==null)v.return=s;else for(v=s;v!==null;){if(v===t){v=null;break}if(s=v.sibling,s!==null){s.return=v.return,v=s;break}v=v.return}s=v}It(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,yr(t,n),l=Zt(l),r=r(l),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,l=tn(r,t.pendingProps),l=tn(r.type,l),rs(e,t,r,l,n);case 15:return is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:tn(r,l),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,at(r)?(e=!0,Qe(t)):e=!1,yr(t,n),Ea(t,r,l),Wl(t,r,l,n),ao(null,t,r,!0,e,n);case 19:return hs(e,t,n);case 22:return ls(e,t,n)}throw Error(p(156,t.tag))};function Us(e,t){return zl(e,t)}function Uc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,r){return new Uc(e,t,n,r)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bc(e){if(typeof e=="function")return ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j)return 11;if(e===k)return 14}return 2}function jn(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pl(e,t,n,r,l,s){var v=2;if(r=e,typeof e=="function")ko(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case d:return or(n.children,l,s,t);case m:v=8,l|=8;break;case E:return e=Jt(12,n,t,l|2),e.elementType=E,e.lanes=s,e;case D:return e=Jt(13,n,t,l),e.elementType=D,e.lanes=s,e;case I:return e=Jt(19,n,t,l),e.elementType=I,e.lanes=s,e;case re:return hl(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:v=10;break e;case T:v=9;break e;case j:v=11;break e;case k:v=14;break e;case F:v=16,r=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return t=Jt(v,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function or(e,t,n,r){return e=Jt(7,e,r,t),e.lanes=n,e}function hl(e,t,n,r){return e=Jt(22,e,r,t),e.elementType=re,e.lanes=n,e.stateNode={},e}function No(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function zo(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Yn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=l,ft&&(this.mutableSourceEagerHydrationData=null)}function Bs(e,t,n,r,l,s,v,x,A){return e=new jc(e,t,n,x,A),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},jl(s),e}function js(e){if(!e)return Fe;e=e._reactInternals;e:{if(H(e)!==e||e.tag!==1)throw Error(p(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(p(171))}if(e.tag===1){var n=e.type;if(at(n))return pt(e,n,t)}return t}function Hs(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=ae(t),e===null?null:e.stateNode}function Ws(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lo(e,t){Ws(e,t),(e=e.alternate)&&Ws(e,t)}function Hc(e){return e=ae(e),e===null?null:e.stateNode}function Wc(){return null}return u.attemptContinuousHydration=function(e){if(e.tag===13){var t=Rt();Kt(e,134217728,t),Lo(e,134217728)}},u.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Rt(),n=Un(e);Kt(e,n,t),Lo(e,n)}},u.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yr(t.pendingLanes);n!==0&&(Nl(t,n|1),zt(t,mt()),!(Le&6)&&(Ir(),fn()))}break;case 13:var r=Rt();ks(function(){return Kt(e,1,r)}),Lo(e,1)}},u.batchedUpdates=function(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(Ir(),Ti&&fn())}},u.createComponentSelector=function(e){return{$$typeof:$i,value:e}},u.createContainer=function(e,t,n,r,l,s,v){return Bs(e,t,!1,null,n,r,l,s,v)},u.createHasPseudoClassSelector=function(e){return{$$typeof:el,value:e}},u.createHydrationContainer=function(e,t,n,r,l,s,v,x,A){return e=Bs(n,r,!0,e,l,s,v,x,A),e.context=js(null),n=e.current,r=Rt(),l=Un(n),s=_n(r,l),s.callback=t??null,An(n,s),e.current.lanes=l,Xr(e,l,r),zt(e,r),e},u.createPortal=function(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}},u.createRoleSelector=function(e){return{$$typeof:tl,value:e}},u.createTestNameSelector=function(e){return{$$typeof:nl,value:e}},u.createTextSelector=function(e){return{$$typeof:rl,value:e}},u.deferredUpdates=function(e){var t=je,n=it.transition;try{return it.transition=null,je=16,e()}finally{je=t,it.transition=n}},u.discreteUpdates=function(e,t,n,r,l){var s=je,v=it.transition;try{return it.transition=null,je=1,e(t,n,r,l)}finally{je=s,it.transition=v,Le===0&&Ir()}},u.findAllNodes=wo,u.findBoundingRects=function(e,t){if(!yn)throw Error(p(363));t=wo(e,t),e=[];for(var n=0;n<t.length;n++)e.push(hr(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,l=r+n.width,s=n.y,v=s+n.height,x=t-1;0<=x;x--)if(t!==x){var A=e[x],q=A.x,ce=q+A.width,Pe=A.y,Se=Pe+A.height;if(r>=q&&s>=Pe&&l<=ce&&v<=Se){e.splice(t,1);break}else if(r!==q||n.width!==A.width||Se<s||Pe>v){if(!(s!==Pe||n.height!==A.height||ce<r||q>l)){q>r&&(A.width+=q-r,A.x=r),ce<l&&(A.width=l-q),e.splice(t,1);break}}else{Pe>s&&(A.height+=Pe-s,A.y=s),Se<v&&(A.height=v-Pe),e.splice(t,1);break}}}return e},u.findHostInstance=Hs,u.findHostInstanceWithNoPortals=function(e){return e=Q(e),e=e!==null?fe(e):null,e===null?null:e.stateNode},u.findHostInstanceWithWarning=function(e){return Hs(e)},u.flushControlled=function(e){var t=Le;Le|=1;var n=it.transition,r=je;try{it.transition=null,je=1,e()}finally{je=r,it.transition=n,Le=t,Le===0&&(Ir(),fn())}},u.flushPassiveEffects=lr,u.flushSync=ks,u.focusWithin=function(e,t){if(!yn)throw Error(p(363));for(e=vo(e),t=Ts(e,t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!At(n)){if(n.tag===5&&Wr(n.stateNode))return!0;for(n=n.child;n!==null;)t.push(n),n=n.sibling}}return!1},u.getCurrentUpdatePriority=function(){return je},u.getFindAllNodesFailureDescription=function(e,t){if(!yn)throw Error(p(363));var n=0,r=[];e=[vo(e),0];for(var l=0;l<e.length;){var s=e[l++],v=e[l++],x=t[v];if((s.tag!==5||!At(s))&&(go(s,x)&&(r.push(yo(x)),v++,v>n&&(n=v)),v<t.length))for(s=s.child;s!==null;)e.push(s,v),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(yo(t[n]));return`findAllNodes was able to match part of the selector:
  `+(r.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},u.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return we(e.child.stateNode);default:return e.child.stateNode}},u.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:Hc,findFiberByHostInstance:e.findFiberByHostInstance||Wc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ci=t.inject(e),un=t}catch{}e=!!t.checkDCE}}return e},u.isAlreadyRendering=function(){return!1},u.observeVisibleRects=function(e,t,n,r){if(!yn)throw Error(p(363));e=wo(e,t);var l=mr(e,n,r).disconnect;return{disconnect:function(){l()}}},u.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},u.runWithPriority=function(e,t){var n=je;try{return je=e,t()}finally{je=n}},u.shouldError=function(){return null},u.shouldSuspend=function(){return!1},u.updateContainer=function(e,t,n,r){var l=t.current,s=Rt(),v=Un(l);return n=js(n),t.context===null?t.context=n:t.pendingContext=n,t=_n(s,v),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),An(l,t),e=Kt(l,v,s),e!==null&&Ni(e,l,v),v},u};_u.exports=Lf;var Of=_u.exports;const Af=Zc(Of),ta={},Pu=o=>void Object.assign(ta,o);function Df(o,i){function u(d,{args:m=[],attach:E,...C},T){let j=`${d[0].toUpperCase()}${d.slice(1)}`,D;if(d==="primitive"){if(C.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const I=C.object;D=zr(I,{type:d,root:T,attach:E,primitive:!0})}else{const I=ta[j];if(!I)throw new Error(`R3F: ${j} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");D=zr(new I(...m),{type:d,root:T,attach:E,memoizedProps:{args:m}})}return D.__r3f.attach===void 0&&(D.isBufferGeometry?D.__r3f.attach="geometry":D.isMaterial&&(D.__r3f.attach="material")),j!=="inject"&&Uo(D,C),D}function a(d,m){let E=!1;if(m){var C,T;(C=m.__r3f)!=null&&C.attach?Fo(d,m,m.__r3f.attach):m.isObject3D&&d.isObject3D&&(d.add(m),E=!0),E||(T=d.__r3f)==null||T.objects.push(m),m.__r3f||zr(m,{}),m.__r3f.parent=d,Ko(m),Lr(m)}}function h(d,m,E){let C=!1;if(m){var T,j;if((T=m.__r3f)!=null&&T.attach)Fo(d,m,m.__r3f.attach);else if(m.isObject3D&&d.isObject3D){m.parent=d,m.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:m});const D=d.children.filter(k=>k!==m),I=D.indexOf(E);d.children=[...D.slice(0,I),m,...D.slice(I)],C=!0}C||(j=d.__r3f)==null||j.objects.push(m),m.__r3f||zr(m,{}),m.__r3f.parent=d,Ko(m),Lr(m)}}function g(d,m,E=!1){d&&[...d].forEach(C=>p(m,C,E))}function p(d,m,E){if(m){var C,T,j;if(m.__r3f&&(m.__r3f.parent=null),(C=d.__r3f)!=null&&C.objects&&(d.__r3f.objects=d.__r3f.objects.filter(re=>re!==m)),(T=m.__r3f)!=null&&T.attach)qs(d,m,m.__r3f.attach);else if(m.isObject3D&&d.isObject3D){var D;d.remove(m),(D=m.__r3f)!=null&&D.root&&Zf(_l(m),m)}const k=(j=m.__r3f)==null?void 0:j.primitive,F=!k&&(E===void 0?m.dispose!==null:E);if(!k){var I;g((I=m.__r3f)==null?void 0:I.objects,m,F),g(m.children,m,F)}if(delete m.__r3f,F&&m.dispose&&m.type!=="Scene"){const re=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Xo.unstable_scheduleCallback(Xo.unstable_IdlePriority,re):re()}Lr(d)}}function y(d,m,E,C){var T;const j=(T=d.__r3f)==null?void 0:T.parent;if(!j)return;const D=u(m,E,d.__r3f.root);if(d.children){for(const I of d.children)I.__r3f&&a(D,I);d.children=d.children.filter(I=>!I.__r3f)}d.__r3f.objects.forEach(I=>a(D,I)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||p(j,d),D.parent&&(D.__r3f.autoRemovedBeforeAppend=!0),a(j,D),D.raycast&&D.__r3f.eventCount&&_l(D).getState().internal.interaction.push(D),[C,C.alternate].forEach(I=>{I!==null&&(I.stateNode=D,I.ref&&(typeof I.ref=="function"?I.ref(D):I.ref.current=D))})}const w=()=>{};return{reconciler:Af({createInstance:u,removeChild:p,appendChild:a,appendInitialChild:a,insertBefore:h,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,m)=>{if(!m)return;const E=d.getState().scene;E.__r3f&&(E.__r3f.root=d,a(E,m))},removeChildFromContainer:(d,m)=>{m&&p(d.getState().scene,m)},insertInContainerBefore:(d,m,E)=>{if(!m||!E)return;const C=d.getState().scene;C.__r3f&&h(C,m,E)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var m;return!!((m=d?.__r3f)!=null?m:{}).handlers},prepareUpdate(d,m,E,C){var T;if(((T=d?.__r3f)!=null?T:{}).primitive&&C.object&&C.object!==d)return[!0];{const{args:D=[],children:I,...k}=C,{args:F=[],children:re,...W}=E;if(!Array.isArray(D))throw new Error("R3F: the args prop must be an array!");if(D.some((se,U)=>se!==F[U]))return[!0];const B=zu(d,k,W,!0);return B.changes.length?[!1,B]:null}},commitUpdate(d,[m,E],C,T,j,D){m?y(d,C,j,D):Uo(d,E)},commitMount(d,m,E,C){var T;const j=(T=d.__r3f)!=null?T:{};d.raycast&&j.handlers&&j.eventCount&&_l(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>zr(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var m;const{attach:E,parent:C}=(m=d.__r3f)!=null?m:{};E&&C&&qs(C,d,E),d.isObject3D&&(d.visible=!1),Lr(d)},unhideInstance(d,m){var E;const{attach:C,parent:T}=(E=d.__r3f)!=null?E:{};C&&T&&Fo(T,d,C),(d.isObject3D&&m.visible==null||m.visible)&&(d.visible=!0),Lr(d)},createTextInstance:w,hideTextInstance:w,unhideTextInstance:w,getCurrentEventPriority:()=>i?i():Dr.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&qe.fun(performance.now)?performance.now:qe.fun(Date.now)?Date.now:()=>0,scheduleTimeout:qe.fun(setTimeout)?setTimeout:void 0,cancelTimeout:qe.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Uo}}var Xs,Vs;const Do=o=>"colorSpace"in o||"outputColorSpace"in o,Cu=()=>{var o;return(o=ta.ColorManagement)!=null?o:null},Tu=o=>o&&o.isOrthographicCamera,Ff=o=>o&&o.hasOwnProperty("current"),wi=typeof window<"u"&&((Xs=window.document)!=null&&Xs.createElement||((Vs=window.navigator)==null?void 0:Vs.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function Iu(o){const i=X.useRef(o);return wi(()=>void(i.current=o),[o]),i}function Uf({set:o}){return wi(()=>(o(new Promise(()=>null)),()=>o(!1)),[o]),null}class Ru extends X.Component{constructor(...i){super(...i),this.state={error:!1}}componentDidCatch(i){this.props.set(i)}render(){return this.state.error?null:this.props.children}}Ru.getDerivedStateFromError=()=>({error:!0});const ku="__default",Ks=new Map,Bf=o=>o&&!!o.memoized&&!!o.changes;function Nu(o){var i;const u=typeof window<"u"?(i=window.devicePixelRatio)!=null?i:2:1;return Array.isArray(o)?Math.min(Math.max(o[0],u),o[1]):o}const fi=o=>{var i;return(i=o.__r3f)==null?void 0:i.root.getState()};function _l(o){let i=o.__r3f.root;for(;i.getState().previousRoot;)i=i.getState().previousRoot;return i}const qe={obj:o=>o===Object(o)&&!qe.arr(o)&&typeof o!="function",fun:o=>typeof o=="function",str:o=>typeof o=="string",num:o=>typeof o=="number",boo:o=>typeof o=="boolean",und:o=>o===void 0,arr:o=>Array.isArray(o),equ(o,i,{arrays:u="shallow",objects:a="reference",strict:h=!0}={}){if(typeof o!=typeof i||!!o!=!!i)return!1;if(qe.str(o)||qe.num(o)||qe.boo(o))return o===i;const g=qe.obj(o);if(g&&a==="reference")return o===i;const p=qe.arr(o);if(p&&u==="reference")return o===i;if((p||g)&&o===i)return!0;let y;for(y in o)if(!(y in i))return!1;if(g&&u==="shallow"&&a==="shallow"){for(y in h?i:o)if(!qe.equ(o[y],i[y],{strict:h,objects:"reference"}))return!1}else for(y in h?i:o)if(o[y]!==i[y])return!1;if(qe.und(y)){if(p&&o.length===0&&i.length===0||g&&Object.keys(o).length===0&&Object.keys(i).length===0)return!0;if(o!==i)return!1}return!0}};function jf(o){const i={nodes:{},materials:{}};return o&&o.traverse(u=>{u.name&&(i.nodes[u.name]=u),u.material&&!i.materials[u.material.name]&&(i.materials[u.material.name]=u.material)}),i}function Hf(o){o.dispose&&o.type!=="Scene"&&o.dispose();for(const i in o)i.dispose==null||i.dispose(),delete o[i]}function zr(o,i){const u=o;return u.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...i},o}function Vo(o,i){let u=o;if(i.includes("-")){const a=i.split("-"),h=a.pop();return u=a.reduce((g,p)=>g[p],o),{target:u,key:h}}else return{target:u,key:i}}const Js=/-\d+$/;function Fo(o,i,u){if(qe.str(u)){if(Js.test(u)){const g=u.replace(Js,""),{target:p,key:y}=Vo(o,g);Array.isArray(p[y])||(p[y]=[])}const{target:a,key:h}=Vo(o,u);i.__r3f.previousAttach=a[h],a[h]=i}else i.__r3f.previousAttach=u(o,i)}function qs(o,i,u){var a,h;if(qe.str(u)){const{target:g,key:p}=Vo(o,u),y=i.__r3f.previousAttach;y===void 0?delete g[p]:g[p]=y}else(a=i.__r3f)==null||a.previousAttach==null||a.previousAttach(o,i);(h=i.__r3f)==null||delete h.previousAttach}function zu(o,{children:i,key:u,ref:a,...h},{children:g,key:p,ref:y,...w}={},_=!1){const d=o.__r3f,m=Object.entries(h),E=[];if(_){const T=Object.keys(w);for(let j=0;j<T.length;j++)h.hasOwnProperty(T[j])||m.unshift([T[j],ku+"remove"])}m.forEach(([T,j])=>{var D;if((D=o.__r3f)!=null&&D.primitive&&T==="object"||qe.equ(j,w[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return E.push([T,j,!0,[]]);let I=[];T.includes("-")&&(I=T.split("-")),E.push([T,j,!1,I]);for(const k in h){const F=h[k];k.startsWith(`${T}-`)&&E.push([k,F,!1,k.split("-")])}});const C={...h};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(C.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(C.attach=d.memoizedProps.attach),{memoized:C,changes:E}}const Wf=typeof process<"u"&&!1;function Uo(o,i){var u;const a=o.__r3f,h=a?.root,g=h==null||h.getState==null?void 0:h.getState(),{memoized:p,changes:y}=Bf(i)?i:zu(o,i),w=a?.eventCount;o.__r3f&&(o.__r3f.memoizedProps=p);for(let E=0;E<y.length;E++){let[C,T,j,D]=y[E];if(Do(o)){const re="srgb",W="srgb-linear";C==="encoding"?(C="colorSpace",T=T===3001?re:W):C==="outputEncoding"&&(C="outputColorSpace",T=T===3001?re:W)}let I=o,k=I[C];if(D.length&&(k=D.reduce((F,re)=>F[re],o),!(k&&k.set))){const[F,...re]=D.reverse();I=re.reverse().reduce((W,B)=>W[B],o),C=F}if(T===ku+"remove")if(I.constructor){let F=Ks.get(I.constructor);F||(F=new I.constructor,Ks.set(I.constructor,F)),T=F[C]}else T=0;if(j&&a)T?a.handlers[C]=T:delete a.handlers[C],a.eventCount=Object.keys(a.handlers).length;else if(k&&k.set&&(k.copy||k instanceof Oo)){if(Array.isArray(T))k.fromArray?k.fromArray(T):k.set(...T);else if(k.copy&&T&&T.constructor&&(Wf?k.constructor.name===T.constructor.name:k.constructor===T.constructor))k.copy(T);else if(T!==void 0){var _;const F=(_=k)==null?void 0:_.isColor;!F&&k.setScalar?k.setScalar(T):k instanceof Oo&&T instanceof Oo?k.mask=T.mask:k.set(T),!Cu()&&g&&!g.linear&&F&&k.convertSRGBToLinear()}}else{var d;if(I[C]=T,(d=I[C])!=null&&d.isTexture&&I[C].format===Ur&&I[C].type===xl&&g){const F=I[C];Do(F)&&Do(g.gl)?F.colorSpace=g.gl.outputColorSpace:F.encoding=g.gl.outputEncoding}}Lr(o)}if(a&&a.parent&&o.raycast&&w!==a.eventCount){const E=_l(o).getState().internal,C=E.interaction.indexOf(o);C>-1&&E.interaction.splice(C,1),a.eventCount&&E.interaction.push(o)}return!(y.length===1&&y[0][0]==="onUpdate")&&y.length&&(u=o.__r3f)!=null&&u.parent&&Ko(o),o}function Lr(o){var i,u;const a=(i=o.__r3f)==null||(u=i.root)==null||u.getState==null?void 0:u.getState();a&&a.internal.frames===0&&a.invalidate()}function Ko(o){o.onUpdate==null||o.onUpdate(o)}function Lu(o,i){o.manual||(Tu(o)?(o.left=i.width/-2,o.right=i.width/2,o.top=i.height/2,o.bottom=i.height/-2):o.aspect=i.width/i.height,o.updateProjectionMatrix(),o.updateMatrixWorld())}function ml(o){return(o.eventObject||o.object).uuid+"/"+o.index+o.instanceId}function Gf(){var o;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return Dr.DefaultEventPriority;switch((o=i.event)==null?void 0:o.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Dr.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Dr.ContinuousEventPriority;default:return Dr.DefaultEventPriority}}function Ou(o,i,u,a){const h=u.get(i);h&&(u.delete(i),u.size===0&&(o.delete(a),h.target.releasePointerCapture(a)))}function Zf(o,i){const{internal:u}=o.getState();u.interaction=u.interaction.filter(a=>a!==i),u.initialHits=u.initialHits.filter(a=>a!==i),u.hovered.forEach((a,h)=>{(a.eventObject===i||a.object===i)&&u.hovered.delete(h)}),u.capturedMap.forEach((a,h)=>{Ou(u.capturedMap,i,a,h)})}function Qf(o){function i(w){const{internal:_}=o.getState(),d=w.offsetX-_.initialClick[0],m=w.offsetY-_.initialClick[1];return Math.round(Math.sqrt(d*d+m*m))}function u(w){return w.filter(_=>["Move","Over","Enter","Out","Leave"].some(d=>{var m;return(m=_.__r3f)==null?void 0:m.handlers["onPointer"+d]}))}function a(w,_){const d=o.getState(),m=new Set,E=[],C=_?_(d.internal.interaction):d.internal.interaction;for(let I=0;I<C.length;I++){const k=fi(C[I]);k&&(k.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(w,d);function T(I){const k=fi(I);if(!k||!k.events.enabled||k.raycaster.camera===null)return[];if(k.raycaster.camera===void 0){var F;k.events.compute==null||k.events.compute(w,k,(F=k.previousRoot)==null?void 0:F.getState()),k.raycaster.camera===void 0&&(k.raycaster.camera=null)}return k.raycaster.camera?k.raycaster.intersectObject(I,!0):[]}let j=C.flatMap(T).sort((I,k)=>{const F=fi(I.object),re=fi(k.object);return!F||!re?I.distance-k.distance:re.events.priority-F.events.priority||I.distance-k.distance}).filter(I=>{const k=ml(I);return m.has(k)?!1:(m.add(k),!0)});d.events.filter&&(j=d.events.filter(j,d));for(const I of j){let k=I.object;for(;k;){var D;(D=k.__r3f)!=null&&D.eventCount&&E.push({...I,eventObject:k}),k=k.parent}}if("pointerId"in w&&d.internal.capturedMap.has(w.pointerId))for(let I of d.internal.capturedMap.get(w.pointerId).values())m.has(ml(I.intersection))||E.push(I.intersection);return E}function h(w,_,d,m){const E=o.getState();if(w.length){const C={stopped:!1};for(const T of w){const j=fi(T.object)||E,{raycaster:D,pointer:I,camera:k,internal:F}=j,re=new lt(I.x,I.y,0).unproject(k),W=G=>{var Q,ae;return(Q=(ae=F.capturedMap.get(G))==null?void 0:ae.has(T.eventObject))!=null?Q:!1},B=G=>{const Q={intersection:T,target:_.target};F.capturedMap.has(G)?F.capturedMap.get(G).set(T.eventObject,Q):F.capturedMap.set(G,new Map([[T.eventObject,Q]])),_.target.setPointerCapture(G)},se=G=>{const Q=F.capturedMap.get(G);Q&&Ou(F.capturedMap,T.eventObject,Q,G)};let U={};for(let G in _){let Q=_[G];typeof Q!="function"&&(U[G]=Q)}let H={...T,...U,pointer:I,intersections:w,stopped:C.stopped,delta:d,unprojectedPoint:re,ray:D.ray,camera:k,stopPropagation(){const G="pointerId"in _&&F.capturedMap.get(_.pointerId);if((!G||G.has(T.eventObject))&&(H.stopped=C.stopped=!0,F.hovered.size&&Array.from(F.hovered.values()).find(Q=>Q.eventObject===T.eventObject))){const Q=w.slice(0,w.indexOf(T));g([...Q,T])}},target:{hasPointerCapture:W,setPointerCapture:B,releasePointerCapture:se},currentTarget:{hasPointerCapture:W,setPointerCapture:B,releasePointerCapture:se},nativeEvent:_};if(m(H),C.stopped===!0)break}}return w}function g(w){const{internal:_}=o.getState();for(const d of _.hovered.values())if(!w.length||!w.find(m=>m.object===d.object&&m.index===d.index&&m.instanceId===d.instanceId)){const E=d.eventObject.__r3f,C=E?.handlers;if(_.hovered.delete(ml(d)),E!=null&&E.eventCount){const T={...d,intersections:w};C.onPointerOut==null||C.onPointerOut(T),C.onPointerLeave==null||C.onPointerLeave(T)}}}function p(w,_){for(let d=0;d<_.length;d++){const m=_[d].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(w)}}function y(w){switch(w){case"onPointerLeave":case"onPointerCancel":return()=>g([]);case"onLostPointerCapture":return _=>{const{internal:d}=o.getState();"pointerId"in _&&d.capturedMap.has(_.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(_.pointerId)&&(d.capturedMap.delete(_.pointerId),g([]))})}}return function(d){const{onPointerMissed:m,internal:E}=o.getState();E.lastEvent.current=d;const C=w==="onPointerMove",T=w==="onClick"||w==="onContextMenu"||w==="onDoubleClick",D=a(d,C?u:void 0),I=T?i(d):0;w==="onPointerDown"&&(E.initialClick=[d.offsetX,d.offsetY],E.initialHits=D.map(F=>F.eventObject)),T&&!D.length&&I<=2&&(p(d,E.interaction),m&&m(d)),C&&g(D);function k(F){const re=F.eventObject,W=re.__r3f,B=W?.handlers;if(W!=null&&W.eventCount)if(C){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const se=ml(F),U=E.hovered.get(se);U?U.stopped&&F.stopPropagation():(E.hovered.set(se,F),B.onPointerOver==null||B.onPointerOver(F),B.onPointerEnter==null||B.onPointerEnter(F))}B.onPointerMove==null||B.onPointerMove(F)}else{const se=B[w];se?(!T||E.initialHits.includes(re))&&(p(d,E.interaction.filter(U=>!E.initialHits.includes(U))),se(F)):T&&E.initialHits.includes(re)&&p(d,E.interaction.filter(U=>!E.initialHits.includes(U)))}}h(D,d,I,k)}}return{handlePointer:y}}const Yf=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Au=o=>!!(o!=null&&o.render),na=X.createContext(null),Xf=(o,i)=>{const u=wu((y,w)=>{const _=new lt,d=new lt,m=new lt;function E(I=w().camera,k=d,F=w().size){const{width:re,height:W,top:B,left:se}=F,U=re/W;k.isVector3?m.copy(k):m.set(...k);const H=I.getWorldPosition(_).distanceTo(m);if(Tu(I))return{width:re/I.zoom,height:W/I.zoom,top:B,left:se,factor:1,distance:H,aspect:U};{const G=I.fov*Math.PI/180,Q=2*Math.tan(G/2)*H,ae=Q*(re/W);return{width:ae,height:Q,top:B,left:se,factor:re/ae,distance:H,aspect:U}}}let C;const T=I=>y(k=>({performance:{...k.performance,current:I}})),j=new Ht;return{set:y,get:w,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(I=1)=>o(w(),I),advance:(I,k)=>i(I,k,w()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tf,pointer:j,mouse:j,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const I=w();C&&clearTimeout(C),I.performance.current!==I.performance.min&&T(I.performance.min),C=setTimeout(()=>T(w().performance.max),I.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:E},setEvents:I=>y(k=>({...k,events:{...k.events,...I}})),setSize:(I,k,F,re,W)=>{const B=w().camera,se={width:I,height:k,top:re||0,left:W||0,updateStyle:F};y(U=>({size:se,viewport:{...U.viewport,...E(B,d,se)}}))},setDpr:I=>y(k=>{const F=Nu(I);return{viewport:{...k.viewport,dpr:F,initialDpr:k.viewport.initialDpr||F}}}),setFrameloop:(I="always")=>{const k=w().clock;k.stop(),k.elapsedTime=0,I!=="never"&&(k.start(),k.elapsedTime=0),y(()=>({frameloop:I}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:X.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(I,k,F)=>{const re=w().internal;return re.priority=re.priority+(k>0?1:0),re.subscribers.push({ref:I,priority:k,store:F}),re.subscribers=re.subscribers.sort((W,B)=>W.priority-B.priority),()=>{const W=w().internal;W!=null&&W.subscribers&&(W.priority=W.priority-(k>0?1:0),W.subscribers=W.subscribers.filter(B=>B.ref!==I))}}}}}),a=u.getState();let h=a.size,g=a.viewport.dpr,p=a.camera;return u.subscribe(()=>{const{camera:y,size:w,viewport:_,gl:d,set:m}=u.getState();if(w.width!==h.width||w.height!==h.height||_.dpr!==g){var E;h=w,g=_.dpr,Lu(y,w),d.setPixelRatio(_.dpr);const C=(E=w.updateStyle)!=null?E:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(w.width,w.height,C)}y!==p&&(p=y,m(C=>({viewport:{...C.viewport,...C.viewport.getCurrentViewport(y)}})))}),u.subscribe(y=>o(y)),u};let vl,Vf=new Set,Kf=new Set,Jf=new Set;function Bo(o,i){if(o.size)for(const{callback:u}of o.values())u(i)}function di(o,i){switch(o){case"before":return Bo(Vf,i);case"after":return Bo(Kf,i);case"tail":return Bo(Jf,i)}}let jo,Ho;function Wo(o,i,u){let a=i.clock.getDelta();for(i.frameloop==="never"&&typeof o=="number"&&(a=o-i.clock.elapsedTime,i.clock.oldTime=i.clock.elapsedTime,i.clock.elapsedTime=o),jo=i.internal.subscribers,vl=0;vl<jo.length;vl++)Ho=jo[vl],Ho.ref.current(Ho.store.getState(),a,u);return!i.internal.priority&&i.gl.render&&i.gl.render(i.scene,i.camera),i.internal.frames=Math.max(0,i.internal.frames-1),i.frameloop==="always"?1:i.internal.frames}function qf(o){let i=!1,u=!1,a,h,g;function p(_){h=requestAnimationFrame(p),i=!0,a=0,di("before",_),u=!0;for(const m of o.values()){var d;g=m.store.getState(),g.internal.active&&(g.frameloop==="always"||g.internal.frames>0)&&!((d=g.gl.xr)!=null&&d.isPresenting)&&(a+=Wo(_,g))}if(u=!1,di("after",_),a===0)return di("tail",_),i=!1,cancelAnimationFrame(h)}function y(_,d=1){var m;if(!_)return o.forEach(E=>y(E.store.getState(),d));(m=_.gl.xr)!=null&&m.isPresenting||!_.internal.active||_.frameloop==="never"||(d>1?_.internal.frames=Math.min(60,_.internal.frames+d):u?_.internal.frames=2:_.internal.frames=1,i||(i=!0,requestAnimationFrame(p)))}function w(_,d=!0,m,E){if(d&&di("before",_),m)Wo(_,m,E);else for(const C of o.values())Wo(_,C.store.getState());d&&di("after",_)}return{loop:p,invalidate:y,advance:w}}function ra(){const o=X.useContext(na);if(!o)throw new Error("R3F: Hooks can only be used within the Canvas component!");return o}function Wt(o=u=>u,i){return ra()(o,i)}function Du(o,i=0){const u=ra(),a=u.getState().internal.subscribe,h=Iu(o);return wi(()=>a(h,i,u),[i,a,u]),null}const bs=new WeakMap;function Fu(o,i){return function(u,...a){let h=bs.get(u);return h||(h=new u,bs.set(u,h)),o&&o(h),Promise.all(a.map(g=>new Promise((p,y)=>h.load(g,w=>{w.scene&&Object.assign(w,jf(w.scene)),p(w)},i,w=>y(new Error(`Could not load ${g}: ${w?.message}`))))))}}function sr(o,i,u,a){const h=Array.isArray(i)?i:[i],g=kf(Fu(u,a),[o,...h],{equal:qe.equ});return Array.isArray(i)?g:g[0]}sr.preload=function(o,i,u){const a=Array.isArray(i)?i:[i];return Nf(Fu(u),[o,...a])};sr.clear=function(o,i){const u=Array.isArray(i)?i:[i];return zf([o,...u])};const Br=new Map,{invalidate:$s,advance:eu}=qf(Br),{reconciler:gi,applyProps:Gn}=Df(Br,Gf),Nr={objects:"shallow",strict:!1},bf=(o,i)=>{const u=typeof o=="function"?o(i):o;return Au(u)?u:new pu({powerPreference:"high-performance",canvas:i,antialias:!0,alpha:!0,...o})};function $f(o,i){const u=typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement;if(i){const{width:a,height:h,top:g,left:p,updateStyle:y=u}=i;return{width:a,height:h,top:g,left:p,updateStyle:y}}else if(typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement&&o.parentElement){const{width:a,height:h,top:g,left:p}=o.parentElement.getBoundingClientRect();return{width:a,height:h,top:g,left:p,updateStyle:u}}else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas)return{width:o.width,height:o.height,top:0,left:0,updateStyle:u};return{width:0,height:0,top:0,left:0}}function ed(o){const i=Br.get(o),u=i?.fiber,a=i?.store;i&&console.warn("R3F.createRoot should only be called once!");const h=typeof reportError=="function"?reportError:console.error,g=a||Xf($s,eu),p=u||gi.createContainer(g,Dr.ConcurrentRoot,null,!1,null,"",h,null);i||Br.set(o,{fiber:p,store:g});let y,w=!1,_;return{configure(d={}){let{gl:m,size:E,scene:C,events:T,onCreated:j,shadows:D=!1,linear:I=!1,flat:k=!1,legacy:F=!1,orthographic:re=!1,frameloop:W="always",dpr:B=[1,2],performance:se,raycaster:U,camera:H,onPointerMissed:G}=d,Q=g.getState(),ae=Q.gl;Q.gl||Q.set({gl:ae=bf(m,o)});let pe=Q.raycaster;pe||Q.set({raycaster:pe=new du});const{params:fe,...ze}=U||{};if(qe.equ(ze,pe,Nr)||Gn(pe,{...ze}),qe.equ(fe,pe.params,Nr)||Gn(pe,{params:{...pe.params,...fe}}),!Q.camera||Q.camera===_&&!qe.equ(_,H,Nr)){_=H;const K=H instanceof qc,he=K?H:re?new mi(0,0,0,0,.1,1e3):new Sl(75,0,.1,1e3);K||(he.position.z=5,H&&(Gn(he,H),("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(he.manual=!0,he.updateProjectionMatrix())),!Q.camera&&!(H!=null&&H.rotation)&&he.lookAt(0,0,0)),Q.set({camera:he}),pe.camera=he}if(!Q.scene){let K;C!=null&&C.isScene?K=C:(K=new bo,C&&Gn(K,C)),Q.set({scene:zr(K)})}if(!Q.xr){var we;const K=(_e,Ye)=>{const ot=g.getState();ot.frameloop!=="never"&&eu(_e,!0,ot,Ye)},he=()=>{const _e=g.getState();_e.gl.xr.enabled=_e.gl.xr.isPresenting,_e.gl.xr.setAnimationLoop(_e.gl.xr.isPresenting?K:null),_e.gl.xr.isPresenting||$s(_e)},me={connect(){const _e=g.getState().gl;_e.xr.addEventListener("sessionstart",he),_e.xr.addEventListener("sessionend",he)},disconnect(){const _e=g.getState().gl;_e.xr.removeEventListener("sessionstart",he),_e.xr.removeEventListener("sessionend",he)}};typeof((we=ae.xr)==null?void 0:we.addEventListener)=="function"&&me.connect(),Q.set({xr:me})}if(ae.shadowMap){const K=ae.shadowMap.enabled,he=ae.shadowMap.type;if(ae.shadowMap.enabled=!!D,qe.boo(D))ae.shadowMap.type=Ao;else if(qe.str(D)){var be;const me={basic:bc,percentage:$c,soft:Ao,variance:ef};ae.shadowMap.type=(be=me[D])!=null?be:Ao}else qe.obj(D)&&Object.assign(ae.shadowMap,D);(K!==ae.shadowMap.enabled||he!==ae.shadowMap.type)&&(ae.shadowMap.needsUpdate=!0)}const V=Cu();V&&("enabled"in V?V.enabled=!F:"legacyMode"in V&&(V.legacyMode=F)),w||Gn(ae,{outputEncoding:I?3e3:3001,toneMapping:k?Kc:Jc}),Q.legacy!==F&&Q.set(()=>({legacy:F})),Q.linear!==I&&Q.set(()=>({linear:I})),Q.flat!==k&&Q.set(()=>({flat:k})),m&&!qe.fun(m)&&!Au(m)&&!qe.equ(m,ae,Nr)&&Gn(ae,m),T&&!Q.events.handlers&&Q.set({events:T(g)});const oe=$f(o,E);return qe.equ(oe,Q.size,Nr)||Q.setSize(oe.width,oe.height,oe.updateStyle,oe.top,oe.left),B&&Q.viewport.dpr!==Nu(B)&&Q.setDpr(B),Q.frameloop!==W&&Q.setFrameloop(W),Q.onPointerMissed||Q.set({onPointerMissed:G}),se&&!qe.equ(se,Q.performance,Nr)&&Q.set(K=>({performance:{...K.performance,...se}})),y=j,w=!0,this},render(d){return w||this.configure(),gi.updateContainer(Ke.jsx(td,{store:g,children:d,onCreated:y,rootElement:o}),p,null,()=>{}),g},unmount(){Uu(o)}}}function td({store:o,children:i,onCreated:u,rootElement:a}){return wi(()=>{const h=o.getState();h.set(g=>({internal:{...g.internal,active:!0}})),u&&u(h),o.getState().events.connected||h.events.connect==null||h.events.connect(a)},[]),Ke.jsx(na.Provider,{value:o,children:i})}function Uu(o,i){const u=Br.get(o),a=u?.fiber;if(a){const h=u?.store.getState();h&&(h.internal.active=!1),gi.updateContainer(null,a,null,()=>{h&&setTimeout(()=>{try{var g,p,y,w;h.events.disconnect==null||h.events.disconnect(),(g=h.gl)==null||(p=g.renderLists)==null||p.dispose==null||p.dispose(),(y=h.gl)==null||y.forceContextLoss==null||y.forceContextLoss(),(w=h.gl)!=null&&w.xr&&h.xr.disconnect(),Hf(h),Br.delete(o),i&&i(o)}catch{}},500)})}}function nd(o,i,u){return Ke.jsx(rd,{children:o,container:i,state:u},i.uuid)}function rd({state:o={},children:i,container:u}){const{events:a,size:h,...g}=o,p=ra(),[y]=X.useState(()=>new du),[w]=X.useState(()=>new Ht),_=X.useCallback((m,E)=>{const C={...m};Object.keys(m).forEach(j=>{(Yf.includes(j)||m[j]!==E[j]&&E[j])&&delete C[j]});let T;if(E&&h){const j=E.camera;T=m.viewport.getCurrentViewport(j,new lt,h),j!==m.camera&&Lu(j,h)}return{...C,scene:u,raycaster:y,pointer:w,mouse:w,previousRoot:p,events:{...m.events,...E?.events,...a},size:{...m.size,...h},viewport:{...m.viewport,...T},...g}},[o]),[d]=X.useState(()=>{const m=p.getState();return wu((C,T)=>({...m,scene:u,raycaster:y,pointer:w,mouse:w,previousRoot:p,events:{...m.events,...a},size:{...m.size,...h},...g,set:C,get:T,setEvents:j=>C(D=>({...D,events:{...D.events,...j}}))}))});return X.useEffect(()=>{const m=p.subscribe(E=>d.setState(C=>_(E,C)));return()=>{m()}},[_]),X.useEffect(()=>{d.setState(m=>_(p.getState(),m))},[_]),X.useEffect(()=>()=>{d.destroy()},[]),Ke.jsx(Ke.Fragment,{children:gi.createPortal(Ke.jsx(na.Provider,{value:d,children:i}),d,null)})}gi.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:X.version});const Go={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function id(o){const{handlePointer:i}=Qf(o);return{priority:1,enabled:!0,compute(u,a,h){a.pointer.set(u.offsetX/a.size.width*2-1,-(u.offsetY/a.size.height)*2+1),a.raycaster.setFromCamera(a.pointer,a.camera)},connected:void 0,handlers:Object.keys(Go).reduce((u,a)=>({...u,[a]:i(a)}),{}),update:()=>{var u;const{events:a,internal:h}=o.getState();(u=h.lastEvent)!=null&&u.current&&a.handlers&&a.handlers.onPointerMove(h.lastEvent.current)},connect:u=>{var a;const{set:h,events:g}=o.getState();g.disconnect==null||g.disconnect(),h(p=>({events:{...p.events,connected:u}})),Object.entries((a=g.handlers)!=null?a:[]).forEach(([p,y])=>{const[w,_]=Go[p];u.addEventListener(w,y,{passive:_})})},disconnect:()=>{const{set:u,events:a}=o.getState();if(a.connected){var h;Object.entries((h=a.handlers)!=null?h:[]).forEach(([g,p])=>{if(a&&a.connected instanceof HTMLElement){const[y]=Go[g];a.connected.removeEventListener(y,p)}}),u(g=>({events:{...g.events,connected:void 0}}))}}}}function tu(o,i){let u;return(...a)=>{window.clearTimeout(u),u=window.setTimeout(()=>o(...a),i)}}function ld({debounce:o,scroll:i,polyfill:u,offsetSize:a}={debounce:0,scroll:!1,offsetSize:!1}){const h=u||(typeof window>"u"?class{}:window.ResizeObserver);if(!h)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[g,p]=X.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),y=X.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:g,orientationHandler:null}),w=o?typeof o=="number"?o:o.scroll:null,_=o?typeof o=="number"?o:o.resize:null,d=X.useRef(!1);X.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[m,E,C]=X.useMemo(()=>{const I=()=>{if(!y.current.element)return;const{left:k,top:F,width:re,height:W,bottom:B,right:se,x:U,y:H}=y.current.element.getBoundingClientRect(),G={left:k,top:F,width:re,height:W,bottom:B,right:se,x:U,y:H};y.current.element instanceof HTMLElement&&a&&(G.height=y.current.element.offsetHeight,G.width=y.current.element.offsetWidth),Object.freeze(G),d.current&&!ud(y.current.lastBounds,G)&&p(y.current.lastBounds=G)};return[I,_?tu(I,_):I,w?tu(I,w):I]},[p,a,w,_]);function T(){y.current.scrollContainers&&(y.current.scrollContainers.forEach(I=>I.removeEventListener("scroll",C,!0)),y.current.scrollContainers=null),y.current.resizeObserver&&(y.current.resizeObserver.disconnect(),y.current.resizeObserver=null),y.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",y.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",y.current.orientationHandler))}function j(){y.current.element&&(y.current.resizeObserver=new h(C),y.current.resizeObserver.observe(y.current.element),i&&y.current.scrollContainers&&y.current.scrollContainers.forEach(I=>I.addEventListener("scroll",C,{capture:!0,passive:!0})),y.current.orientationHandler=()=>{C()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",y.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",y.current.orientationHandler))}const D=I=>{!I||I===y.current.element||(T(),y.current.element=I,y.current.scrollContainers=Bu(I),j())};return ad(C,!!i),od(E),X.useEffect(()=>{T(),j()},[i,C,E]),X.useEffect(()=>T,[]),[D,g,m]}function od(o){X.useEffect(()=>{const i=o;return window.addEventListener("resize",i),()=>void window.removeEventListener("resize",i)},[o])}function ad(o,i){X.useEffect(()=>{if(i){const u=o;return window.addEventListener("scroll",u,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",u,!0)}},[o,i])}function Bu(o){const i=[];if(!o||o===document.body)return i;const{overflow:u,overflowX:a,overflowY:h}=window.getComputedStyle(o);return[u,a,h].some(g=>g==="auto"||g==="scroll")&&i.push(o),[...i,...Bu(o.parentElement)]}const sd=["x","y","top","bottom","left","right","width","height"],ud=(o,i)=>sd.every(u=>o[u]===i[u]);var cd=Object.defineProperty,fd=Object.defineProperties,dd=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,pd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable,ru=(o,i,u)=>i in o?cd(o,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[i]=u,iu=(o,i)=>{for(var u in i||(i={}))pd.call(i,u)&&ru(o,u,i[u]);if(nu)for(var u of nu(i))hd.call(i,u)&&ru(o,u,i[u]);return o},md=(o,i)=>fd(o,dd(i)),lu,ou;typeof window<"u"&&((lu=window.document)!=null&&lu.createElement||((ou=window.navigator)==null?void 0:ou.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function ju(o,i,u){if(!o)return;if(u(o)===!0)return o;let a=i?o.return:o.child;for(;a;){const h=ju(a,i,u);if(h)return h;a=i?null:a.sibling}}function Hu(o){try{return Object.defineProperties(o,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return o}}const au=console.error;console.error=function(){const o=[...arguments].join("");if(o?.startsWith("Warning:")&&o.includes("useContext")){console.error=au;return}return au.apply(this,arguments)};const ia=Hu(X.createContext(null));class Wu extends X.Component{render(){return X.createElement(ia.Provider,{value:this._reactInternals},this.props.children)}}function vd(){const o=X.useContext(ia);if(o===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=X.useId();return X.useMemo(()=>{for(const a of[o,o?.alternate]){if(!a)continue;const h=ju(a,!1,g=>{let p=g.memoizedState;for(;p;){if(p.memoizedState===i)return!0;p=p.next}});if(h)return h}},[o,i])}function gd(){const o=vd(),[i]=X.useState(()=>new Map);i.clear();let u=o;for(;u;){if(u.type&&typeof u.type=="object"){const h=u.type._context===void 0&&u.type.Provider===u.type?u.type:u.type._context;h&&h!==ia&&!i.has(h)&&i.set(h,X.useContext(Hu(h)))}u=u.return}return i}function yd(){const o=gd();return X.useMemo(()=>Array.from(o.keys()).reduce((i,u)=>a=>X.createElement(i,null,X.createElement(u.Provider,md(iu({},a),{value:o.get(u)}))),i=>X.createElement(Wu,iu({},i))),[o])}const wd=X.forwardRef(function({children:i,fallback:u,resize:a,style:h,gl:g,events:p=id,eventSource:y,eventPrefix:w,shadows:_,linear:d,flat:m,legacy:E,orthographic:C,frameloop:T,dpr:j,performance:D,raycaster:I,camera:k,scene:F,onPointerMissed:re,onCreated:W,...B},se){X.useMemo(()=>Pu(nf),[]);const U=yd(),[H,G]=ld({scroll:!0,debounce:{scroll:50,resize:0},...a}),Q=X.useRef(null),ae=X.useRef(null);X.useImperativeHandle(se,()=>Q.current);const pe=Iu(re),[fe,ze]=X.useState(!1),[we,be]=X.useState(!1);if(fe)throw fe;if(we)throw we;const V=X.useRef(null);wi(()=>{const K=Q.current;G.width>0&&G.height>0&&K&&(V.current||(V.current=ed(K)),V.current.configure({gl:g,events:p,shadows:_,linear:d,flat:m,legacy:E,orthographic:C,frameloop:T,dpr:j,performance:D,raycaster:I,camera:k,scene:F,size:G,onPointerMissed:(...he)=>pe.current==null?void 0:pe.current(...he),onCreated:he=>{he.events.connect==null||he.events.connect(y?Ff(y)?y.current:y:ae.current),w&&he.setEvents({compute:(me,_e)=>{const Ye=me[w+"X"],ot=me[w+"Y"];_e.pointer.set(Ye/_e.size.width*2-1,-(ot/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),W?.(he)}}),V.current.render(Ke.jsx(U,{children:Ke.jsx(Ru,{set:be,children:Ke.jsx(X.Suspense,{fallback:Ke.jsx(Uf,{set:ze}),children:i??null})})})))}),X.useEffect(()=>{const K=Q.current;if(K)return()=>Uu(K)},[]);const oe=y?"none":"auto";return Ke.jsx("div",{ref:ae,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:oe,...h},...B,children:Ke.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:Ke.jsx("canvas",{ref:Q,style:{display:"block"},children:u})})})}),Sd=X.forwardRef(function(i,u){return Ke.jsx(Wu,{children:Ke.jsx(wd,{...i,ref:u})})}),Gu=(()=>parseInt(rf.replace(/\D+/g,"")))();var bt=Uint8Array,Qn=Uint16Array,Jo=Uint32Array,Zu=new bt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qu=new bt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ed=new bt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yu=function(o,i){for(var u=new Qn(31),a=0;a<31;++a)u[a]=i+=1<<o[a-1];for(var h=new Jo(u[30]),a=1;a<30;++a)for(var g=u[a];g<u[a+1];++g)h[g]=g-u[a]<<5|a;return[u,h]},Xu=Yu(Zu,2),Vu=Xu[0],_d=Xu[1];Vu[28]=258,_d[258]=28;var xd=Yu(Qu,0),Md=xd[0],qo=new Qn(32768);for(var $e=0;$e<32768;++$e){var Wn=($e&43690)>>>1|($e&21845)<<1;Wn=(Wn&52428)>>>2|(Wn&13107)<<2,Wn=(Wn&61680)>>>4|(Wn&3855)<<4,qo[$e]=((Wn&65280)>>>8|(Wn&255)<<8)>>>1}var vi=function(o,i,u){for(var a=o.length,h=0,g=new Qn(i);h<a;++h)++g[o[h]-1];var p=new Qn(i);for(h=0;h<i;++h)p[h]=p[h-1]+g[h-1]<<1;var y;if(u){y=new Qn(1<<i);var w=15-i;for(h=0;h<a;++h)if(o[h])for(var _=h<<4|o[h],d=i-o[h],m=p[o[h]-1]++<<d,E=m|(1<<d)-1;m<=E;++m)y[qo[m]>>>w]=_}else for(y=new Qn(a),h=0;h<a;++h)o[h]&&(y[h]=qo[p[o[h]-1]++]>>>15-o[h]);return y},Si=new bt(288);for(var $e=0;$e<144;++$e)Si[$e]=8;for(var $e=144;$e<256;++$e)Si[$e]=9;for(var $e=256;$e<280;++$e)Si[$e]=7;for(var $e=280;$e<288;++$e)Si[$e]=8;var Ku=new bt(32);for(var $e=0;$e<32;++$e)Ku[$e]=5;var Pd=vi(Si,9,1),Cd=vi(Ku,5,1),Zo=function(o){for(var i=o[0],u=1;u<o.length;++u)o[u]>i&&(i=o[u]);return i},rn=function(o,i,u){var a=i/8|0;return(o[a]|o[a+1]<<8)>>(i&7)&u},Qo=function(o,i){var u=i/8|0;return(o[u]|o[u+1]<<8|o[u+2]<<16)>>(i&7)},Td=function(o){return(o/8|0)+(o&7&&1)},Id=function(o,i,u){(i==null||i<0)&&(i=0),(u==null||u>o.length)&&(u=o.length);var a=new(o instanceof Qn?Qn:o instanceof Jo?Jo:bt)(u-i);return a.set(o.subarray(i,u)),a},Rd=function(o,i,u){var a=o.length;if(!a||u&&!u.l&&a<5)return i||new bt(0);var h=!i||u,g=!u||u.i;u||(u={}),i||(i=new bt(a*3));var p=function(Re){var ct=i.length;if(Re>ct){var Ot=new bt(Math.max(ct*2,Re));Ot.set(i),i=Ot}},y=u.f||0,w=u.p||0,_=u.b||0,d=u.l,m=u.d,E=u.m,C=u.n,T=a*8;do{if(!d){u.f=y=rn(o,w,1);var j=rn(o,w+1,3);if(w+=3,j)if(j==1)d=Pd,m=Cd,E=9,C=5;else if(j==2){var F=rn(o,w,31)+257,re=rn(o,w+10,15)+4,W=F+rn(o,w+5,31)+1;w+=14;for(var B=new bt(W),se=new bt(19),U=0;U<re;++U)se[Ed[U]]=rn(o,w+U*3,7);w+=re*3;for(var H=Zo(se),G=(1<<H)-1,Q=vi(se,H,1),U=0;U<W;){var ae=Q[rn(o,w,G)];w+=ae&15;var D=ae>>>4;if(D<16)B[U++]=D;else{var pe=0,fe=0;for(D==16?(fe=3+rn(o,w,3),w+=2,pe=B[U-1]):D==17?(fe=3+rn(o,w,7),w+=3):D==18&&(fe=11+rn(o,w,127),w+=7);fe--;)B[U++]=pe}}var ze=B.subarray(0,F),we=B.subarray(F);E=Zo(ze),C=Zo(we),d=vi(ze,E,1),m=vi(we,C,1)}else throw"invalid block type";else{var D=Td(w)+4,I=o[D-4]|o[D-3]<<8,k=D+I;if(k>a){if(g)throw"unexpected EOF";break}h&&p(_+I),i.set(o.subarray(D,k),_),u.b=_+=I,u.p=w=k*8;continue}if(w>T){if(g)throw"unexpected EOF";break}}h&&p(_+131072);for(var be=(1<<E)-1,V=(1<<C)-1,oe=w;;oe=w){var pe=d[Qo(o,w)&be],K=pe>>>4;if(w+=pe&15,w>T){if(g)throw"unexpected EOF";break}if(!pe)throw"invalid length/literal";if(K<256)i[_++]=K;else if(K==256){oe=w,d=null;break}else{var he=K-254;if(K>264){var U=K-257,me=Zu[U];he=rn(o,w,(1<<me)-1)+Vu[U],w+=me}var _e=m[Qo(o,w)&V],Ye=_e>>>4;if(!_e)throw"invalid distance";w+=_e&15;var we=Md[Ye];if(Ye>3){var me=Qu[Ye];we+=Qo(o,w)&(1<<me)-1,w+=me}if(w>T){if(g)throw"unexpected EOF";break}h&&p(_+131072);for(var ot=_+he;_<ot;_+=4)i[_]=i[_-we],i[_+1]=i[_+1-we],i[_+2]=i[_+2-we],i[_+3]=i[_+3-we];_=ot}}u.l=d,u.p=oe,u.b=_,d&&(y=1,u.m=E,u.d=m,u.n=C)}while(!y);return _==i.length?i:Id(i,0,_)},kd=new bt(0),Nd=function(o){if((o[0]&15)!=8||o[0]>>>4>7||(o[0]<<8|o[1])%31)throw"invalid zlib data";if(o[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function gl(o,i){return Rd((Nd(o),o.subarray(2,-4)),i)}var zd=typeof TextDecoder<"u"&&new TextDecoder,Ld=0;try{zd.decode(kd,{stream:!0}),Ld=1}catch{}const Od=o=>o&&o.isCubeTexture;class Ad extends $o{constructor(i,u){var a,h;const g=Od(i),y=((h=g?(a=i.image[0])==null?void 0:a.width:i.image.width)!=null?h:1024)/4,w=Math.floor(Math.log2(y)),_=Math.pow(2,w),d=3*Math.max(_,16*7),m=4*_,E=[g?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/m}`,`#define CUBEUV_MAX_MIP ${w}.0`],C=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,T=E.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Gu>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,j={map:{value:i},height:{value:u?.height||15},radius:{value:u?.radius||100}},D=new lf(1,16),I=new ea({uniforms:j,fragmentShader:T,vertexShader:C,side:of});super(D,I)}set radius(i){this.material.uniforms.radius.value=i}get radius(){return this.material.uniforms.radius.value}set height(i){this.material.uniforms.height.value=i}get height(){return this.material.uniforms.height.value}}var Dd=Object.defineProperty,Fd=(o,i,u)=>i in o?Dd(o,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[i]=u,Ud=(o,i,u)=>(Fd(o,typeof i!="symbol"?i+"":i,u),u);class Bd{constructor(){Ud(this,"_listeners")}addEventListener(i,u){this._listeners===void 0&&(this._listeners={});const a=this._listeners;a[i]===void 0&&(a[i]=[]),a[i].indexOf(u)===-1&&a[i].push(u)}hasEventListener(i,u){if(this._listeners===void 0)return!1;const a=this._listeners;return a[i]!==void 0&&a[i].indexOf(u)!==-1}removeEventListener(i,u){if(this._listeners===void 0)return;const h=this._listeners[i];if(h!==void 0){const g=h.indexOf(u);g!==-1&&h.splice(g,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const a=this._listeners[i.type];if(a!==void 0){i.target=this;const h=a.slice(0);for(let g=0,p=h.length;g<p;g++)h[g].call(this,i);i.target=null}}}var jd=Object.defineProperty,Hd=(o,i,u)=>i in o?jd(o,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[i]=u,Ee=(o,i,u)=>(Hd(o,typeof i!="symbol"?i+"":i,u),u);const yl=new af,su=new sf,Wd=Math.cos(70*(Math.PI/180)),uu=(o,i)=>(o%i+i)%i;let Gd=class extends Bd{constructor(i,u){super(),Ee(this,"object"),Ee(this,"domElement"),Ee(this,"enabled",!0),Ee(this,"target",new lt),Ee(this,"minDistance",0),Ee(this,"maxDistance",1/0),Ee(this,"minZoom",0),Ee(this,"maxZoom",1/0),Ee(this,"minPolarAngle",0),Ee(this,"maxPolarAngle",Math.PI),Ee(this,"minAzimuthAngle",-1/0),Ee(this,"maxAzimuthAngle",1/0),Ee(this,"enableDamping",!1),Ee(this,"dampingFactor",.05),Ee(this,"enableZoom",!0),Ee(this,"zoomSpeed",1),Ee(this,"enableRotate",!0),Ee(this,"rotateSpeed",1),Ee(this,"enablePan",!0),Ee(this,"panSpeed",1),Ee(this,"screenSpacePanning",!0),Ee(this,"keyPanSpeed",7),Ee(this,"zoomToCursor",!1),Ee(this,"autoRotate",!1),Ee(this,"autoRotateSpeed",2),Ee(this,"reverseOrbit",!1),Ee(this,"reverseHorizontalOrbit",!1),Ee(this,"reverseVerticalOrbit",!1),Ee(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ee(this,"mouseButtons",{LEFT:Rr.ROTATE,MIDDLE:Rr.DOLLY,RIGHT:Rr.PAN}),Ee(this,"touches",{ONE:kr.ROTATE,TWO:kr.DOLLY_PAN}),Ee(this,"target0"),Ee(this,"position0"),Ee(this,"zoom0"),Ee(this,"_domElementKeyEvents",null),Ee(this,"getPolarAngle"),Ee(this,"getAzimuthalAngle"),Ee(this,"setPolarAngle"),Ee(this,"setAzimuthalAngle"),Ee(this,"getDistance"),Ee(this,"getZoomScale"),Ee(this,"listenToKeyEvents"),Ee(this,"stopListenToKeyEvents"),Ee(this,"saveState"),Ee(this,"reset"),Ee(this,"update"),Ee(this,"connect"),Ee(this,"dispose"),Ee(this,"dollyIn"),Ee(this,"dollyOut"),Ee(this,"getScale"),Ee(this,"setScale"),this.object=i,this.domElement=u,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=P=>{let Y=uu(P,2*Math.PI),ue=d.phi;ue<0&&(ue+=2*Math.PI),Y<0&&(Y+=2*Math.PI);let Ae=Math.abs(Y-ue);2*Math.PI-Ae<Ae&&(Y<ue?Y+=2*Math.PI:ue+=2*Math.PI),m.phi=Y-ue,a.update()},this.setAzimuthalAngle=P=>{let Y=uu(P,2*Math.PI),ue=d.theta;ue<0&&(ue+=2*Math.PI),Y<0&&(Y+=2*Math.PI);let Ae=Math.abs(Y-ue);2*Math.PI-Ae<Ae&&(Y<ue?Y+=2*Math.PI:ue+=2*Math.PI),m.theta=Y-ue,a.update()},this.getDistance=()=>a.object.position.distanceTo(a.target),this.listenToKeyEvents=P=>{P.addEventListener("keydown",kn),this._domElementKeyEvents=P},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",kn),this._domElementKeyEvents=null},this.saveState=()=>{a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=()=>{a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(h),a.update(),w=y.NONE},this.update=(()=>{const P=new lt,Y=new lt(0,1,0),ue=new Gs().setFromUnitVectors(i.up,Y),Ae=ue.clone().invert(),b=new lt,yt=new Gs,Gt=2*Math.PI;return function(){const Kn=a.object.position;ue.setFromUnitVectors(i.up,Y),Ae.copy(ue).invert(),P.copy(Kn).sub(a.target),P.applyQuaternion(ue),d.setFromVector3(P),a.autoRotate&&w===y.NONE&&fe(ae()),a.enableDamping?(d.theta+=m.theta*a.dampingFactor,d.phi+=m.phi*a.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let kt=a.minAzimuthAngle,Dt=a.maxAzimuthAngle;isFinite(kt)&&isFinite(Dt)&&(kt<-Math.PI?kt+=Gt:kt>Math.PI&&(kt-=Gt),Dt<-Math.PI?Dt+=Gt:Dt>Math.PI&&(Dt-=Gt),kt<=Dt?d.theta=Math.max(kt,Math.min(Dt,d.theta)):d.theta=d.theta>(kt+Dt)/2?Math.max(kt,d.theta):Math.min(Dt,d.theta)),d.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,d.phi)),d.makeSafe(),a.enableDamping===!0?a.target.addScaledVector(C,a.dampingFactor):a.target.add(C),a.zoomToCursor&&H||a.object.isOrthographicCamera?d.radius=_e(d.radius):d.radius=_e(d.radius*E),P.setFromSpherical(d),P.applyQuaternion(Ae),Kn.copy(a.target).add(P),a.object.matrixAutoUpdate||a.object.updateMatrix(),a.object.lookAt(a.target),a.enableDamping===!0?(m.theta*=1-a.dampingFactor,m.phi*=1-a.dampingFactor,C.multiplyScalar(1-a.dampingFactor)):(m.set(0,0,0),C.set(0,0,0));let ln=!1;if(a.zoomToCursor&&H){let on=null;if(a.object instanceof Sl&&a.object.isPerspectiveCamera){const an=P.length();on=_e(an*E);const Ln=an-on;a.object.position.addScaledVector(se,Ln),a.object.updateMatrixWorld()}else if(a.object.isOrthographicCamera){const an=new lt(U.x,U.y,0);an.unproject(a.object),a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/E)),a.object.updateProjectionMatrix(),ln=!0;const Ln=new lt(U.x,U.y,0);Ln.unproject(a.object),a.object.position.sub(Ln).add(an),a.object.updateMatrixWorld(),on=P.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),a.zoomToCursor=!1;on!==null&&(a.screenSpacePanning?a.target.set(0,0,-1).transformDirection(a.object.matrix).multiplyScalar(on).add(a.object.position):(yl.origin.copy(a.object.position),yl.direction.set(0,0,-1).transformDirection(a.object.matrix),Math.abs(a.object.up.dot(yl.direction))<Wd?i.lookAt(a.target):(su.setFromNormalAndCoplanarPoint(a.object.up,a.target),yl.intersectPlane(su,a.target))))}else a.object instanceof mi&&a.object.isOrthographicCamera&&(ln=E!==1,ln&&(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/E)),a.object.updateProjectionMatrix()));return E=1,H=!1,ln||b.distanceToSquared(a.object.position)>_||8*(1-yt.dot(a.object.quaternion))>_?(a.dispatchEvent(h),b.copy(a.object.position),yt.copy(a.object.quaternion),ln=!1,!0):!1}})(),this.connect=P=>{a.domElement=P,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",vr),a.domElement.addEventListener("pointerdown",hr),a.domElement.addEventListener("pointercancel",At),a.domElement.addEventListener("wheel",mr)},this.dispose=()=>{var P,Y,ue,Ae,b,yt;a.domElement&&(a.domElement.style.touchAction="auto"),(P=a.domElement)==null||P.removeEventListener("contextmenu",vr),(Y=a.domElement)==null||Y.removeEventListener("pointerdown",hr),(ue=a.domElement)==null||ue.removeEventListener("pointercancel",At),(Ae=a.domElement)==null||Ae.removeEventListener("wheel",mr),(b=a.domElement)==null||b.ownerDocument.removeEventListener("pointermove",Rn),(yt=a.domElement)==null||yt.ownerDocument.removeEventListener("pointerup",At),a._domElementKeyEvents!==null&&a._domElementKeyEvents.removeEventListener("keydown",kn)};const a=this,h={type:"change"},g={type:"start"},p={type:"end"},y={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let w=y.NONE;const _=1e-6,d=new Zs,m=new Zs;let E=1;const C=new lt,T=new Ht,j=new Ht,D=new Ht,I=new Ht,k=new Ht,F=new Ht,re=new Ht,W=new Ht,B=new Ht,se=new lt,U=new Ht;let H=!1;const G=[],Q={};function ae(){return 2*Math.PI/60/60*a.autoRotateSpeed}function pe(){return Math.pow(.95,a.zoomSpeed)}function fe(P){a.reverseOrbit||a.reverseHorizontalOrbit?m.theta+=P:m.theta-=P}function ze(P){a.reverseOrbit||a.reverseVerticalOrbit?m.phi+=P:m.phi-=P}const we=(()=>{const P=new lt;return function(ue,Ae){P.setFromMatrixColumn(Ae,0),P.multiplyScalar(-ue),C.add(P)}})(),be=(()=>{const P=new lt;return function(ue,Ae){a.screenSpacePanning===!0?P.setFromMatrixColumn(Ae,1):(P.setFromMatrixColumn(Ae,0),P.crossVectors(a.object.up,P)),P.multiplyScalar(ue),C.add(P)}})(),V=(()=>{const P=new lt;return function(ue,Ae){const b=a.domElement;if(b&&a.object instanceof Sl&&a.object.isPerspectiveCamera){const yt=a.object.position;P.copy(yt).sub(a.target);let Gt=P.length();Gt*=Math.tan(a.object.fov/2*Math.PI/180),we(2*ue*Gt/b.clientHeight,a.object.matrix),be(2*Ae*Gt/b.clientHeight,a.object.matrix)}else b&&a.object instanceof mi&&a.object.isOrthographicCamera?(we(ue*(a.object.right-a.object.left)/a.object.zoom/b.clientWidth,a.object.matrix),be(Ae*(a.object.top-a.object.bottom)/a.object.zoom/b.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}})();function oe(P){a.object instanceof Sl&&a.object.isPerspectiveCamera||a.object instanceof mi&&a.object.isOrthographicCamera?E=P:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function K(P){oe(E/P)}function he(P){oe(E*P)}function me(P){if(!a.zoomToCursor||!a.domElement)return;H=!0;const Y=a.domElement.getBoundingClientRect(),ue=P.clientX-Y.left,Ae=P.clientY-Y.top,b=Y.width,yt=Y.height;U.x=ue/b*2-1,U.y=-(Ae/yt)*2+1,se.set(U.x,U.y,1).unproject(a.object).sub(a.object.position).normalize()}function _e(P){return Math.max(a.minDistance,Math.min(a.maxDistance,P))}function Ye(P){T.set(P.clientX,P.clientY)}function ot(P){me(P),re.set(P.clientX,P.clientY)}function Re(P){I.set(P.clientX,P.clientY)}function ct(P){j.set(P.clientX,P.clientY),D.subVectors(j,T).multiplyScalar(a.rotateSpeed);const Y=a.domElement;Y&&(fe(2*Math.PI*D.x/Y.clientHeight),ze(2*Math.PI*D.y/Y.clientHeight)),T.copy(j),a.update()}function Ot(P){W.set(P.clientX,P.clientY),B.subVectors(W,re),B.y>0?K(pe()):B.y<0&&he(pe()),re.copy(W),a.update()}function Yn(P){k.set(P.clientX,P.clientY),F.subVectors(k,I).multiplyScalar(a.panSpeed),V(F.x,F.y),I.copy(k),a.update()}function In(P){me(P),P.deltaY<0?he(pe()):P.deltaY>0&&K(pe()),a.update()}function Et(P){let Y=!1;switch(P.code){case a.keys.UP:V(0,a.keyPanSpeed),Y=!0;break;case a.keys.BOTTOM:V(0,-a.keyPanSpeed),Y=!0;break;case a.keys.LEFT:V(a.keyPanSpeed,0),Y=!0;break;case a.keys.RIGHT:V(-a.keyPanSpeed,0),Y=!0;break}Y&&(P.preventDefault(),a.update())}function gn(){if(G.length==1)T.set(G[0].pageX,G[0].pageY);else{const P=.5*(G[0].pageX+G[1].pageX),Y=.5*(G[0].pageY+G[1].pageY);T.set(P,Y)}}function ft(){if(G.length==1)I.set(G[0].pageX,G[0].pageY);else{const P=.5*(G[0].pageX+G[1].pageX),Y=.5*(G[0].pageY+G[1].pageY);I.set(P,Y)}}function Xn(){const P=G[0].pageX-G[1].pageX,Y=G[0].pageY-G[1].pageY,ue=Math.sqrt(P*P+Y*Y);re.set(0,ue)}function cr(){a.enableZoom&&Xn(),a.enablePan&&ft()}function jr(){a.enableZoom&&Xn(),a.enableRotate&&gn()}function fr(P){if(G.length==1)j.set(P.pageX,P.pageY);else{const ue=zn(P),Ae=.5*(P.pageX+ue.x),b=.5*(P.pageY+ue.y);j.set(Ae,b)}D.subVectors(j,T).multiplyScalar(a.rotateSpeed);const Y=a.domElement;Y&&(fe(2*Math.PI*D.x/Y.clientHeight),ze(2*Math.PI*D.y/Y.clientHeight)),T.copy(j)}function dr(P){if(G.length==1)k.set(P.pageX,P.pageY);else{const Y=zn(P),ue=.5*(P.pageX+Y.x),Ae=.5*(P.pageY+Y.y);k.set(ue,Ae)}F.subVectors(k,I).multiplyScalar(a.panSpeed),V(F.x,F.y),I.copy(k)}function pr(P){const Y=zn(P),ue=P.pageX-Y.x,Ae=P.pageY-Y.y,b=Math.sqrt(ue*ue+Ae*Ae);W.set(0,b),B.set(0,Math.pow(W.y/re.y,a.zoomSpeed)),K(B.y),re.copy(W)}function yn(P){a.enableZoom&&pr(P),a.enablePan&&dr(P)}function Hr(P){a.enableZoom&&pr(P),a.enableRotate&&fr(P)}function hr(P){var Y,ue;a.enabled!==!1&&(G.length===0&&((Y=a.domElement)==null||Y.ownerDocument.addEventListener("pointermove",Rn),(ue=a.domElement)==null||ue.ownerDocument.addEventListener("pointerup",At)),Zr(P),P.pointerType==="touch"?Nn(P):Vn(P))}function Rn(P){a.enabled!==!1&&(P.pointerType==="touch"?Gr(P):Wr(P))}function At(P){var Y,ue,Ae;wn(P),G.length===0&&((Y=a.domElement)==null||Y.releasePointerCapture(P.pointerId),(ue=a.domElement)==null||ue.ownerDocument.removeEventListener("pointermove",Rn),(Ae=a.domElement)==null||Ae.ownerDocument.removeEventListener("pointerup",At)),a.dispatchEvent(p),w=y.NONE}function Vn(P){let Y;switch(P.button){case 0:Y=a.mouseButtons.LEFT;break;case 1:Y=a.mouseButtons.MIDDLE;break;case 2:Y=a.mouseButtons.RIGHT;break;default:Y=-1}switch(Y){case Rr.DOLLY:if(a.enableZoom===!1)return;ot(P),w=y.DOLLY;break;case Rr.ROTATE:if(P.ctrlKey||P.metaKey||P.shiftKey){if(a.enablePan===!1)return;Re(P),w=y.PAN}else{if(a.enableRotate===!1)return;Ye(P),w=y.ROTATE}break;case Rr.PAN:if(P.ctrlKey||P.metaKey||P.shiftKey){if(a.enableRotate===!1)return;Ye(P),w=y.ROTATE}else{if(a.enablePan===!1)return;Re(P),w=y.PAN}break;default:w=y.NONE}w!==y.NONE&&a.dispatchEvent(g)}function Wr(P){if(a.enabled!==!1)switch(w){case y.ROTATE:if(a.enableRotate===!1)return;ct(P);break;case y.DOLLY:if(a.enableZoom===!1)return;Ot(P);break;case y.PAN:if(a.enablePan===!1)return;Yn(P);break}}function mr(P){a.enabled===!1||a.enableZoom===!1||w!==y.NONE&&w!==y.ROTATE||(P.preventDefault(),a.dispatchEvent(g),In(P),a.dispatchEvent(p))}function kn(P){a.enabled===!1||a.enablePan===!1||Et(P)}function Nn(P){switch(dt(P),G.length){case 1:switch(a.touches.ONE){case kr.ROTATE:if(a.enableRotate===!1)return;gn(),w=y.TOUCH_ROTATE;break;case kr.PAN:if(a.enablePan===!1)return;ft(),w=y.TOUCH_PAN;break;default:w=y.NONE}break;case 2:switch(a.touches.TWO){case kr.DOLLY_PAN:if(a.enableZoom===!1&&a.enablePan===!1)return;cr(),w=y.TOUCH_DOLLY_PAN;break;case kr.DOLLY_ROTATE:if(a.enableZoom===!1&&a.enableRotate===!1)return;jr(),w=y.TOUCH_DOLLY_ROTATE;break;default:w=y.NONE}break;default:w=y.NONE}w!==y.NONE&&a.dispatchEvent(g)}function Gr(P){switch(dt(P),w){case y.TOUCH_ROTATE:if(a.enableRotate===!1)return;fr(P),a.update();break;case y.TOUCH_PAN:if(a.enablePan===!1)return;dr(P),a.update();break;case y.TOUCH_DOLLY_PAN:if(a.enableZoom===!1&&a.enablePan===!1)return;yn(P),a.update();break;case y.TOUCH_DOLLY_ROTATE:if(a.enableZoom===!1&&a.enableRotate===!1)return;Hr(P),a.update();break;default:w=y.NONE}}function vr(P){a.enabled!==!1&&P.preventDefault()}function Zr(P){G.push(P)}function wn(P){delete Q[P.pointerId];for(let Y=0;Y<G.length;Y++)if(G[Y].pointerId==P.pointerId){G.splice(Y,1);return}}function dt(P){let Y=Q[P.pointerId];Y===void 0&&(Y=new Ht,Q[P.pointerId]=Y),Y.set(P.pageX,P.pageY)}function zn(P){const Y=P.pointerId===G[0].pointerId?G[1]:G[0];return Q[Y.pointerId]}this.dollyIn=(P=pe())=>{he(P),a.update()},this.dollyOut=(P=pe())=>{K(P),a.update()},this.getScale=()=>E,this.setScale=P=>{oe(P),a.update()},this.getZoomScale=()=>pe(),u!==void 0&&this.connect(u),this.update()}};class Zd extends hu{constructor(i){super(i),this.type=$t}parse(i){const p=function(U,H){switch(U){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(H||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(H||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(H||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(H||""))}},d=`
`,m=function(U,H,G){H=H||1024;let ae=U.pos,pe=-1,fe=0,ze="",we=String.fromCharCode.apply(null,new Uint16Array(U.subarray(ae,ae+128)));for(;0>(pe=we.indexOf(d))&&fe<H&&ae<U.byteLength;)ze+=we,fe+=we.length,ae+=128,we+=String.fromCharCode.apply(null,new Uint16Array(U.subarray(ae,ae+128)));return-1<pe?(G!==!1&&(U.pos+=fe+pe+1),ze+we.slice(0,pe)):!1},E=function(U){const H=/^#\?(\S+)/,G=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ae=/^\s*FORMAT=(\S+)\s*$/,pe=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,fe={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ze,we;for((U.pos>=U.byteLength||!(ze=m(U)))&&p(1,"no header found"),(we=ze.match(H))||p(3,"bad initial token"),fe.valid|=1,fe.programtype=we[1],fe.string+=ze+`
`;ze=m(U),ze!==!1;){if(fe.string+=ze+`
`,ze.charAt(0)==="#"){fe.comments+=ze+`
`;continue}if((we=ze.match(G))&&(fe.gamma=parseFloat(we[1])),(we=ze.match(Q))&&(fe.exposure=parseFloat(we[1])),(we=ze.match(ae))&&(fe.valid|=2,fe.format=we[1]),(we=ze.match(pe))&&(fe.valid|=4,fe.height=parseInt(we[1],10),fe.width=parseInt(we[2],10)),fe.valid&2&&fe.valid&4)break}return fe.valid&2||p(3,"missing format specifier"),fe.valid&4||p(3,"missing image size specifier"),fe},C=function(U,H,G){const Q=H;if(Q<8||Q>32767||U[0]!==2||U[1]!==2||U[2]&128)return new Uint8Array(U);Q!==(U[2]<<8|U[3])&&p(3,"wrong scanline width");const ae=new Uint8Array(4*H*G);ae.length||p(4,"unable to allocate buffer space");let pe=0,fe=0;const ze=4*Q,we=new Uint8Array(4),be=new Uint8Array(ze);let V=G;for(;V>0&&fe<U.byteLength;){fe+4>U.byteLength&&p(1),we[0]=U[fe++],we[1]=U[fe++],we[2]=U[fe++],we[3]=U[fe++],(we[0]!=2||we[1]!=2||(we[2]<<8|we[3])!=Q)&&p(3,"bad rgbe scanline format");let oe=0,K;for(;oe<ze&&fe<U.byteLength;){K=U[fe++];const me=K>128;if(me&&(K-=128),(K===0||oe+K>ze)&&p(3,"bad scanline data"),me){const _e=U[fe++];for(let Ye=0;Ye<K;Ye++)be[oe++]=_e}else be.set(U.subarray(fe,fe+K),oe),oe+=K,fe+=K}const he=Q;for(let me=0;me<he;me++){let _e=0;ae[pe]=be[me+_e],_e+=Q,ae[pe+1]=be[me+_e],_e+=Q,ae[pe+2]=be[me+_e],_e+=Q,ae[pe+3]=be[me+_e],pe+=4}V--}return ae},T=function(U,H,G,Q){const ae=U[H+3],pe=Math.pow(2,ae-128)/255;G[Q+0]=U[H+0]*pe,G[Q+1]=U[H+1]*pe,G[Q+2]=U[H+2]*pe,G[Q+3]=1},j=function(U,H,G,Q){const ae=U[H+3],pe=Math.pow(2,ae-128)/255;G[Q+0]=Or.toHalfFloat(Math.min(U[H+0]*pe,65504)),G[Q+1]=Or.toHalfFloat(Math.min(U[H+1]*pe,65504)),G[Q+2]=Or.toHalfFloat(Math.min(U[H+2]*pe,65504)),G[Q+3]=Or.toHalfFloat(1)},D=new Uint8Array(i);D.pos=0;const I=E(D),k=I.width,F=I.height,re=C(D.subarray(D.pos),k,F);let W,B,se;switch(this.type){case Tn:se=re.length/4;const U=new Float32Array(se*4);for(let G=0;G<se;G++)T(re,G*4,U,G*4);W=U,B=Tn;break;case $t:se=re.length/4;const H=new Uint16Array(se*4);for(let G=0;G<se;G++)j(re,G*4,H,G*4);W=H,B=$t;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:k,height:F,data:W,header:I.string,gamma:I.gamma,exposure:I.exposure,type:B}}setDataType(i){return this.type=i,this}load(i,u,a,h){function g(p,y){switch(p.type){case Tn:case $t:"colorSpace"in p?p.colorSpace="srgb-linear":p.encoding=3e3,p.minFilter=vn,p.magFilter=vn,p.generateMipmaps=!1,p.flipY=!0;break}u&&u(p,y)}return super.load(i,g,a,h)}}const pi=Gu>=152;class Qd extends hu{constructor(i){super(i),this.type=$t}parse(i){const H=Math.pow(2.7182818,2.2);function G(c,f){for(var S=0,N=0;N<65536;++N)(N==0||c[N>>3]&1<<(N&7))&&(f[S++]=N);for(var L=S-1;S<65536;)f[S++]=0;return L}function Q(c){for(var f=0;f<16384;f++)c[f]={},c[f].len=0,c[f].lit=0,c[f].p=null}const ae={l:0,c:0,lc:0};function pe(c,f,S,N,L){for(;S<c;)f=f<<8|zn(N,L),S+=8;S-=c,ae.l=f>>S&(1<<c)-1,ae.c=f,ae.lc=S}const fe=new Array(59);function ze(c){for(var f=0;f<=58;++f)fe[f]=0;for(var f=0;f<65537;++f)fe[c[f]]+=1;for(var S=0,f=58;f>0;--f){var N=S+fe[f]>>1;fe[f]=S,S=N}for(var f=0;f<65537;++f){var L=c[f];L>0&&(c[f]=L|fe[L]++<<6)}}function we(c,f,S,N,L,O,J){for(var Z=S,te=0,ee=0;L<=O;L++){if(Z.value-S.value>N)return!1;pe(6,te,ee,c,Z);var ne=ae.l;if(te=ae.c,ee=ae.lc,J[L]=ne,ne==63){if(Z.value-S.value>N)throw"Something wrong with hufUnpackEncTable";pe(8,te,ee,c,Z);var $=ae.l+6;if(te=ae.c,ee=ae.lc,L+$>O+1)throw"Something wrong with hufUnpackEncTable";for(;$--;)J[L++]=0;L--}else if(ne>=59){var $=ne-59+2;if(L+$>O+1)throw"Something wrong with hufUnpackEncTable";for(;$--;)J[L++]=0;L--}}ze(J)}function be(c){return c&63}function V(c){return c>>6}function oe(c,f,S,N){for(;f<=S;f++){var L=V(c[f]),O=be(c[f]);if(L>>O)throw"Invalid table entry";if(O>14){var J=N[L>>O-14];if(J.len)throw"Invalid table entry";if(J.lit++,J.p){var Z=J.p;J.p=new Array(J.lit);for(var te=0;te<J.lit-1;++te)J.p[te]=Z[te]}else J.p=new Array(1);J.p[J.lit-1]=f}else if(O)for(var ee=0,te=1<<14-O;te>0;te--){var J=N[(L<<14-O)+ee];if(J.len||J.p)throw"Invalid table entry";J.len=O,J.lit=f,ee++}}return!0}const K={c:0,lc:0};function he(c,f,S,N){c=c<<8|zn(S,N),f+=8,K.c=c,K.lc=f}const me={c:0,lc:0};function _e(c,f,S,N,L,O,J,Z,te,ee){if(c==f){N<8&&(he(S,N,L,J),S=K.c,N=K.lc),N-=8;var ne=S>>N,ne=new Uint8Array([ne])[0];if(te.value+ne>ee)return!1;for(var $=Z[te.value-1];ne-- >0;)Z[te.value++]=$}else if(te.value<ee)Z[te.value++]=c;else return!1;me.c=S,me.lc=N}function Ye(c){return c&65535}function ot(c){var f=Ye(c);return f>32767?f-65536:f}const Re={a:0,b:0};function ct(c,f){var S=ot(c),N=ot(f),L=N,O=S+(L&1)+(L>>1),J=O,Z=O-L;Re.a=J,Re.b=Z}function Ot(c,f){var S=Ye(c),N=Ye(f),L=S-(N>>1)&65535,O=N+L-32768&65535;Re.a=O,Re.b=L}function Yn(c,f,S,N,L,O,J){for(var Z=J<16384,te=S>L?L:S,ee=1,ne;ee<=te;)ee<<=1;for(ee>>=1,ne=ee,ee>>=1;ee>=1;){for(var $=0,Ze=$+O*(L-ne),de=O*ee,ge=O*ne,Me=N*ee,Te=N*ne,Ue,De,xe,Ie;$<=Ze;$+=ge){for(var Fe=$,Xe=$+N*(S-ne);Fe<=Xe;Fe+=Te){var ke=Fe+Me,Je=Fe+de,_t=Je+Me;Z?(ct(c[Fe+f],c[Je+f]),Ue=Re.a,xe=Re.b,ct(c[ke+f],c[_t+f]),De=Re.a,Ie=Re.b,ct(Ue,De),c[Fe+f]=Re.a,c[ke+f]=Re.b,ct(xe,Ie),c[Je+f]=Re.a,c[_t+f]=Re.b):(Ot(c[Fe+f],c[Je+f]),Ue=Re.a,xe=Re.b,Ot(c[ke+f],c[_t+f]),De=Re.a,Ie=Re.b,Ot(Ue,De),c[Fe+f]=Re.a,c[ke+f]=Re.b,Ot(xe,Ie),c[Je+f]=Re.a,c[_t+f]=Re.b)}if(S&ee){var Je=Fe+de;Z?ct(c[Fe+f],c[Je+f]):Ot(c[Fe+f],c[Je+f]),Ue=Re.a,c[Je+f]=Re.b,c[Fe+f]=Ue}}if(L&ee)for(var Fe=$,Xe=$+N*(S-ne);Fe<=Xe;Fe+=Te){var ke=Fe+Me;Z?ct(c[Fe+f],c[ke+f]):Ot(c[Fe+f],c[ke+f]),Ue=Re.a,c[ke+f]=Re.b,c[Fe+f]=Ue}ne=ee,ee>>=1}return $}function In(c,f,S,N,L,O,J,Z,te,ee){for(var ne=0,$=0,Ze=Z,de=Math.trunc(L.value+(O+7)/8);L.value<de;)for(he(ne,$,S,L),ne=K.c,$=K.lc;$>=14;){var ge=ne>>$-14&16383,Me=f[ge];if(Me.len)$-=Me.len,_e(Me.lit,J,ne,$,S,N,L,te,ee,Ze),ne=me.c,$=me.lc;else{if(!Me.p)throw"hufDecode issues";var Te;for(Te=0;Te<Me.lit;Te++){for(var Ue=be(c[Me.p[Te]]);$<Ue&&L.value<de;)he(ne,$,S,L),ne=K.c,$=K.lc;if($>=Ue&&V(c[Me.p[Te]])==(ne>>$-Ue&(1<<Ue)-1)){$-=Ue,_e(Me.p[Te],J,ne,$,S,N,L,te,ee,Ze),ne=me.c,$=me.lc;break}}if(Te==Me.lit)throw"hufDecode issues"}}var De=8-O&7;for(ne>>=De,$-=De;$>0;){var Me=f[ne<<14-$&16383];if(Me.len)$-=Me.len,_e(Me.lit,J,ne,$,S,N,L,te,ee,Ze),ne=me.c,$=me.lc;else throw"hufDecode issues"}return!0}function Et(c,f,S,N,L,O){var J={value:0},Z=S.value,te=dt(f,S),ee=dt(f,S);S.value+=4;var ne=dt(f,S);if(S.value+=4,te<0||te>=65537||ee<0||ee>=65537)throw"Something wrong with HUF_ENCSIZE";var $=new Array(65537),Ze=new Array(16384);Q(Ze);var de=N-(S.value-Z);if(we(c,f,S,de,te,ee,$),ne>8*(N-(S.value-Z)))throw"Something wrong with hufUncompress";oe($,te,ee,Ze),In($,Ze,c,f,S,ne,ee,O,L,J)}function gn(c,f,S){for(var N=0;N<S;++N)f[N]=c[f[N]]}function ft(c){for(var f=1;f<c.length;f++){var S=c[f-1]+c[f]-128;c[f]=S}}function Xn(c,f){for(var S=0,N=Math.floor((c.length+1)/2),L=0,O=c.length-1;!(L>O||(f[L++]=c[S++],L>O));)f[L++]=c[N++]}function cr(c){for(var f=c.byteLength,S=new Array,N=0,L=new DataView(c);f>0;){var O=L.getInt8(N++);if(O<0){var J=-O;f-=J+1;for(var Z=0;Z<J;Z++)S.push(L.getUint8(N++))}else{var J=O;f-=2;for(var te=L.getUint8(N++),Z=0;Z<J+1;Z++)S.push(te)}}return S}function jr(c,f,S,N,L,O){var ke=new DataView(O.buffer),J=S[c.idx[0]].width,Z=S[c.idx[0]].height,te=3,ee=Math.floor(J/8),ne=Math.ceil(J/8),$=Math.ceil(Z/8),Ze=J-(ne-1)*8,de=Z-($-1)*8,ge={value:0},Me=new Array(te),Te=new Array(te),Ue=new Array(te),De=new Array(te),xe=new Array(te);for(let Ge=0;Ge<te;++Ge)xe[Ge]=f[c.idx[Ge]],Me[Ge]=Ge<1?0:Me[Ge-1]+ne*$,Te[Ge]=new Float32Array(64),Ue[Ge]=new Uint16Array(64),De[Ge]=new Uint16Array(ne*64);for(let Ge=0;Ge<$;++Ge){var Ie=8;Ge==$-1&&(Ie=de);var Fe=8;for(let Qe=0;Qe<ne;++Qe){Qe==ne-1&&(Fe=Ze);for(let Be=0;Be<te;++Be)Ue[Be].fill(0),Ue[Be][0]=L[Me[Be]++],fr(ge,N,Ue[Be]),dr(Ue[Be],Te[Be]),pr(Te[Be]);yn(Te);for(let Be=0;Be<te;++Be)Hr(Te[Be],De[Be],Qe*64)}let pt=0;for(let Qe=0;Qe<te;++Qe){const Be=S[c.idx[Qe]].type;for(let et=8*Ge;et<8*Ge+Ie;++et){pt=xe[Qe][et];for(let Sn=0;Sn<ee;++Sn){const Tt=Sn*64+(et&7)*8;ke.setUint16(pt+0*2*Be,De[Qe][Tt+0],!0),ke.setUint16(pt+1*2*Be,De[Qe][Tt+1],!0),ke.setUint16(pt+2*2*Be,De[Qe][Tt+2],!0),ke.setUint16(pt+3*2*Be,De[Qe][Tt+3],!0),ke.setUint16(pt+4*2*Be,De[Qe][Tt+4],!0),ke.setUint16(pt+5*2*Be,De[Qe][Tt+5],!0),ke.setUint16(pt+6*2*Be,De[Qe][Tt+6],!0),ke.setUint16(pt+7*2*Be,De[Qe][Tt+7],!0),pt+=8*2*Be}}if(ee!=ne)for(let et=8*Ge;et<8*Ge+Ie;++et){const Sn=xe[Qe][et]+8*ee*2*Be,Tt=ee*64+(et&7)*8;for(let sn=0;sn<Fe;++sn)ke.setUint16(Sn+sn*2*Be,De[Qe][Tt+sn],!0)}}}for(var Xe=new Uint16Array(J),ke=new DataView(O.buffer),Je=0;Je<te;++Je){S[c.idx[Je]].decoded=!0;var _t=S[c.idx[Je]].type;if(S[Je].type==2)for(var at=0;at<Z;++at){const Ge=xe[Je][at];for(var wt=0;wt<J;++wt)Xe[wt]=ke.getUint16(Ge+wt*2*_t,!0);for(var wt=0;wt<J;++wt)ke.setFloat32(Ge+wt*2*_t,b(Xe[wt]),!0)}}}function fr(c,f,S){for(var N,L=1;L<64;)N=f[c.value],N==65280?L=64:N>>8==255?L+=N&255:(S[L]=N,L++),c.value++}function dr(c,f){f[0]=b(c[0]),f[1]=b(c[1]),f[2]=b(c[5]),f[3]=b(c[6]),f[4]=b(c[14]),f[5]=b(c[15]),f[6]=b(c[27]),f[7]=b(c[28]),f[8]=b(c[2]),f[9]=b(c[4]),f[10]=b(c[7]),f[11]=b(c[13]),f[12]=b(c[16]),f[13]=b(c[26]),f[14]=b(c[29]),f[15]=b(c[42]),f[16]=b(c[3]),f[17]=b(c[8]),f[18]=b(c[12]),f[19]=b(c[17]),f[20]=b(c[25]),f[21]=b(c[30]),f[22]=b(c[41]),f[23]=b(c[43]),f[24]=b(c[9]),f[25]=b(c[11]),f[26]=b(c[18]),f[27]=b(c[24]),f[28]=b(c[31]),f[29]=b(c[40]),f[30]=b(c[44]),f[31]=b(c[53]),f[32]=b(c[10]),f[33]=b(c[19]),f[34]=b(c[23]),f[35]=b(c[32]),f[36]=b(c[39]),f[37]=b(c[45]),f[38]=b(c[52]),f[39]=b(c[54]),f[40]=b(c[20]),f[41]=b(c[22]),f[42]=b(c[33]),f[43]=b(c[38]),f[44]=b(c[46]),f[45]=b(c[51]),f[46]=b(c[55]),f[47]=b(c[60]),f[48]=b(c[21]),f[49]=b(c[34]),f[50]=b(c[37]),f[51]=b(c[47]),f[52]=b(c[50]),f[53]=b(c[56]),f[54]=b(c[59]),f[55]=b(c[61]),f[56]=b(c[35]),f[57]=b(c[36]),f[58]=b(c[48]),f[59]=b(c[49]),f[60]=b(c[57]),f[61]=b(c[58]),f[62]=b(c[62]),f[63]=b(c[63])}function pr(c){const f=.5*Math.cos(.7853975),S=.5*Math.cos(3.14159/16),N=.5*Math.cos(3.14159/8),L=.5*Math.cos(3*3.14159/16),O=.5*Math.cos(5*3.14159/16),J=.5*Math.cos(3*3.14159/8),Z=.5*Math.cos(7*3.14159/16);for(var te=new Array(4),ee=new Array(4),ne=new Array(4),$=new Array(4),Ze=0;Ze<8;++Ze){var de=Ze*8;te[0]=N*c[de+2],te[1]=J*c[de+2],te[2]=N*c[de+6],te[3]=J*c[de+6],ee[0]=S*c[de+1]+L*c[de+3]+O*c[de+5]+Z*c[de+7],ee[1]=L*c[de+1]-Z*c[de+3]-S*c[de+5]-O*c[de+7],ee[2]=O*c[de+1]-S*c[de+3]+Z*c[de+5]+L*c[de+7],ee[3]=Z*c[de+1]-O*c[de+3]+L*c[de+5]-S*c[de+7],ne[0]=f*(c[de+0]+c[de+4]),ne[3]=f*(c[de+0]-c[de+4]),ne[1]=te[0]+te[3],ne[2]=te[1]-te[2],$[0]=ne[0]+ne[1],$[1]=ne[3]+ne[2],$[2]=ne[3]-ne[2],$[3]=ne[0]-ne[1],c[de+0]=$[0]+ee[0],c[de+1]=$[1]+ee[1],c[de+2]=$[2]+ee[2],c[de+3]=$[3]+ee[3],c[de+4]=$[3]-ee[3],c[de+5]=$[2]-ee[2],c[de+6]=$[1]-ee[1],c[de+7]=$[0]-ee[0]}for(var ge=0;ge<8;++ge)te[0]=N*c[16+ge],te[1]=J*c[16+ge],te[2]=N*c[48+ge],te[3]=J*c[48+ge],ee[0]=S*c[8+ge]+L*c[24+ge]+O*c[40+ge]+Z*c[56+ge],ee[1]=L*c[8+ge]-Z*c[24+ge]-S*c[40+ge]-O*c[56+ge],ee[2]=O*c[8+ge]-S*c[24+ge]+Z*c[40+ge]+L*c[56+ge],ee[3]=Z*c[8+ge]-O*c[24+ge]+L*c[40+ge]-S*c[56+ge],ne[0]=f*(c[ge]+c[32+ge]),ne[3]=f*(c[ge]-c[32+ge]),ne[1]=te[0]+te[3],ne[2]=te[1]-te[2],$[0]=ne[0]+ne[1],$[1]=ne[3]+ne[2],$[2]=ne[3]-ne[2],$[3]=ne[0]-ne[1],c[0+ge]=$[0]+ee[0],c[8+ge]=$[1]+ee[1],c[16+ge]=$[2]+ee[2],c[24+ge]=$[3]+ee[3],c[32+ge]=$[3]-ee[3],c[40+ge]=$[2]-ee[2],c[48+ge]=$[1]-ee[1],c[56+ge]=$[0]-ee[0]}function yn(c){for(var f=0;f<64;++f){var S=c[0][f],N=c[1][f],L=c[2][f];c[0][f]=S+1.5747*L,c[1][f]=S-.1873*N-.4682*L,c[2][f]=S+1.8556*N}}function Hr(c,f,S){for(var N=0;N<64;++N)f[S+N]=Or.toHalfFloat(hr(c[N]))}function hr(c){return c<=1?Math.sign(c)*Math.pow(Math.abs(c),2.2):Math.sign(c)*Math.pow(H,Math.abs(c)-1)}function Rn(c){return new DataView(c.array.buffer,c.offset.value,c.size)}function At(c){var f=c.viewer.buffer.slice(c.offset.value,c.offset.value+c.size),S=new Uint8Array(cr(f)),N=new Uint8Array(S.length);return ft(S),Xn(S,N),new DataView(N.buffer)}function Vn(c){var f=c.array.slice(c.offset.value,c.offset.value+c.size),S=gl(f),N=new Uint8Array(S.length);return ft(S),Xn(S,N),new DataView(N.buffer)}function Wr(c){for(var f=c.viewer,S={value:c.offset.value},N=new Uint16Array(c.width*c.scanlineBlockSize*(c.channels*c.type)),L=new Uint8Array(8192),O=0,J=new Array(c.channels),Z=0;Z<c.channels;Z++)J[Z]={},J[Z].start=O,J[Z].end=J[Z].start,J[Z].nx=c.width,J[Z].ny=c.lines,J[Z].size=c.type,O+=J[Z].nx*J[Z].ny*J[Z].size;var te=yt(f,S),ee=yt(f,S);if(ee>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(te<=ee)for(var Z=0;Z<ee-te+1;Z++)L[Z+te]=P(f,S);var ne=new Uint16Array(65536),$=G(L,ne),Ze=dt(f,S);Et(c.array,f,S,Ze,N,O);for(var Z=0;Z<c.channels;++Z)for(var de=J[Z],ge=0;ge<J[Z].size;++ge)Yn(N,de.start+ge,de.nx,de.size,de.ny,de.nx*de.size,$);gn(ne,N,O);for(var Me=0,Te=new Uint8Array(N.buffer.byteLength),Ue=0;Ue<c.lines;Ue++)for(var De=0;De<c.channels;De++){var de=J[De],xe=de.nx*de.size,Ie=new Uint8Array(N.buffer,de.end*2,xe*2);Te.set(Ie,Me),Me+=xe*2,de.end+=xe}return new DataView(Te.buffer)}function mr(c){var f=c.array.slice(c.offset.value,c.offset.value+c.size),S=gl(f);const N=c.lines*c.channels*c.width,L=c.type==1?new Uint16Array(N):new Uint32Array(N);let O=0,J=0;const Z=new Array(4);for(let te=0;te<c.lines;te++)for(let ee=0;ee<c.channels;ee++){let ne=0;switch(c.type){case 1:Z[0]=O,Z[1]=Z[0]+c.width,O=Z[1]+c.width;for(let $=0;$<c.width;++$){const Ze=S[Z[0]++]<<8|S[Z[1]++];ne+=Ze,L[J]=ne,J++}break;case 2:Z[0]=O,Z[1]=Z[0]+c.width,Z[2]=Z[1]+c.width,O=Z[2]+c.width;for(let $=0;$<c.width;++$){const Ze=S[Z[0]++]<<24|S[Z[1]++]<<16|S[Z[2]++]<<8;ne+=Ze,L[J]=ne,J++}break}}return new DataView(L.buffer)}function kn(c){var f=c.viewer,S={value:c.offset.value},N=new Uint8Array(c.width*c.lines*(c.channels*c.type*2)),L={version:Y(f,S),unknownUncompressedSize:Y(f,S),unknownCompressedSize:Y(f,S),acCompressedSize:Y(f,S),dcCompressedSize:Y(f,S),rleCompressedSize:Y(f,S),rleUncompressedSize:Y(f,S),rleRawSize:Y(f,S),totalAcUncompressedCount:Y(f,S),totalDcUncompressedCount:Y(f,S),acCompression:Y(f,S)};if(L.version<2)throw"EXRLoader.parse: "+en.compression+" version "+L.version+" is unsupported";for(var O=new Array,J=yt(f,S)-2;J>0;){var Z=Nn(f.buffer,S),te=P(f,S),ee=te>>2&3,ne=(te>>4)-1,$=new Int8Array([ne])[0],Ze=P(f,S);O.push({name:Z,index:$,type:Ze,compression:ee}),J-=Z.length+3}for(var de=en.channels,ge=new Array(c.channels),Me=0;Me<c.channels;++Me){var Te=ge[Me]={},Ue=de[Me];Te.name=Ue.name,Te.compression=0,Te.decoded=!1,Te.type=Ue.pixelType,Te.pLinear=Ue.pLinear,Te.width=c.width,Te.height=c.lines}for(var De={idx:new Array(3)},xe=0;xe<c.channels;++xe)for(var Te=ge[xe],Me=0;Me<O.length;++Me){var Ie=O[Me];Te.name==Ie.name&&(Te.compression=Ie.compression,Ie.index>=0&&(De.idx[Ie.index]=xe),Te.offset=xe)}if(L.acCompressedSize>0)switch(L.acCompression){case 0:var ke=new Uint16Array(L.totalAcUncompressedCount);Et(c.array,f,S,L.acCompressedSize,ke,L.totalAcUncompressedCount);break;case 1:var Fe=c.array.slice(S.value,S.value+L.totalAcUncompressedCount),Xe=gl(Fe),ke=new Uint16Array(Xe.buffer);S.value+=L.totalAcUncompressedCount;break}if(L.dcCompressedSize>0){var Je={array:c.array,offset:S,size:L.dcCompressedSize},_t=new Uint16Array(Vn(Je).buffer);S.value+=L.dcCompressedSize}if(L.rleRawSize>0){var Fe=c.array.slice(S.value,S.value+L.rleCompressedSize),Xe=gl(Fe),at=cr(Xe.buffer);S.value+=L.rleCompressedSize}for(var wt=0,Ge=new Array(ge.length),Me=0;Me<Ge.length;++Me)Ge[Me]=new Array;for(var pt=0;pt<c.lines;++pt)for(var Qe=0;Qe<ge.length;++Qe)Ge[Qe].push(wt),wt+=ge[Qe].width*c.type*2;jr(De,Ge,ge,ke,_t,N);for(var Me=0;Me<ge.length;++Me){var Te=ge[Me];if(!Te.decoded)switch(Te.compression){case 2:for(var Be=0,et=0,pt=0;pt<c.lines;++pt){for(var Sn=Ge[Me][Be],Tt=0;Tt<Te.width;++Tt){for(var sn=0;sn<2*Te.type;++sn)N[Sn++]=at[et+sn*Te.width*Te.height];et++}Be++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(N.buffer)}function Nn(c,f){for(var S=new Uint8Array(c),N=0;S[f.value+N]!=0;)N+=1;var L=new TextDecoder().decode(S.slice(f.value,f.value+N));return f.value=f.value+N+1,L}function Gr(c,f,S){var N=new TextDecoder().decode(new Uint8Array(c).slice(f.value,f.value+S));return f.value=f.value+S,N}function vr(c,f){var S=wn(c,f),N=dt(c,f);return[S,N]}function Zr(c,f){var S=dt(c,f),N=dt(c,f);return[S,N]}function wn(c,f){var S=c.getInt32(f.value,!0);return f.value=f.value+4,S}function dt(c,f){var S=c.getUint32(f.value,!0);return f.value=f.value+4,S}function zn(c,f){var S=c[f.value];return f.value=f.value+1,S}function P(c,f){var S=c.getUint8(f.value);return f.value=f.value+1,S}const Y=function(c,f){let S;return"getBigInt64"in DataView.prototype?S=Number(c.getBigInt64(f.value,!0)):S=c.getUint32(f.value+4,!0)+Number(c.getUint32(f.value,!0)<<32),f.value+=8,S};function ue(c,f){var S=c.getFloat32(f.value,!0);return f.value+=4,S}function Ae(c,f){return Or.toHalfFloat(ue(c,f))}function b(c){var f=(c&31744)>>10,S=c&1023;return(c>>15?-1:1)*(f?f===31?S?NaN:1/0:Math.pow(2,f-15)*(1+S/1024):6103515625e-14*(S/1024))}function yt(c,f){var S=c.getUint16(f.value,!0);return f.value+=2,S}function Gt(c,f){return b(yt(c,f))}function Ei(c,f,S,N){for(var L=S.value,O=[];S.value<L+N-1;){var J=Nn(f,S),Z=wn(c,S),te=P(c,S);S.value+=3;var ee=wn(c,S),ne=wn(c,S);O.push({name:J,pixelType:Z,pLinear:te,xSampling:ee,ySampling:ne})}return S.value+=1,O}function Kn(c,f){var S=ue(c,f),N=ue(c,f),L=ue(c,f),O=ue(c,f),J=ue(c,f),Z=ue(c,f),te=ue(c,f),ee=ue(c,f);return{redX:S,redY:N,greenX:L,greenY:O,blueX:J,blueY:Z,whiteX:te,whiteY:ee}}function kt(c,f){var S=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],N=P(c,f);return S[N]}function Dt(c,f){var S=dt(c,f),N=dt(c,f),L=dt(c,f),O=dt(c,f);return{xMin:S,yMin:N,xMax:L,yMax:O}}function ln(c,f){var S=["INCREASING_Y"],N=P(c,f);return S[N]}function on(c,f){var S=ue(c,f),N=ue(c,f);return[S,N]}function an(c,f){var S=ue(c,f),N=ue(c,f),L=ue(c,f);return[S,N,L]}function Ln(c,f,S,N,L){if(N==="string"||N==="stringvector"||N==="iccProfile")return Gr(f,S,L);if(N==="chlist")return Ei(c,f,S,L);if(N==="chromaticities")return Kn(c,S);if(N==="compression")return kt(c,S);if(N==="box2i")return Dt(c,S);if(N==="lineOrder")return ln(c,S);if(N==="float")return ue(c,S);if(N==="v2f")return on(c,S);if(N==="v3f")return an(c,S);if(N==="int")return wn(c,S);if(N==="rational")return vr(c,S);if(N==="timecode")return Zr(c,S);if(N==="preview")return S.value+=L,"skipped";S.value+=L}function Cl(c,f,S){const N={};if(c.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";N.version=c.getUint8(4);const L=c.getUint8(5);N.spec={singleTile:!!(L&2),longName:!!(L&4),deepFormat:!!(L&8),multiPart:!!(L&16)},S.value=8;for(var O=!0;O;){var J=Nn(f,S);if(J==0)O=!1;else{var Z=Nn(f,S),te=dt(c,S),ee=Ln(c,f,S,Z,te);ee===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Z}'.`):N[J]=ee}}if(L&-5)throw console.error("EXRHeader:",N),"THREE.EXRLoader: provided file is currently unsupported.";return N}function Tl(c,f,S,N,L){const O={size:0,viewer:f,array:S,offset:N,width:c.dataWindow.xMax-c.dataWindow.xMin+1,height:c.dataWindow.yMax-c.dataWindow.yMin+1,channels:c.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:c.channels[0].pixelType,uncompress:null,getter:null,format:null,[pi?"colorSpace":"encoding"]:null};switch(c.compression){case"NO_COMPRESSION":O.lines=1,O.uncompress=Rn;break;case"RLE_COMPRESSION":O.lines=1,O.uncompress=At;break;case"ZIPS_COMPRESSION":O.lines=1,O.uncompress=Vn;break;case"ZIP_COMPRESSION":O.lines=16,O.uncompress=Vn;break;case"PIZ_COMPRESSION":O.lines=32,O.uncompress=Wr;break;case"PXR24_COMPRESSION":O.lines=16,O.uncompress=mr;break;case"DWAA_COMPRESSION":O.lines=32,O.uncompress=kn;break;case"DWAB_COMPRESSION":O.lines=256,O.uncompress=kn;break;default:throw"EXRLoader.parse: "+c.compression+" is unsupported"}if(O.scanlineBlockSize=O.lines,O.type==1)switch(L){case Tn:O.getter=Gt,O.inputSize=2;break;case $t:O.getter=yt,O.inputSize=2;break}else if(O.type==2)switch(L){case Tn:O.getter=ue,O.inputSize=4;break;case $t:O.getter=Ae,O.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+O.type+" for "+c.compression+".";O.blockCount=(c.dataWindow.yMax+1)/O.scanlineBlockSize;for(var J=0;J<O.blockCount;J++)Y(f,N);O.outputChannels=O.channels==3?4:O.channels;const Z=O.width*O.height*O.outputChannels;switch(L){case Tn:O.byteArray=new Float32Array(Z),O.channels<O.outputChannels&&O.byteArray.fill(1,0,Z);break;case $t:O.byteArray=new Uint16Array(Z),O.channels<O.outputChannels&&O.byteArray.fill(15360,0,Z);break;default:console.error("THREE.EXRLoader: unsupported type: ",L);break}return O.bytesPerLine=O.width*O.inputSize*O.channels,O.outputChannels==4?O.format=Ur:O.format=uf,pi?O.colorSpace="srgb-linear":O.encoding=3e3,O}const Jn=new DataView(i),Qr=new Uint8Array(i),qn={value:0},en=Cl(Jn,i,qn),Oe=Tl(en,Jn,Qr,qn,this.type),_i={value:0},Il={R:0,G:1,B:2,A:3,Y:0};for(let c=0;c<Oe.height/Oe.scanlineBlockSize;c++){const f=dt(Jn,qn);Oe.size=dt(Jn,qn),Oe.lines=f+Oe.scanlineBlockSize>Oe.height?Oe.height-f:Oe.scanlineBlockSize;const N=Oe.size<Oe.lines*Oe.bytesPerLine?Oe.uncompress(Oe):Rn(Oe);qn.value+=Oe.size;for(let L=0;L<Oe.scanlineBlockSize;L++){const O=L+c*Oe.scanlineBlockSize;if(O>=Oe.height)break;for(let J=0;J<Oe.channels;J++){const Z=Il[en.channels[J].name];for(let te=0;te<Oe.width;te++){_i.value=(L*(Oe.channels*Oe.width)+J*Oe.width+te)*Oe.inputSize;const ee=(Oe.height-1-O)*(Oe.width*Oe.outputChannels)+te*Oe.outputChannels+Z;Oe.byteArray[ee]=Oe.getter(N,_i)}}}}return{header:en,width:Oe.width,height:Oe.height,data:Oe.byteArray,format:Oe.format,[pi?"colorSpace":"encoding"]:Oe[pi?"colorSpace":"encoding"],type:this.type}}setDataType(i){return this.type=i,this}load(i,u,a,h){function g(p,y){pi?p.colorSpace=y.colorSpace:p.encoding=y.encoding,p.minFilter=vn,p.magFilter=vn,p.generateMipmaps=!1,p.flipY=!1,u&&u(p,y)}return super.load(i,g,a,h)}}const Yd=X.forwardRef(({makeDefault:o,camera:i,regress:u,domElement:a,enableDamping:h=!0,keyEvents:g=!1,onChange:p,onStart:y,onEnd:w,..._},d)=>{const m=Wt(B=>B.invalidate),E=Wt(B=>B.camera),C=Wt(B=>B.gl),T=Wt(B=>B.events),j=Wt(B=>B.setEvents),D=Wt(B=>B.set),I=Wt(B=>B.get),k=Wt(B=>B.performance),F=i||E,re=a||T.connected||C.domElement,W=X.useMemo(()=>new Gd(F),[F]);return Du(()=>{W.enabled&&W.update()},-1),X.useEffect(()=>(g&&W.connect(g===!0?re:g),W.connect(re),()=>void W.dispose()),[g,re,u,W,m]),X.useEffect(()=>{const B=H=>{m(),u&&k.regress(),p&&p(H)},se=H=>{y&&y(H)},U=H=>{w&&w(H)};return W.addEventListener("change",B),W.addEventListener("start",se),W.addEventListener("end",U),()=>{W.removeEventListener("start",se),W.removeEventListener("end",U),W.removeEventListener("change",B)}},[p,y,w,W,m,j]),X.useEffect(()=>{if(o){const B=I().controls;return D({controls:W}),()=>D({controls:B})}},[o,W]),X.createElement("primitive",fu({ref:d,object:W,enableDamping:h},_))}),Xd=3e3,Vd=3001,Ju=(o,i,u)=>{let a;switch(o){case xl:a=new Uint8ClampedArray(i*u*4);break;case $t:a=new Uint16Array(i*u*4);break;case hf:a=new Uint32Array(i*u*4);break;case pf:a=new Int8Array(i*u*4);break;case df:a=new Int16Array(i*u*4);break;case ff:a=new Int32Array(i*u*4);break;case Tn:a=new Float32Array(i*u*4);break;default:throw new Error("Unsupported data type")}return a};let wl;const Kd=(o,i,u,a)=>{if(wl!==void 0)return wl;const h=new vu(1,1,a);i.setRenderTarget(h);const g=new $o(new mu,new mf({color:16777215}));i.render(g,u),i.setRenderTarget(null);const p=Ju(o,h.width,h.height);return i.readRenderTargetPixels(h,0,0,h.width,h.height,p),h.dispose(),g.geometry.dispose(),g.material.dispose(),wl=p[0]!==0,wl};class la{constructor(i){var u,a,h,g,p,y,w,_,d,m,E,C,T,j,D,I;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(F){throw this._renderer.setRenderTarget(null),F}this._renderer.setRenderTarget(null)},this._width=i.width,this._height=i.height,this._type=i.type,this._colorSpace=i.colorSpace;const k={format:Ur,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((u=i.renderTargetOptions)===null||u===void 0?void 0:u.anisotropy)!==void 0?(a=i.renderTargetOptions)===null||a===void 0?void 0:a.anisotropy:1,generateMipmaps:((h=i.renderTargetOptions)===null||h===void 0?void 0:h.generateMipmaps)!==void 0?(g=i.renderTargetOptions)===null||g===void 0?void 0:g.generateMipmaps:!1,magFilter:((p=i.renderTargetOptions)===null||p===void 0?void 0:p.magFilter)!==void 0?(y=i.renderTargetOptions)===null||y===void 0?void 0:y.magFilter:vn,minFilter:((w=i.renderTargetOptions)===null||w===void 0?void 0:w.minFilter)!==void 0?(_=i.renderTargetOptions)===null||_===void 0?void 0:_.minFilter:vn,samples:((d=i.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(m=i.renderTargetOptions)===null||m===void 0?void 0:m.samples:void 0,wrapS:((E=i.renderTargetOptions)===null||E===void 0?void 0:E.wrapS)!==void 0?(C=i.renderTargetOptions)===null||C===void 0?void 0:C.wrapS:Zn,wrapT:((T=i.renderTargetOptions)===null||T===void 0?void 0:T.wrapT)!==void 0?(j=i.renderTargetOptions)===null||j===void 0?void 0:j.wrapT:Zn};if(this._material=i.material,i.renderer?this._renderer=i.renderer:(this._renderer=la.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new bo,this._camera=new mi,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Kd(this._type,this._renderer,this._camera,k)){let F;switch(this._type){case $t:F=this._renderer.extensions.has("EXT_color_buffer_float")?Tn:void 0;break}F!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Tn}`),this._type=F):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new $o(new mu,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new vu(this.width,this.height,k),this._renderTarget.texture.mapping=((D=i.renderTargetOptions)===null||D===void 0?void 0:D.mapping)!==void 0?(I=i.renderTargetOptions)===null||I===void 0?void 0:I.mapping:Ml}static instantiateRenderer(){const i=new pu;return i.setSize(128,128),i}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const i=Ju(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,i),i}toDataTexture(i){const u=new cf(this.toArray(),this.width,this.height,Ur,this._type,i?.mapping||Ml,i?.wrapS||Zn,i?.wrapT||Zn,i?.magFilter||vn,i?.minFilter||vn,i?.anisotropy||1,Yo);return u.generateMipmaps=i?.generateMipmaps!==void 0?i?.generateMipmaps:!1,u}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(i){this.disposeOnDemandRenderer(),i&&this.renderTarget.dispose(),this.material instanceof ea&&Object.values(this.material.uniforms).forEach(u=>{u.value instanceof Ar&&u.value.dispose()}),Object.values(this.material).forEach(u=>{u instanceof Ar&&u.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(i){this._width=i,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(i){this._height=i,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(i){this._renderTarget=i,this._width=i.width,this._height=i.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Jd=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,qd=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class bd extends ea{constructor({gamma:i,offsetHdr:u,offsetSdr:a,gainMapMin:h,gainMapMax:g,maxDisplayBoost:p,hdrCapacityMin:y,hdrCapacityMax:w,sdr:_,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:Jd,fragmentShader:qd,uniforms:{sdr:{value:_},gainMap:{value:d},gamma:{value:new lt(1/i[0],1/i[1],1/i[2])},offsetHdr:{value:new lt().fromArray(u)},offsetSdr:{value:new lt().fromArray(a)},gainMapMin:{value:new lt().fromArray(h)},gainMapMax:{value:new lt().fromArray(g)},weightFactor:{value:(Math.log2(p)-y)/(w-y)}},blending:wf,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=p,this._hdrCapacityMin=y,this._hdrCapacityMax=w,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(i){this.uniforms.sdr.value=i}get gainMap(){return this.uniforms.gainMap.value}set gainMap(i){this.uniforms.gainMap.value=i}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(i){this.uniforms.offsetHdr.value.fromArray(i)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(i){this.uniforms.offsetSdr.value.fromArray(i)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(i){this.uniforms.gainMapMin.value.fromArray(i)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(i){this.uniforms.gainMapMax.value.fromArray(i)}get gamma(){const i=this.uniforms.gamma.value;return[1/i.x,1/i.y,1/i.z]}set gamma(i){const u=this.uniforms.gamma.value;u.x=1/i[0],u.y=1/i[1],u.z=1/i[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(i){this._hdrCapacityMin=i,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(i){this._hdrCapacityMax=i,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(i){this._maxDisplayBoost=Math.max(1,Math.min(65504,i)),this.calculateWeight()}calculateWeight(){const i=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,i))}}class qu extends Error{}class bu extends Error{}const hi=(o,i,u)=>{const a=new RegExp(`${i}="([^"]*)"`,"i").exec(o);if(a)return a[1];const h=new RegExp(`<${i}[^>]*>([\\s\\S]*?)</${i}>`,"i").exec(o);if(h){const g=h[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return g&&g.length===3?g.map(p=>p.replace(/<\/?rdf:li>/g,"")):h[1].trim()}if(u!==void 0)return u;throw new Error(`Can't find ${i} in gainmap metadata`)},$d=o=>{let i;typeof TextDecoder<"u"?i=new TextDecoder().decode(o):i=o.toString();let u=i.indexOf("<x:xmpmeta");for(;u!==-1;){const a=i.indexOf("x:xmpmeta>",u),h=i.slice(u,a+10);try{const g=hi(h,"hdrgm:GainMapMin","0"),p=hi(h,"hdrgm:GainMapMax"),y=hi(h,"hdrgm:Gamma","1"),w=hi(h,"hdrgm:OffsetSDR","0.015625"),_=hi(h,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(h),m=d?d[1]:"0",E=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(h);if(!E)throw new Error("Incomplete gainmap metadata");const C=E[1];return{gainMapMin:Array.isArray(g)?g.map(T=>parseFloat(T)):[parseFloat(g),parseFloat(g),parseFloat(g)],gainMapMax:Array.isArray(p)?p.map(T=>parseFloat(T)):[parseFloat(p),parseFloat(p),parseFloat(p)],gamma:Array.isArray(y)?y.map(T=>parseFloat(T)):[parseFloat(y),parseFloat(y),parseFloat(y)],offsetSdr:Array.isArray(w)?w.map(T=>parseFloat(T)):[parseFloat(w),parseFloat(w),parseFloat(w)],offsetHdr:Array.isArray(_)?_.map(T=>parseFloat(T)):[parseFloat(_),parseFloat(_),parseFloat(_)],hdrCapacityMin:parseFloat(m),hdrCapacityMax:parseFloat(C)}}catch{}u=i.indexOf("<x:xmpmeta",a)}};class ep{constructor(i){this.options={debug:i&&i.debug!==void 0?i.debug:!1,extractFII:i&&i.extractFII!==void 0?i.extractFII:!0,extractNonFII:i&&i.extractNonFII!==void 0?i.extractNonFII:!0}}extract(i){return new Promise((u,a)=>{const h=this.options.debug,g=new DataView(i.buffer);if(g.getUint16(0)!==65496){a(new Error("Not a valid jpeg"));return}const p=g.byteLength;let y=2,w=0,_;for(;y<p;){if(++w>250){a(new Error(`Found no marker after ${w} loops 😵`));return}if(g.getUint8(y)!==255){a(new Error(`Not a valid marker at offset 0x${y.toString(16)}, found: 0x${g.getUint8(y).toString(16)}`));return}if(_=g.getUint8(y+1),h&&console.log(`Marker: ${_.toString(16)}`),_===226){h&&console.log("Found APP2 marker (0xffe2)");const d=y+4;if(g.getUint32(d)===1297106432){const m=d+4;let E;if(g.getUint16(m)===18761)E=!1;else if(g.getUint16(m)===19789)E=!0;else{a(new Error("No valid endianness marker found in TIFF header"));return}if(g.getUint16(m+2,!E)!==42){a(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const C=g.getUint32(m+4,!E);if(C<8){a(new Error("Not valid TIFF data! (First offset less than 8)"));return}const T=m+C,j=g.getUint16(T,!E),D=T+2;let I=0;for(let W=D;W<D+12*j;W+=12)g.getUint16(W,!E)===45057&&(I=g.getUint32(W+8,!E));const k=4,F=T+2+j*12+k,re=[];for(let W=F;W<F+I*16;W+=16){const B={MPType:g.getUint32(W,!E),size:g.getUint32(W+4,!E),dataOffset:g.getUint32(W+8,!E),dependantImages:g.getUint32(W+12,!E),start:-1,end:-1,isFII:!1};B.dataOffset?(B.start=m+B.dataOffset,B.isFII=!1):(B.start=0,B.isFII=!0),B.end=B.start+B.size,re.push(B)}if(this.options.extractNonFII&&re.length){const W=new Blob([g]),B=[];for(const se of re){if(se.isFII&&!this.options.extractFII)continue;const U=W.slice(se.start,se.end+1,"image/jpeg");B.push(U)}u(B)}}}y+=2+g.getUint16(y+2)}})}}const tp=async o=>{const i=$d(o);if(!i)throw new bu("Gain map XMP metadata not found");const a=await new ep({extractFII:!0,extractNonFII:!0}).extract(o);if(a.length!==2)throw new qu("Gain map recovery image not found");return{sdr:new Uint8Array(await a[0].arrayBuffer()),gainMap:new Uint8Array(await a[1].arrayBuffer()),metadata:i}},cu=o=>new Promise((i,u)=>{const a=document.createElement("img");a.onload=()=>{i(a)},a.onerror=h=>{u(h)},a.src=URL.createObjectURL(o)});class $u extends vf{constructor(i,u){super(u),i&&(this._renderer=i),this._internalLoadingManager=new gf}setRenderer(i){return this._renderer=i,this}setRenderTargetOptions(i){return this._renderTargetOptions=i,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const i=new bd({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Ar,sdr:new Ar});return new la({width:16,height:16,type:$t,colorSpace:Yo,material:i,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(i,u,a,h){const g=h?new Blob([h],{type:"image/jpeg"}):void 0,p=new Blob([a],{type:"image/jpeg"});let y,w,_=!1;if(typeof createImageBitmap>"u"){const E=await Promise.all([g?cu(g):Promise.resolve(void 0),cu(p)]);w=E[0],y=E[1],_=!0}else{const E=await Promise.all([g?createImageBitmap(g,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(p,{imageOrientation:"flipY"})]);w=E[0],y=E[1]}const d=new Ar(w||new ImageData(2,2),Ml,Zn,Zn,vn,Qs,Ur,xl,1,Yo);d.flipY=_,d.needsUpdate=!0;const m=new Ar(y,Ml,Zn,Zn,vn,Qs,Ur,xl,1,yf);m.flipY=_,m.needsUpdate=!0,i.width=y.width,i.height=y.height,i.material.gainMap=d,i.material.sdr=m,i.material.gainMapMin=u.gainMapMin,i.material.gainMapMax=u.gainMapMax,i.material.offsetHdr=u.offsetHdr,i.material.offsetSdr=u.offsetSdr,i.material.gamma=u.gamma,i.material.hdrCapacityMin=u.hdrCapacityMin,i.material.hdrCapacityMax=u.hdrCapacityMax,i.material.maxDisplayBoost=Math.pow(2,u.hdrCapacityMax),i.material.needsUpdate=!0,i.render()}}class np extends $u{load([i,u,a],h,g,p){const y=this.prepareQuadRenderer();let w,_,d;const m=async()=>{if(w&&_&&d){try{await this.render(y,d,w,_)}catch(H){this.manager.itemError(i),this.manager.itemError(u),this.manager.itemError(a),typeof p=="function"&&p(H),y.disposeOnDemandRenderer();return}typeof h=="function"&&h(y),this.manager.itemEnd(i),this.manager.itemEnd(u),this.manager.itemEnd(a),y.disposeOnDemandRenderer()}};let E=!0,C=0,T=0,j=!0,D=0,I=0,k=!0,F=0,re=0;const W=()=>{if(typeof g=="function"){const H=C+D+F,G=T+I+re,Q=E&&j&&k;g(new ProgressEvent("progress",{lengthComputable:Q,loaded:G,total:H}))}};this.manager.itemStart(i),this.manager.itemStart(u),this.manager.itemStart(a);const B=new El(this._internalLoadingManager);B.setResponseType("arraybuffer"),B.setRequestHeader(this.requestHeader),B.setPath(this.path),B.setWithCredentials(this.withCredentials),B.load(i,async H=>{if(typeof H=="string")throw new Error("Invalid sdr buffer");w=H,await m()},H=>{E=H.lengthComputable,T=H.loaded,C=H.total,W()},H=>{this.manager.itemError(i),typeof p=="function"&&p(H)});const se=new El(this._internalLoadingManager);se.setResponseType("arraybuffer"),se.setRequestHeader(this.requestHeader),se.setPath(this.path),se.setWithCredentials(this.withCredentials),se.load(u,async H=>{if(typeof H=="string")throw new Error("Invalid gainmap buffer");_=H,await m()},H=>{j=H.lengthComputable,I=H.loaded,D=H.total,W()},H=>{this.manager.itemError(u),typeof p=="function"&&p(H)});const U=new El(this._internalLoadingManager);return U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(a,async H=>{if(typeof H!="string")throw new Error("Invalid metadata string");d=JSON.parse(H),await m()},H=>{k=H.lengthComputable,re=H.loaded,F=H.total,W()},H=>{this.manager.itemError(a),typeof p=="function"&&p(H)}),y}}class rp extends $u{load(i,u,a,h){const g=this.prepareQuadRenderer(),p=new El(this._internalLoadingManager);return p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setPath(this.path),p.setWithCredentials(this.withCredentials),this.manager.itemStart(i),p.load(i,async y=>{if(typeof y=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const w=new Uint8Array(y);let _,d,m;try{const E=await tp(w);_=E.sdr,d=E.gainMap,m=E.metadata}catch(E){if(E instanceof bu||E instanceof qu)console.warn(`Failure to reconstruct an HDR image from ${i}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),m={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},_=w;else throw E}try{await this.render(g,m,_,d)}catch(E){this.manager.itemError(i),typeof h=="function"&&h(E),g.disposeOnDemandRenderer();return}typeof u=="function"&&u(g),this.manager.itemEnd(i),g.disposeOnDemandRenderer()},a,y=>{this.manager.itemError(i),typeof h=="function"&&h(y)}),g}}const yi={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},ec="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Fr=o=>Array.isArray(o),oa=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Pl({files:o=oa,path:i="",preset:u=void 0,encoding:a=void 0,extensions:h}={}){let g=null,p=!1;u&&(aa(u),o=yi[u],i=ec),p=Fr(o);const{extension:y,isCubemap:w}=sa(o);if(g=ua(y),!g)throw new Error("useEnvironment: Unrecognized file extension: "+o);const _=Wt(C=>C.gl);X.useLayoutEffect(()=>{if(y!=="webp"&&y!=="jpg"&&y!=="jpeg")return;function C(){sr.clear(g,p?[o]:o)}_.domElement.addEventListener("webglcontextlost",C,{once:!0})},[o,_.domElement]);const d=sr(g,p?[o]:o,C=>{(y==="webp"||y==="jpg"||y==="jpeg")&&C.setRenderer(_),C.setPath==null||C.setPath(i),h&&h(C)});let m=p?d[0]:d;if(y==="jpg"||y==="jpeg"||y==="webp"){var E;m=(E=m.renderTarget)==null?void 0:E.texture}return m.mapping=w?Sf:Ef,"colorSpace"in m?m.colorSpace=a??w?"srgb":"srgb-linear":m.encoding=a??w?Vd:Xd,m}const ip={files:oa,path:"",preset:void 0,extensions:void 0};Pl.preload=o=>{const i={...ip,...o};let{files:u,path:a=""}=i;const{preset:h,extensions:g}=i;h&&(aa(h),u=yi[h],a=ec);const{extension:p}=sa(u);if(p==="webp"||p==="jpg"||p==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const y=ua(p);if(!y)throw new Error("useEnvironment: Unrecognized file extension: "+u);sr.preload(y,Fr(u)?[u]:u,w=>{w.setPath==null||w.setPath(a),g&&g(w)})};const lp={files:oa,preset:void 0};Pl.clear=o=>{const i={...lp,...o};let{files:u}=i;const{preset:a}=i;a&&(aa(a),u=yi[a]);const{extension:h}=sa(u),g=ua(h);if(!g)throw new Error("useEnvironment: Unrecognized file extension: "+u);sr.clear(g,Fr(u)?[u]:u)};function aa(o){if(!(o in yi))throw new Error("Preset must be one of: "+Object.keys(yi).join(", "))}function sa(o){var i;const u=Fr(o)&&o.length===6,a=Fr(o)&&o.length===3&&o.some(p=>p.endsWith("json")),h=Fr(o)?o[0]:o;return{extension:u?"cube":a?"webp":h.startsWith("data:application/exr")?"exr":h.startsWith("data:application/hdr")?"hdr":h.startsWith("data:image/jpeg")?"jpg":(i=h.split(".").pop())==null||(i=i.split("?"))==null||(i=i.shift())==null?void 0:i.toLowerCase(),isCubemap:u,isGainmap:a}}function ua(o){return o==="cube"?_f:o==="hdr"?Zd:o==="exr"?Qd:o==="jpg"||o==="jpeg"?rp:o==="webp"?np:null}const op=o=>o.current&&o.current.isScene,ap=o=>op(o)?o.current:o;function ca(o,i,u,a,h={}){var g,p,y,w;h={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...h};const _=ap(i||u),d=_.background,m=_.environment,E={backgroundBlurriness:_.backgroundBlurriness,backgroundIntensity:_.backgroundIntensity,backgroundRotation:(g=(p=_.backgroundRotation)==null||p.clone==null?void 0:p.clone())!==null&&g!==void 0?g:[0,0,0],environmentIntensity:_.environmentIntensity,environmentRotation:(y=(w=_.environmentRotation)==null||w.clone==null?void 0:w.clone())!==null&&y!==void 0?y:[0,0,0]};return o!=="only"&&(_.environment=a),o&&(_.background=a),Gn(_,h),()=>{o!=="only"&&(_.environment=m),o&&(_.background=d),Gn(_,E)}}function fa({scene:o,background:i=!1,map:u,...a}){const h=Wt(g=>g.scene);return X.useLayoutEffect(()=>{if(u)return ca(i,o,h,u,a)}),null}function tc({background:o=!1,scene:i,blur:u,backgroundBlurriness:a,backgroundIntensity:h,backgroundRotation:g,environmentIntensity:p,environmentRotation:y,...w}){const _=Pl(w),d=Wt(m=>m.scene);return X.useLayoutEffect(()=>ca(o,i,d,_,{backgroundBlurriness:u??a,backgroundIntensity:h,backgroundRotation:g,environmentIntensity:p,environmentRotation:y})),X.useEffect(()=>()=>{_.dispose()},[_]),null}function sp({children:o,near:i=.1,far:u=1e3,resolution:a=256,frames:h=1,map:g,background:p=!1,blur:y,backgroundBlurriness:w,backgroundIntensity:_,backgroundRotation:d,environmentIntensity:m,environmentRotation:E,scene:C,files:T,path:j,preset:D=void 0,extensions:I}){const k=Wt(U=>U.gl),F=Wt(U=>U.scene),re=X.useRef(null),[W]=X.useState(()=>new bo),B=X.useMemo(()=>{const U=new xf(a);return U.texture.type=$t,U},[a]);X.useEffect(()=>()=>{B.dispose()},[B]),X.useLayoutEffect(()=>{if(h===1){const U=k.autoClear;k.autoClear=!0,re.current.update(k,W),k.autoClear=U}return ca(p,C,F,B.texture,{backgroundBlurriness:y??w,backgroundIntensity:_,backgroundRotation:d,environmentIntensity:m,environmentRotation:E})},[o,W,B.texture,C,F,p,h,k]);let se=1;return Du(()=>{if(h===1/0||se<h){const U=k.autoClear;k.autoClear=!0,re.current.update(k,W),k.autoClear=U,se++}}),X.createElement(X.Fragment,null,nd(X.createElement(X.Fragment,null,o,X.createElement("cubeCamera",{ref:re,args:[i,u,B]}),T||D?X.createElement(tc,{background:!0,files:T,preset:D,path:j,extensions:I}):g?X.createElement(fa,{background:!0,map:g,extensions:I}):null),W))}function up(o){var i,u,a,h;const g=Pl(o),p=o.map||g;X.useMemo(()=>Pu({GroundProjectedEnvImpl:Ad}),[]),X.useEffect(()=>()=>{g.dispose()},[g]);const y=X.useMemo(()=>[p],[p]),w=(i=o.ground)==null?void 0:i.height,_=(u=o.ground)==null?void 0:u.radius,d=(a=(h=o.ground)==null?void 0:h.scale)!==null&&a!==void 0?a:1e3;return X.createElement(X.Fragment,null,X.createElement(fa,fu({},o,{map:p})),X.createElement("groundProjectedEnvImpl",{args:y,scale:d,height:w,radius:_}))}function cp(o){return o.ground?X.createElement(up,o):o.map?X.createElement(fa,o):o.children?X.createElement(sp,o):X.createElement(tc,o)}const fp=()=>{const{patternPoints:o,xCB:i}=gu(),u=5,a=Math.floor(360/u),h=X.useMemo(()=>{if(!o.length)return null;const p=[],y=[];for(let _=0;_<o.length;_++){const{x:d,r:m}=o[_],E=d-i;for(let C=0;C<a;C++){const T=C*u*Math.PI/180,j=m*Math.cos(T),D=m*Math.sin(T);p.push(E,j,D)}}for(let _=0;_<o.length-1;_++)for(let d=0;d<a;d++){const m=_*a+d,E=m+a,C=(d+1)%a,T=_*a+C,j=T+a;y.push(m,E,T),y.push(T,E,j)}const w=new Mf;return w.setAttribute("position",new Pf(p,3)),w.setIndex(y),w.computeVertexNormals(),w},[o]),g=sr(Cf,"src/assets/metallic-texture.jpg");return h?Ke.jsx("mesh",{geometry:h,children:Ke.jsx("meshPhysicalMaterial",{color:"#b0b0b0",metalness:.9,roughness:.4,clearcoat:.6,reflectivity:.8,map:g})}):null},vp=()=>{const{L:o}=gu(),i=[o/2,0,o*1.5];return Ke.jsx(Qc,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:Ke.jsxs(Yc,{children:[Ke.jsx(Xc,{variant:"h5",fontWeight:"bold",mb:3,children:"Envelope Pattern Development"}),Ke.jsx(Vc,{sx:{height:384,width:"100%",background:"linear-gradient(135deg, #e0f7fa 0%, #222b3d 80%)",border:"1px solid #444",borderRadius:2,overflow:"hidden"},children:Ke.jsxs(Sd,{camera:{position:i,fov:35,near:.1,far:o*3},children:[Ke.jsx("ambientLight",{intensity:.3}),Ke.jsx("directionalLight",{position:[0,5,10],intensity:1}),Ke.jsx(fp,{}),Ke.jsx(Yd,{enablePan:!0,enableZoom:!0,minDistance:o*.8,maxDistance:o*3}),Ke.jsx(cp,{preset:"sunset"})]})})]})})};export{vp as default};
