import{r as _s,a as Wt,g as xs,R as Eu,_ as Au,j as N,B as $t,T as nt,S as bs,C as an,b as wr,G as Ft,c as hi,P as wn,d as Bs,e as nn,f as Ms,y as Ns,A as Ss,h as di,i as Ts,k as Is,l as pi,m as Di,n as mi,L as Cu,o as Ps,p as $s,D as Os}from"./mui-990f2ccb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();var yr={},gi=_s;yr.createRoot=gi.createRoot,yr.hydrateRoot=gi.hydrateRoot;const zs="modulepreload",Rs=function(t,e){return new URL(t,e).href},vi={},ks=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=Rs(u,r),u in vi)return;vi[u]=!0;const o=u.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const l=i[c];if(l.href===u&&(!o||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${s}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":zs,o||(f.as="script",f.crossOrigin=""),f.href=u,document.head.appendChild(f),o)return new Promise((c,l)=>{f.addEventListener("load",c),f.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=u,window.dispatchEvent(o),!o.defaultPrevented)throw u})},wi=t=>{let e;const n=new Set,r=(a,f)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const l=e;e=f??typeof c!="object"?c:Object.assign({},e,c),n.forEach(d=>d(e,l))}},i=()=>e,s={setState:r,getState:i,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{n.clear()}};return e=t(r,i,s),s},Ls=t=>t?wi(t):wi;var _u={exports:{}},xu={},bu={exports:{}},Bu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=Wt;function qs(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var js=typeof Object.is=="function"?Object.is:qs,Us=Ze.useState,Vs=Ze.useEffect,Zs=Ze.useLayoutEffect,Hs=Ze.useDebugValue;function Ws(t,e){var n=e(),r=Us({inst:{value:n,getSnapshot:e}}),i=r[0].inst,u=r[1];return Zs(function(){i.value=n,i.getSnapshot=e,fr(i)&&u({inst:i})},[t,n,e]),Vs(function(){return fr(i)&&u({inst:i}),t(function(){fr(i)&&u({inst:i})})},[t]),Hs(n),n}function fr(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!js(t,n)}catch{return!0}}function Xs(t,e){return e()}var Ys=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xs:Ws;Bu.useSyncExternalStore=Ze.useSyncExternalStore!==void 0?Ze.useSyncExternalStore:Ys;bu.exports=Bu;var Gs=bu.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=Wt,Js=Gs;function Ks(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qs=typeof Object.is=="function"?Object.is:Ks,ta=Js.useSyncExternalStore,ea=Qn.useRef,na=Qn.useEffect,ra=Qn.useMemo,ia=Qn.useDebugValue;xu.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var u=ea(null);if(u.current===null){var o={hasValue:!1,value:null};u.current=o}else o=u.current;u=ra(function(){function a(p){if(!f){if(f=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return l=y}return l=p}if(y=l,Qs(c,p))return y;var h=r(p);return i!==void 0&&i(y,h)?y:(c=p,l=h)}var f=!1,c,l,d=n===void 0?null:n;return[function(){return a(e())},d===null?void 0:function(){return a(d())}]},[e,n,r,i]);var s=ta(t,u[0],u[1]);return na(function(){o.hasValue=!0,o.value=s},[s]),ia(s),s};_u.exports=xu;var ua=_u.exports;const oa=xs(ua),{useDebugValue:sa}=Eu,{useSyncExternalStoreWithSelector:aa}=oa;function fa(t,e=t.getState,n){const r=aa(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return sa(r),r}const yi=t=>{const e=typeof t=="function"?Ls(t):t,n=(r,i)=>fa(e,r,i);return Object.assign(n,e),n},ca=t=>t?yi(t):yi;var Mu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function la(t,e){if(In(t,e))return t[e];throw typeof t[e]=="function"&&da(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ha(t,e,n){if(In(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function In(t,e){return!pa(t)&&!Array.isArray(t)?!1:$n(Da,e)?!0:!(e in Object.prototype||e in Function.prototype)}function da(t,e){return t==null||typeof t[e]!="function"||$n(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:$n(ma,e)?!0:!(e in Object.prototype||e in Function.prototype)}function pa(t){return typeof t=="object"&&t&&t.constructor===Object}var Da={length:!0,name:!0},ma={toString:!0,valueOf:!0,toLocaleString:!0};class ga{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return la(this.wrappedObject,e)}set(e,n){return ha(this.wrappedObject,e,n),this}has(e){return In(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return va(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){In(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function va(t,e){return{next:()=>{var n=t.next();return n.done?n:{value:e(n.value),done:!1}}}}function Dt(t){return typeof t=="number"}function bt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function wa(t){return typeof t=="bigint"}function Nu(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Su(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Tu(t){return t&&t.constructor.prototype.isUnit===!0||!1}function se(t){return typeof t=="string"}var Mt=Array.isArray;function At(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Pn(t){return Array.isArray(t)||At(t)}function ya(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Fa(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ea(t){return t&&t.constructor.prototype.isRange===!0||!1}function jr(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Aa(t){return typeof t=="boolean"}function Ca(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function _a(t){return t&&t.constructor.prototype.isHelp===!0||!1}function xa(t){return typeof t=="function"}function ba(t){return t instanceof Date}function Ba(t){return t instanceof RegExp}function Ur(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Nu(t)&&!Su(t))}function Ma(t){return t?t instanceof Map||t instanceof ga||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function Na(t){return t===null}function Sa(t){return t===void 0}function Ta(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ia(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Pa(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function $a(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Oa(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function za(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ra(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function ka(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function La(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function qa(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function ja(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ua(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Va(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Za(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ha(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Wa(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xa(t){return t&&t.constructor.prototype.isChain===!0||!1}function Ee(t){var e=typeof t;return e==="object"?t===null?"null":bt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Et(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(n){return Et(n)});if(t instanceof Date)return new Date(t.valueOf());if(bt(t))return t;if(Ur(t))return Ya(t,Et);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function Ya(t,e){var n={};for(var r in t)$n(t,r)&&(n[r]=e(t[r]));return n}function He(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!He(t[r],e[r]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!He(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}else return t===e}}function $n(t,e){return t&&Object.hasOwnProperty.call(t,e)}function Ga(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],u=t[i];u!==void 0&&(n[i]=u)}return n}var Ja=["Matrix","Array"],Ka=["number","BigNumber","Fraction"],pn=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Mu)};Au(pn,Mu,{MATRIX_OPTIONS:Ja,NUMBER_OPTIONS:Ka});function Fi(){return!0}function Jt(){return!1}function ze(){}const Ei="Argument is not a typed-function.";function Iu(){function t(v){return typeof v=="object"&&v!==null&&v.constructor===Object}const e=[{name:"number",test:function(v){return typeof v=="number"}},{name:"string",test:function(v){return typeof v=="string"}},{name:"boolean",test:function(v){return typeof v=="boolean"}},{name:"Function",test:function(v){return typeof v=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(v){return v instanceof Date}},{name:"RegExp",test:function(v){return v instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(v){return v===null}},{name:"undefined",test:function(v){return v===void 0}}],n={name:"any",test:Fi,isAny:!0};let r,i,u=0,o={createCount:0};function s(v){const C=r.get(v);if(C)return C;let M='Unknown type "'+v+'"';const I=v.toLowerCase();let O;for(O of i)if(O.toLowerCase()===I){M+='. Did you mean "'+O+'" ?';break}throw new TypeError(M)}function a(v){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const M=C?s(C).index:i.length,I=[];for(let P=0;P<v.length;++P){if(!v[P]||typeof v[P].name!="string"||typeof v[P].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const U=v[P].name;if(r.has(U))throw new TypeError('Duplicate type name "'+U+'"');I.push(U),r.set(U,{name:U,test:v[P].test,isAny:v[P].isAny,index:M+P,conversionsTo:[]})}const O=i.slice(M);i=i.slice(0,M).concat(I).concat(O);for(let P=M+I.length;P<i.length;++P)r.get(i[P]).index=P}function f(){r=new Map,i=[],u=0,a([n],!1)}f(),a(e);function c(){let v;for(v of i)r.get(v).conversionsTo=[];u=0}function l(v){const C=i.filter(M=>{const I=r.get(M);return!I.isAny&&I.test(v)});return C.length?C:["any"]}function d(v){return v&&typeof v=="function"&&"_typedFunctionData"in v}function p(v,C,M){if(!d(v))throw new TypeError(Ei);const I=M&&M.exact,O=Array.isArray(C)?C.join(","):C,P=_(O),U=D(P);if(!I||U in v.signatures){const at=v._typedFunctionData.signatureMap.get(U);if(at)return at}const L=P.length;let V;if(I){V=[];let at;for(at in v.signatures)V.push(v._typedFunctionData.signatureMap.get(at))}else V=v._typedFunctionData.signatures;for(let at=0;at<L;++at){const dt=P[at],_t=[];let qt;for(qt of V){const Lt=x(qt.params,at);if(!(!Lt||dt.restParam&&!Lt.restParam)){if(!Lt.hasAny){const te=w(Lt);if(dt.types.some(ee=>!te.has(ee.name)))continue}_t.push(qt)}}if(V=_t,V.length===0)break}let k;for(k of V)if(k.params.length<=L)return k;throw new TypeError("Signature not found (signature: "+(v.name||"unnamed")+"("+D(P,", ")+"))")}function y(v,C,M){return p(v,C,M).implementation}function h(v,C){const M=s(C);if(M.test(v))return v;const I=M.conversionsTo;if(I.length===0)throw new Error("There are no conversions to "+C+" defined.");for(let O=0;O<I.length;O++)if(s(I[O].from).test(v))return I[O].convert(v);throw new Error("Cannot convert "+v+" to "+C)}function D(v){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return v.map(M=>M.name).join(C)}function F(v){const C=v.indexOf("...")===0,I=(C?v.length>3?v.slice(3):"any":v).split("|").map(L=>s(L.trim()));let O=!1,P=C?"...":"";return{types:I.map(function(L){return O=L.isAny||O,P+=L.name+"|",{name:L.name,typeIndex:L.index,test:L.test,isAny:L.isAny,conversion:null,conversionIndex:-1}}),name:P.slice(0,-1),hasAny:O,hasConversion:!1,restParam:C}}function A(v){const C=v.types.map(U=>U.name),M=X(C);let I=v.hasAny,O=v.name;const P=M.map(function(U){const L=s(U.from);return I=L.isAny||I,O+="|"+U.from,{name:U.from,typeIndex:L.index,test:L.test,isAny:L.isAny,conversion:U,conversionIndex:U.index}});return{types:v.types.concat(P),name:O,hasAny:I,hasConversion:P.length>0,restParam:v.restParam}}function w(v){return v.typeSet||(v.typeSet=new Set,v.types.forEach(C=>v.typeSet.add(C.name))),v.typeSet}function _(v){const C=[];if(typeof v!="string")throw new TypeError("Signatures must be strings");const M=v.trim();if(M==="")return C;const I=M.split(",");for(let O=0;O<I.length;++O){const P=F(I[O].trim());if(P.restParam&&O!==I.length-1)throw new SyntaxError('Unexpected rest parameter "'+I[O]+'": only allowed for the last parameter');if(P.types.length===0)return null;C.push(P)}return C}function g(v){const C=ct(v);return C?C.restParam:!1}function m(v){if(!v||v.types.length===0)return Fi;if(v.types.length===1)return s(v.types[0].name).test;if(v.types.length===2){const C=s(v.types[0].name).test,M=s(v.types[1].name).test;return function(O){return C(O)||M(O)}}else{const C=v.types.map(function(M){return s(M.name).test});return function(I){for(let O=0;O<C.length;O++)if(C[O](I))return!0;return!1}}}function E(v){let C,M,I;if(g(v)){C=kt(v).map(m);const O=C.length,P=m(ct(v)),U=function(L){for(let V=O;V<L.length;V++)if(!P(L[V]))return!1;return!0};return function(V){for(let k=0;k<C.length;k++)if(!C[k](V[k]))return!1;return U(V)&&V.length>=O+1}}else return v.length===0?function(P){return P.length===0}:v.length===1?(M=m(v[0]),function(P){return M(P[0])&&P.length===1}):v.length===2?(M=m(v[0]),I=m(v[1]),function(P){return M(P[0])&&I(P[1])&&P.length===2}):(C=v.map(m),function(P){for(let U=0;U<C.length;U++)if(!C[U](P[U]))return!1;return P.length===C.length})}function x(v,C){return C<v.length?v[C]:g(v)?ct(v):null}function b(v,C){const M=x(v,C);return M?w(M):new Set}function T(v){return v.conversion===null||v.conversion===void 0}function B(v,C){const M=new Set;return v.forEach(I=>{const O=b(I.params,C);let P;for(P of O)M.add(P)}),M.has("any")?["any"]:Array.from(M)}function z(v,C,M){let I,O;const P=v||"unnamed";let U=M,L;for(L=0;L<C.length;L++){const dt=[];if(U.forEach(_t=>{const qt=x(_t.params,L),Lt=m(qt);(L<_t.params.length||g(_t.params))&&Lt(C[L])&&dt.push(_t)}),dt.length===0){if(O=B(U,L),O.length>0){const _t=l(C[L]);return I=new TypeError("Unexpected type of argument in function "+P+" (expected: "+O.join(" or ")+", actual: "+_t.join(" | ")+", index: "+L+")"),I.data={category:"wrongType",fn:P,index:L,actual:_t,expected:O},I}}else U=dt}const V=U.map(function(dt){return g(dt.params)?1/0:dt.params.length});if(C.length<Math.min.apply(null,V))return O=B(U,L),I=new TypeError("Too few arguments in function "+P+" (expected: "+O.join(" or ")+", index: "+C.length+")"),I.data={category:"tooFewArgs",fn:P,index:C.length,expected:O},I;const k=Math.max.apply(null,V);if(C.length>k)return I=new TypeError("Too many arguments in function "+P+" (expected: "+k+", actual: "+C.length+")"),I.data={category:"tooManyArgs",fn:P,index:C.length,expectedLength:k},I;const at=[];for(let dt=0;dt<C.length;++dt)at.push(l(C[dt]).join("|"));return I=new TypeError('Arguments of type "'+at.join(", ")+'" do not match any of the defined signatures of function '+P+"."),I.data={category:"mismatch",actual:at},I}function j(v){let C=i.length+1;for(let M=0;M<v.types.length;M++)T(v.types[M])&&(C=Math.min(C,v.types[M].typeIndex));return C}function H(v){let C=u+1;for(let M=0;M<v.types.length;M++)T(v.types[M])||(C=Math.min(C,v.types[M].conversionIndex));return C}function Z(v,C){if(v.hasAny){if(!C.hasAny)return 1}else if(C.hasAny)return-1;if(v.restParam){if(!C.restParam)return 1}else if(C.restParam)return-1;if(v.hasConversion){if(!C.hasConversion)return 1}else if(C.hasConversion)return-1;const M=j(v)-j(C);if(M<0)return-1;if(M>0)return 1;const I=H(v)-H(C);return I<0?-1:I>0?1:0}function R(v,C){const M=v.params,I=C.params,O=ct(M),P=ct(I),U=g(M),L=g(I);if(U&&O.hasAny){if(!L||!P.hasAny)return 1}else if(L&&P.hasAny)return-1;let V=0,k=0,at;for(at of M)at.hasAny&&++V,at.hasConversion&&++k;let dt=0,_t=0;for(at of I)at.hasAny&&++dt,at.hasConversion&&++_t;if(V!==dt)return V-dt;if(U&&O.hasConversion){if(!L||!P.hasConversion)return 1}else if(L&&P.hasConversion)return-1;if(k!==_t)return k-_t;if(U){if(!L)return 1}else if(L)return-1;const qt=(M.length-I.length)*(U?-1:1);if(qt!==0)return qt;const Lt=[];let te=0;for(let Oe=0;Oe<M.length;++Oe){const gn=Z(M[Oe],I[Oe]);Lt.push(gn),te+=gn}if(te!==0)return te;let ee;for(ee of Lt)if(ee!==0)return ee;return 0}function X(v){if(v.length===0)return[];const C=v.map(s);v.length>1&&C.sort((O,P)=>O.index-P.index);let M=C[0].conversionsTo;if(v.length===1)return M;M=M.concat([]);const I=new Set(v);for(let O=1;O<C.length;++O){let P;for(P of C[O].conversionsTo)I.has(P.from)||(M.push(P),I.add(P.from))}return M}function Y(v,C){let M=C;if(v.some(O=>O.hasConversion)){const O=g(v),P=v.map(W);M=function(){const L=[],V=O?arguments.length-1:arguments.length;for(let k=0;k<V;k++)L[k]=P[k](arguments[k]);return O&&(L[V]=arguments[V].map(P[V])),C.apply(this,L)}}let I=M;if(g(v)){const O=v.length-1;I=function(){return M.apply(this,st(arguments,0,O).concat([st(arguments,O)]))}}return I}function W(v){let C,M,I,O;const P=[],U=[];switch(v.types.forEach(function(L){L.conversion&&(P.push(s(L.conversion.from).test),U.push(L.conversion.convert))}),U.length){case 0:return function(V){return V};case 1:return C=P[0],I=U[0],function(V){return C(V)?I(V):V};case 2:return C=P[0],M=P[1],I=U[0],O=U[1],function(V){return C(V)?I(V):M(V)?O(V):V};default:return function(V){for(let k=0;k<U.length;k++)if(P[k](V))return U[k](V);return V}}}function et(v){function C(M,I,O){if(I<M.length){const P=M[I];let U=[];if(P.restParam){const L=P.types.filter(T);L.length<P.types.length&&U.push({types:L,name:"..."+L.map(V=>V.name).join("|"),hasAny:L.some(V=>V.isAny),hasConversion:!1,restParam:!0}),U.push(P)}else U=P.types.map(function(L){return{types:[L],name:L.name,hasAny:L.isAny,hasConversion:L.conversion,restParam:!1}});return Pt(U,function(L){return C(M,I+1,O.concat([L]))})}else return[O]}return C(v,0,[])}function ot(v,C){const M=Math.max(v.length,C.length);for(let L=0;L<M;L++){const V=b(v,L),k=b(C,L);let at=!1,dt;for(dt of k)if(V.has(dt)){at=!0;break}if(!at)return!1}const I=v.length,O=C.length,P=g(v),U=g(C);return P?U?I===O:O>=I:U?I>=O:I===O}function it(v){return v.map(C=>de(C)?Gt(C.referToSelf.callback):he(C)?Tt(C.referTo.references,C.referTo.callback):C)}function ft(v,C,M){const I=[];let O;for(O of v){let P=M[O];if(typeof P!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(P=C[P],typeof P!="function")return!1;I.push(P)}return I}function Ct(v,C,M){const I=it(v),O=new Array(I.length).fill(!1);let P=!0;for(;P;){P=!1;let U=!0;for(let L=0;L<I.length;++L){if(O[L])continue;const V=I[L];if(de(V))I[L]=V.referToSelf.callback(M),I[L].referToSelf=V.referToSelf,O[L]=!0,U=!1;else if(he(V)){const k=ft(V.referTo.references,I,C);k?(I[L]=V.referTo.callback.apply(this,k),I[L].referTo=V.referTo,O[L]=!0,U=!1):P=!0}}if(U&&P)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return I}function yt(v){const C=/\bthis(\(|\.signatures\b)/;Object.keys(v).forEach(M=>{const I=v[M];if(C.test(I.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function vt(v,C){if(o.createCount++,Object.keys(C).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&yt(C);const M=[],I=[],O={},P=[];let U;for(U in C){if(!Object.prototype.hasOwnProperty.call(C,U))continue;const ut=_(U);if(!ut)continue;M.forEach(function(tn){if(ot(tn,ut))throw new TypeError('Conflicting signatures "'+D(tn)+'" and "'+D(ut)+'".')}),M.push(ut);const jt=I.length;I.push(C[U]);const As=ut.map(A);let vn;for(vn of et(As)){const tn=D(vn);P.push({params:vn,name:tn,fn:jt}),vn.every(Cs=>!Cs.hasConversion)&&(O[tn]=jt)}}P.sort(R);const L=Ct(I,O,Qe);let V;for(V in O)Object.prototype.hasOwnProperty.call(O,V)&&(O[V]=L[O[V]]);const k=[],at=new Map;for(V of P)at.has(V.name)||(V.fn=L[V.fn],k.push(V),at.set(V.name,V));const dt=k[0]&&k[0].params.length<=2&&!g(k[0].params),_t=k[1]&&k[1].params.length<=2&&!g(k[1].params),qt=k[2]&&k[2].params.length<=2&&!g(k[2].params),Lt=k[3]&&k[3].params.length<=2&&!g(k[3].params),te=k[4]&&k[4].params.length<=2&&!g(k[4].params),ee=k[5]&&k[5].params.length<=2&&!g(k[5].params),Oe=dt&&_t&&qt&&Lt&&te&&ee;for(let ut=0;ut<k.length;++ut)k[ut].test=E(k[ut].params);const gn=dt?m(k[0].params[0]):Jt,Yo=_t?m(k[1].params[0]):Jt,Go=qt?m(k[2].params[0]):Jt,Jo=Lt?m(k[3].params[0]):Jt,Ko=te?m(k[4].params[0]):Jt,Qo=ee?m(k[5].params[0]):Jt,ts=dt?m(k[0].params[1]):Jt,es=_t?m(k[1].params[1]):Jt,ns=qt?m(k[2].params[1]):Jt,rs=Lt?m(k[3].params[1]):Jt,is=te?m(k[4].params[1]):Jt,us=ee?m(k[5].params[1]):Jt;for(let ut=0;ut<k.length;++ut)k[ut].implementation=Y(k[ut].params,k[ut].fn);const os=dt?k[0].implementation:ze,ss=_t?k[1].implementation:ze,as=qt?k[2].implementation:ze,fs=Lt?k[3].implementation:ze,cs=te?k[4].implementation:ze,ls=ee?k[5].implementation:ze,hs=dt?k[0].params.length:-1,ds=_t?k[1].params.length:-1,ps=qt?k[2].params.length:-1,Ds=Lt?k[3].params.length:-1,ms=te?k[4].params.length:-1,gs=ee?k[5].params.length:-1,vs=Oe?6:0,ws=k.length,ys=k.map(ut=>ut.test),Fs=k.map(ut=>ut.implementation),Es=function(){for(let jt=vs;jt<ws;jt++)if(ys[jt](arguments))return Fs[jt].apply(this,arguments);return o.onMismatch(v,arguments,k)};function Qe(ut,jt){return arguments.length===hs&&gn(ut)&&ts(jt)?os.apply(this,arguments):arguments.length===ds&&Yo(ut)&&es(jt)?ss.apply(this,arguments):arguments.length===ps&&Go(ut)&&ns(jt)?as.apply(this,arguments):arguments.length===Ds&&Jo(ut)&&rs(jt)?fs.apply(this,arguments):arguments.length===ms&&Ko(ut)&&is(jt)?cs.apply(this,arguments):arguments.length===gs&&Qo(ut)&&us(jt)?ls.apply(this,arguments):Es.apply(this,arguments)}try{Object.defineProperty(Qe,"name",{value:v})}catch{}return Qe.signatures=O,Qe._typedFunctionData={signatures:k,signatureMap:at},Qe}function pt(v,C,M){throw z(v,C,M)}function kt(v){return st(v,0,v.length-1)}function ct(v){return v[v.length-1]}function st(v,C,M){return Array.prototype.slice.call(v,C,M)}function Yt(v,C){for(let M=0;M<v.length;M++)if(C(v[M]))return v[M]}function Pt(v,C){return Array.prototype.concat.apply([],v.map(C))}function lt(){const v=kt(arguments).map(M=>D(_(M))),C=ct(arguments);if(typeof C!="function")throw new TypeError("Callback function expected as last argument");return Tt(v,C)}function Tt(v,C){return{referTo:{references:v,callback:C}}}function Gt(v){if(typeof v!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:v}}}function he(v){return v&&typeof v.referTo=="object"&&Array.isArray(v.referTo.references)&&typeof v.referTo.callback=="function"}function de(v){return v&&typeof v.referToSelf=="object"&&typeof v.referToSelf.callback=="function"}function Pe(v,C){if(!v)return C;if(C&&C!==v){const M=new Error("Function names do not match (expected: "+v+", actual: "+C+")");throw M.data={actual:C,expected:v},M}return v}function $e(v){let C;for(const M in v)Object.prototype.hasOwnProperty.call(v,M)&&(d(v[M])||typeof v[M].signature=="string")&&(C=Pe(C,v[M].name));return C}function ar(v,C){let M;for(M in C)if(Object.prototype.hasOwnProperty.call(C,M)){if(M in v&&C[M]!==v[M]){const I=new Error('Signature "'+M+'" is defined twice');throw I.data={signature:M,sourceFunction:C[M],destFunction:v[M]},I}v[M]=C[M]}}const Xo=o;o=function(v){const C=typeof v=="string",M=C?1:0;let I=C?v:"";const O={};for(let P=M;P<arguments.length;++P){const U=arguments[P];let L={},V;if(typeof U=="function"?(V=U.name,typeof U.signature=="string"?L[U.signature]=U:d(U)&&(L=U.signatures)):t(U)&&(L=U,C||(V=$e(U))),Object.keys(L).length===0){const k=new TypeError("Argument to 'typed' at index "+P+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw k.data={index:P,argument:U},k}C||(I=Pe(I,V)),ar(O,L)}return vt(I||"",O)},o.create=Iu,o.createCount=Xo.createCount,o.onMismatch=pt,o.throwMismatchError=pt,o.createError=z,o.clear=f,o.clearConversions=c,o.addTypes=a,o._findType=s,o.referTo=lt,o.referToSelf=Gt,o.convert=h,o.findSignature=p,o.find=y,o.isTypedFunction=d,o.warnAgainstDeprecatedThis=!0,o.addType=function(v,C){let M="any";C!==!1&&r.has("Object")&&(M="Object"),o.addTypes([v],M)};function li(v){if(!v||typeof v.from!="string"||typeof v.to!="string"||typeof v.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(v.to===v.from)throw new SyntaxError('Illegal to define conversion from "'+v.from+'" to itself.')}return o.addConversion=function(v){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};li(v);const M=s(v.to),I=M.conversionsTo.find(O=>O.from===v.from);if(I)if(C&&C.override)o.removeConversion({from:I.from,to:v.to,convert:I.convert});else throw new Error('There is already a conversion from "'+v.from+'" to "'+M.name+'"');M.conversionsTo.push({from:v.from,convert:v.convert,index:u++})},o.addConversions=function(v,C){v.forEach(M=>o.addConversion(M,C))},o.removeConversion=function(v){li(v);const C=s(v.to),M=Yt(C.conversionsTo,O=>O.from===v.from);if(!M)throw new Error("Attempt to remove nonexistent conversion from "+v.from+" to "+v.to);if(M.convert!==v.convert)throw new Error("Conversion to remove does not match existing conversion");const I=C.conversionsTo.indexOf(M);C.conversionsTo.splice(I,1)},o.resolve=function(v,C){if(!d(v))throw new TypeError(Ei);const M=v._typedFunctionData.signatures;for(let I=0;I<M.length;++I)if(M[I].test(C))return M[I];return null},o}const On=Iu();function rt(t,e,n,r){function i(u){var o=Ga(u,e.map(ef));return Qa(t,e,u),n(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function Qa(t,e,n){var r=e.filter(u=>!tf(u)).every(u=>n[u]!==void 0);if(!r){var i=e.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function tf(t){return t&&t[0]==="?"}function ef(t){return t&&t[0]==="?"?t.slice(1):t}function St(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function cr(t,e,n){var r={2:"0b",8:"0o",16:"0x"},i=r[e],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!St(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!St(t))throw new Error("Value must be an integer");t<0&&(t=t+2**n),u="i".concat(n)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(u)}function Fr(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:n,precision:r,wordSize:i}=Pu(e);switch(n){case"fixed":return rf(t,r);case"exponential":return $u(t,r);case"engineering":return nf(t,r);case"bin":return cr(t,2,i);case"oct":return cr(t,8,i);case"hex":return cr(t,16,i);case"auto":return uf(t,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Pu(t){var e="auto",n,r;if(t!==void 0)if(Dt(t))n=t;else if(bt(t))n=t.toNumber();else if(Ur(t))t.precision!==void 0&&(n=Ai(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(r=Ai(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:r}}function tr(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),u=r.indexOf(".");i+=u!==-1?u-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function nf(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=tr(t),r=er(n,e),i=r.exponent,u=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Dt(e))for(;e>u.length||i-o+1>u.length;)u.push(0);else for(var s=Math.abs(i-o)-(u.length-1),a=0;a<s;a++)u.push(0);for(var f=Math.abs(i-o),c=1;f>0;)c++,f--;var l=u.slice(c).join(""),d=Dt(e)&&l.length||l.match(/[1-9]/)?"."+l:"",p=u.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+o.toString();return r.sign+p}function rf(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=tr(t),r=typeof e=="number"?er(n,n.exponent+1+e):n,i=r.coefficients,u=r.exponent+1,o=u+(e||0);return i.length<o&&(i=i.concat(Ue(o-i.length))),u<0&&(i=Ue(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),r.sign+i.join("")}function $u(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=tr(t),r=e?er(n,e):n,i=r.coefficients,u=r.exponent;i.length<e&&(i=i.concat(Ue(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function uf(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=Ci(n?.lowerExp,-3),i=Ci(n?.upperExp,5),u=tr(t),o=e?er(u,e):u;if(o.exponent<r||o.exponent>=i)return $u(t,e);var s=o.coefficients,a=o.exponent;s.length<e&&(s=s.concat(Ue(e-s.length))),s=s.concat(Ue(a-s.length+1+(s.length<e?e-s.length:0))),s=Ue(-a).concat(s);var f=a>0?a:0;return f<s.length-1&&s.splice(f+1,0,"."),o.sign+s.join("")}function er(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var u=e-1;for(r[u]++;r[u]===10;)r.pop(),u===0&&(r.unshift(0),n.exponent++,u++),u--,r[u]++}}return n}function Ue(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function of(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function zn(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(n*Math.max(Math.abs(t),Math.abs(e)),r)}function Ai(t,e){if(Dt(t))return t;if(bt(t))return t.toNumber();e()}function Ci(t,e){return Dt(t)?t:bt(t)?t.toNumber():e}var Ou=function(){return Ou=On.create,On},sf=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],af=rt("typed",sf,function(e){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:u}=e,o=Ou();return o.clear(),o.addTypes([{name:"number",test:Dt},{name:"Complex",test:Nu},{name:"BigNumber",test:bt},{name:"bigint",test:wa},{name:"Fraction",test:Su},{name:"Unit",test:Tu},{name:"identifier",test:s=>se&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:se},{name:"Chain",test:Xa},{name:"Array",test:Mt},{name:"Matrix",test:At},{name:"DenseMatrix",test:ya},{name:"SparseMatrix",test:Fa},{name:"Range",test:Ea},{name:"Index",test:jr},{name:"boolean",test:Aa},{name:"ResultSet",test:Ca},{name:"Help",test:_a},{name:"function",test:xa},{name:"Date",test:ba},{name:"RegExp",test:Ba},{name:"null",test:Na},{name:"undefined",test:Sa},{name:"AccessorNode",test:Ta},{name:"ArrayNode",test:Ia},{name:"AssignmentNode",test:Pa},{name:"BlockNode",test:$a},{name:"ConditionalNode",test:Oa},{name:"ConstantNode",test:za},{name:"FunctionNode",test:ka},{name:"FunctionAssignmentNode",test:Ra},{name:"IndexNode",test:La},{name:"Node",test:qa},{name:"ObjectNode",test:ja},{name:"OperatorNode",test:Ua},{name:"ParenthesisNode",test:Va},{name:"RangeNode",test:Za},{name:"RelationalNode",test:Ha},{name:"SymbolNode",test:Wa},{name:"Map",test:Ma},{name:"Object",test:Ur}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(a){if(n||yn(a),of(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+a+"). Use function bignumber(x) to convert to BigNumber.");return new n(a)}},{from:"number",to:"Complex",convert:function(a){return r||Fn(a),new r(a,0)}},{from:"BigNumber",to:"Complex",convert:function(a){return r||Fn(a),new r(a.toNumber(),0)}},{from:"bigint",to:"number",convert:function(a){if(a>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+a+")");return Number(a)}},{from:"bigint",to:"BigNumber",convert:function(a){return n||yn(a),new n(a.toString())}},{from:"bigint",to:"Fraction",convert:function(a){return u||En(a),new u(a)}},{from:"Fraction",to:"BigNumber",convert:function(a){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(a){return r||Fn(a),new r(a.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(a){u||En(a);var f=new u(a);if(f.valueOf()!==a)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+a+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(a){var f=Number(a);if(isNaN(f))throw new Error('Cannot convert "'+a+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(a){n||yn(a);try{return new n(a)}catch{throw new Error('Cannot convert "'+a+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(a){try{return BigInt(a)}catch{throw new Error('Cannot convert "'+a+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(a){u||En(a);try{return new u(a)}catch{throw new Error('Cannot convert "'+a+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(a){r||Fn(a);try{return new r(a)}catch{throw new Error('Cannot convert "'+a+'" to Complex')}}},{from:"boolean",to:"number",convert:function(a){return+a}},{from:"boolean",to:"BigNumber",convert:function(a){return n||yn(a),new n(+a)}},{from:"boolean",to:"bigint",convert:function(a){return BigInt(+a)}},{from:"boolean",to:"Fraction",convert:function(a){return u||En(a),new u(+a)}},{from:"boolean",to:"string",convert:function(a){return String(a)}},{from:"Array",to:"Matrix",convert:function(a){return i||ff(),new i(a)}},{from:"Matrix",to:"Array",convert:function(a){return a.valueOf()}}]),o.onMismatch=(s,a,f)=>{var c=o.createError(s,a,f);if(["wrongType","mismatch"].includes(c.data.category)&&a.length===1&&Pn(a[0])&&f.some(d=>!d.params.includes(","))){var l=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw l.data=c.data,l}throw c},o.onMismatch=(s,a,f)=>{var c=o.createError(s,a,f);if(["wrongType","mismatch"].includes(c.data.category)&&a.length===1&&Pn(a[0])&&f.some(d=>!d.params.includes(","))){var l=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw l.data=c.data,l}throw c},o});function yn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Fn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ff(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function En(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var qe=9e15,Ce=1e9,Er="0123456789abcdef",Rn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",kn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ar={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-qe,maxE:qe,crypto:!1},zu,me,Q=!0,nr="[DecimalError] ",Ae=nr+"Invalid argument: ",Ru=nr+"Precision limit exceeded",ku=nr+"crypto unavailable",Lu="[object Decimal]",Rt=Math.floor,Nt=Math.pow,cf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,lf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,hf=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,qu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ue=1e7,K=7,df=9007199254740991,pf=Rn.length-1,Cr=kn.length-1,$={toStringTag:Lu};$.absoluteValue=$.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),J(t)};$.ceil=function(){return J(new this.constructor(this),this.e+1,2)};$.clampedTo=$.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ae+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};$.comparedTo=$.cmp=function(t){var e,n,r,i,u=this,o=u.d,s=(t=new u.constructor(t)).d,a=u.s,f=t.s;if(!o||!s)return!a||!f?NaN:a!==f?a:o===s?0:!o^a<0?1:-1;if(!o[0]||!s[0])return o[0]?a:s[0]?-f:0;if(a!==f)return a;if(u.e!==t.e)return u.e>t.e^a<0?1:-1;for(r=o.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(o[e]!==s[e])return o[e]>s[e]^a<0?1:-1;return r===i?0:r>i^a<0?1:-1};$.cosine=$.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+K,r.rounding=1,n=Df(r,Hu(r,n)),r.precision=t,r.rounding=e,J(me==2||me==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};$.cubeRoot=$.cbrt=function(){var t,e,n,r,i,u,o,s,a,f,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(Q=!1,u=c.s*Nt(c.s*c,1/3),!u||Math.abs(u)==1/0?(n=Ot(c.d),t=c.e,(u=(t-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=Nt(n,1/3),t=Rt((t+1)/3)-(t%3==(t<0?-1:2)),u==1/0?n="5e"+t:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new l(n),r.s=c.s):r=new l(u.toString()),o=(t=l.precision)+3;;)if(s=r,a=s.times(s).times(s),f=a.plus(c),r=ht(f.plus(c).times(s),f.plus(a),o+2,1),Ot(s.d).slice(0,o)===(n=Ot(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(J(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(J(r,t+1,1),e=!r.times(r).times(r).eq(c));break}return Q=!0,J(r,t,l.rounding,e)};$.decimalPlaces=$.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-Rt(this.e/K))*K,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};$.dividedBy=$.div=function(t){return ht(this,new this.constructor(t))};$.dividedToIntegerBy=$.divToInt=function(t){var e=this,n=e.constructor;return J(ht(e,new n(t),0,1,1),n.precision,n.rounding)};$.equals=$.eq=function(t){return this.cmp(t)===0};$.floor=function(){return J(new this.constructor(this),this.e+1,3)};$.greaterThan=$.gt=function(t){return this.cmp(t)>0};$.greaterThanOrEqualTo=$.gte=function(t){var e=this.cmp(t);return e==1||e===0};$.hyperbolicCosine=$.cosh=function(){var t,e,n,r,i,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(t=Math.ceil(i/3),e=(1/ir(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),u=We(o,1,u.times(e),new o(1),!0);for(var a,f=t,c=new o(8);f--;)a=u.times(u),u=s.minus(a.times(c.minus(a.times(c))));return J(u,o.precision=n,o.rounding=r,!0)};$.hyperbolicSine=$.sinh=function(){var t,e,n,r,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(e=u.precision,n=u.rounding,u.precision=e+Math.max(i.e,i.sd())+4,u.rounding=1,r=i.d.length,r<3)i=We(u,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/ir(5,t)),i=We(u,2,i,i,!0);for(var o,s=new u(5),a=new u(16),f=new u(20);t--;)o=i.times(i),i=i.times(s.plus(o.times(a.times(o).plus(f))))}return u.precision=e,u.rounding=n,J(i,e,n,!0)};$.hyperbolicTangent=$.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,ht(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};$.inverseCosine=$.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),r=e.precision,i=e.rounding;return n!==-1?n===0?t.isNeg()?ae(e,r,i):new e(0):new e(NaN):t.isZero()?ae(e,r+4,i).times(.5):(e.precision=r+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=r,e.rounding=i,t.times(2))};$.inverseHyperbolicCosine=$.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Q=!1,n=n.times(n).minus(1).sqrt().plus(n),Q=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};$.inverseHyperbolicSine=$.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Q=!1,n=n.times(n).plus(1).sqrt().plus(n),Q=!0,r.precision=t,r.rounding=e,n.ln())};$.inverseHyperbolicTangent=$.atanh=function(){var t,e,n,r,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=u.precision,e=u.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?J(new u(i),t,e,!0):(u.precision=n=r-i.e,i=ht(i.plus(1),new u(1).minus(i),n+t,1),u.precision=t+4,u.rounding=1,i=i.ln(),u.precision=t,u.rounding=e,i.times(.5))):new u(NaN)};$.inverseSine=$.asin=function(){var t,e,n,r,i=this,u=i.constructor;return i.isZero()?new u(i):(e=i.abs().cmp(1),n=u.precision,r=u.rounding,e!==-1?e===0?(t=ae(u,n+4,r).times(.5),t.s=i.s,t):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=r,i.times(2)))};$.inverseTangent=$.atan=function(){var t,e,n,r,i,u,o,s,a,f=this,c=f.constructor,l=c.precision,d=c.rounding;if(f.isFinite()){if(f.isZero())return new c(f);if(f.abs().eq(1)&&l+4<=Cr)return o=ae(c,l+4,d).times(.25),o.s=f.s,o}else{if(!f.s)return new c(NaN);if(l+4<=Cr)return o=ae(c,l+4,d).times(.5),o.s=f.s,o}for(c.precision=s=l+10,c.rounding=1,n=Math.min(28,s/K+2|0),t=n;t;--t)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(Q=!1,e=Math.ceil(s/K),r=1,a=f.times(f),o=new c(f),i=f;t!==-1;)if(i=i.times(a),u=o.minus(i.div(r+=2)),i=i.times(a),o=u.plus(i.div(r+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===u.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),Q=!0,J(o,c.precision=l,c.rounding=d,!0)};$.isFinite=function(){return!!this.d};$.isInteger=$.isInt=function(){return!!this.d&&Rt(this.e/K)>this.d.length-2};$.isNaN=function(){return!this.s};$.isNegative=$.isNeg=function(){return this.s<0};$.isPositive=$.isPos=function(){return this.s>0};$.isZero=function(){return!!this.d&&this.d[0]===0};$.lessThan=$.lt=function(t){return this.cmp(t)<0};$.lessThanOrEqualTo=$.lte=function(t){return this.cmp(t)<1};$.logarithm=$.log=function(t){var e,n,r,i,u,o,s,a,f=this,c=f.constructor,l=c.precision,d=c.rounding,p=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new c(n&&!n[0]?-1/0:f.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)u=!0;else{for(i=n[0];i%10===0;)i/=10;u=i!==1}if(Q=!1,s=l+p,o=Fe(f,s),r=e?Ln(c,s+10):Fe(t,s),a=ht(o,r,s,1),fn(a.d,i=l,d))do if(s+=10,o=Fe(f,s),r=e?Ln(c,s+10):Fe(t,s),a=ht(o,r,s,1),!u){+Ot(a.d).slice(i+1,i+15)+1==1e14&&(a=J(a,l+1,0));break}while(fn(a.d,i+=10,d));return Q=!0,J(a,l,d)};$.minus=$.sub=function(t){var e,n,r,i,u,o,s,a,f,c,l,d,p=this,y=p.constructor;if(t=new y(t),!p.d||!t.d)return!p.s||!t.s?t=new y(NaN):p.d?t.s=-t.s:t=new y(t.d||p.s!==t.s?p:NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(f=p.d,d=t.d,s=y.precision,a=y.rounding,!f[0]||!d[0]){if(d[0])t.s=-t.s;else if(f[0])t=new y(p);else return new y(a===3?-0:0);return Q?J(t,s,a):t}if(n=Rt(t.e/K),c=Rt(p.e/K),f=f.slice(),u=c-n,u){for(l=u<0,l?(e=f,u=-u,o=d.length):(e=d,n=c,o=f.length),r=Math.max(Math.ceil(s/K),o)+2,u>r&&(u=r,e.length=1),e.reverse(),r=u;r--;)e.push(0);e.reverse()}else{for(r=f.length,o=d.length,l=r<o,l&&(o=r),r=0;r<o;r++)if(f[r]!=d[r]){l=f[r]<d[r];break}u=0}for(l&&(e=f,f=d,d=e,t.s=-t.s),o=f.length,r=d.length-o;r>0;--r)f[o++]=0;for(r=d.length;r>u;){if(f[--r]<d[r]){for(i=r;i&&f[--i]===0;)f[i]=ue-1;--f[i],f[r]+=ue}f[r]-=d[r]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=rr(f,n),Q?J(t,s,a):t):new y(a===3?-0:0)};$.modulo=$.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?J(new r(n),r.precision,r.rounding):(Q=!1,r.modulo==9?(e=ht(n,t.abs(),0,3,1),e.s*=t.s):e=ht(n,t,0,r.modulo,1),e=e.times(t),Q=!0,n.minus(e))};$.naturalExponential=$.exp=function(){return _r(this)};$.naturalLogarithm=$.ln=function(){return Fe(this)};$.negated=$.neg=function(){var t=new this.constructor(this);return t.s=-t.s,J(t)};$.plus=$.add=function(t){var e,n,r,i,u,o,s,a,f,c,l=this,d=l.constructor;if(t=new d(t),!l.d||!t.d)return!l.s||!t.s?t=new d(NaN):l.d||(t=new d(t.d||l.s===t.s?l:NaN)),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(f=l.d,c=t.d,s=d.precision,a=d.rounding,!f[0]||!c[0])return c[0]||(t=new d(l)),Q?J(t,s,a):t;if(u=Rt(l.e/K),r=Rt(t.e/K),f=f.slice(),i=u-r,i){for(i<0?(n=f,i=-i,o=c.length):(n=c,r=u,o=f.length),u=Math.ceil(s/K),o=u>o?u+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=f.length,i=c.length,o-i<0&&(i=o,n=c,c=f,f=n),e=0;i;)e=(f[--i]=f[i]+c[i]+e)/ue|0,f[i]%=ue;for(e&&(f.unshift(e),++r),o=f.length;f[--o]==0;)f.pop();return t.d=f,t.e=rr(f,r),Q?J(t,s,a):t};$.precision=$.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ae+t);return n.d?(e=ju(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};$.round=function(){var t=this,e=t.constructor;return J(new e(t),t.e+1,e.rounding)};$.sine=$.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+K,r.rounding=1,n=gf(r,Hu(r,n)),r.precision=t,r.rounding=e,J(me>2?n.neg():n,t,e,!0)):new r(NaN)};$.squareRoot=$.sqrt=function(){var t,e,n,r,i,u,o=this,s=o.d,a=o.e,f=o.s,c=o.constructor;if(f!==1||!s||!s[0])return new c(!f||f<0&&(!s||s[0])?NaN:s?o:1/0);for(Q=!1,f=Math.sqrt(+o),f==0||f==1/0?(e=Ot(s),(e.length+a)%2==0&&(e+="0"),f=Math.sqrt(e),a=Rt((a+1)/2)-(a<0||a%2),f==1/0?e="5e"+a:(e=f.toExponential(),e=e.slice(0,e.indexOf("e")+1)+a),r=new c(e)):r=new c(f.toString()),n=(a=c.precision)+3;;)if(u=r,r=u.plus(ht(o,u,n+2,1)).times(.5),Ot(u.d).slice(0,n)===(e=Ot(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(J(u,a+1,0),u.times(u).eq(o))){r=u;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(J(r,a+1,1),t=!r.times(r).eq(o));break}return Q=!0,J(r,a,c.rounding,t)};$.tangent=$.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=ht(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,J(me==2||me==4?n.neg():n,t,e,!0)):new r(NaN)};$.times=$.mul=function(t){var e,n,r,i,u,o,s,a,f,c=this,l=c.constructor,d=c.d,p=(t=new l(t)).d;if(t.s*=c.s,!d||!d[0]||!p||!p[0])return new l(!t.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?t.s/0:t.s*0);for(n=Rt(c.e/K)+Rt(t.e/K),a=d.length,f=p.length,a<f&&(u=d,d=p,p=u,o=a,a=f,f=o),u=[],o=a+f,r=o;r--;)u.push(0);for(r=f;--r>=0;){for(e=0,i=a+r;i>r;)s=u[i]+p[r]*d[i-r-1]+e,u[i--]=s%ue|0,e=s/ue|0;u[i]=(u[i]+e)%ue|0}for(;!u[--o];)u.pop();return e?++n:u.shift(),t.d=u,t.e=rr(u,n),Q?J(t,l.precision,l.rounding):t};$.toBinary=function(t,e){return Vr(this,2,t,e)};$.toDecimalPlaces=$.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ht(t,0,Ce),e===void 0?e=r.rounding:Ht(e,0,8),J(n,t+n.e+1,e))};$.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ce(r,!0):(Ht(t,0,Ce),e===void 0?e=i.rounding:Ht(e,0,8),r=J(new i(r),t+1,e),n=ce(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};$.toFixed=function(t,e){var n,r,i=this,u=i.constructor;return t===void 0?n=ce(i):(Ht(t,0,Ce),e===void 0?e=u.rounding:Ht(e,0,8),r=J(new u(i),t+i.e+1,e),n=ce(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};$.toFraction=function(t){var e,n,r,i,u,o,s,a,f,c,l,d,p=this,y=p.d,h=p.constructor;if(!y)return new h(p);if(f=n=new h(1),r=a=new h(0),e=new h(r),u=e.e=ju(y)-p.e-1,o=u%K,e.d[0]=Nt(10,o<0?K+o:o),t==null)t=u>0?e:f;else{if(s=new h(t),!s.isInt()||s.lt(f))throw Error(Ae+s);t=s.gt(e)?u>0?e:f:s}for(Q=!1,s=new h(Ot(y)),c=h.precision,h.precision=u=y.length*K*2;l=ht(s,e,0,1,1),i=n.plus(l.times(r)),i.cmp(t)!=1;)n=r,r=i,i=f,f=a.plus(l.times(i)),a=i,i=e,e=s.minus(l.times(i)),s=i;return i=ht(t.minus(n),r,0,1,1),a=a.plus(i.times(f)),n=n.plus(i.times(r)),a.s=f.s=p.s,d=ht(f,r,u,1).minus(p).abs().cmp(ht(a,n,u,1).minus(p).abs())<1?[f,r]:[a,n],h.precision=c,Q=!0,d};$.toHexadecimal=$.toHex=function(t,e){return Vr(this,16,t,e)};$.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:Ht(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Q=!1,n=ht(n,t,0,e,1).times(t),Q=!0,J(n)):(t.s=n.s,n=t),n};$.toNumber=function(){return+this};$.toOctal=function(t,e){return Vr(this,8,t,e)};$.toPower=$.pow=function(t){var e,n,r,i,u,o,s=this,a=s.constructor,f=+(t=new a(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new a(Nt(+s,f));if(s=new a(s),s.eq(1))return s;if(r=a.precision,u=a.rounding,t.eq(1))return J(s,r,u);if(e=Rt(t.e/K),e>=t.d.length-1&&(n=f<0?-f:f)<=df)return i=Uu(a,s,n,r),t.s<0?new a(1).div(i):J(i,r,u);if(o=s.s,o<0){if(e<t.d.length-1)return new a(NaN);if(t.d[e]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return n=Nt(+s,f),e=n==0||!isFinite(n)?Rt(f*(Math.log("0."+Ot(s.d))/Math.LN10+s.e+1)):new a(n+"").e,e>a.maxE+1||e<a.minE-1?new a(e>0?o/0:0):(Q=!1,a.rounding=s.s=1,n=Math.min(12,(e+"").length),i=_r(t.times(Fe(s,r+n)),r),i.d&&(i=J(i,r+5,1),fn(i.d,r,u)&&(e=r+10,i=J(_r(t.times(Fe(s,e+n)),e),e+5,1),+Ot(i.d).slice(r+1,r+15)+1==1e14&&(i=J(i,r+1,0)))),i.s=o,Q=!0,a.rounding=u,J(i,r,u))};$.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ce(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Ht(t,1,Ce),e===void 0?e=i.rounding:Ht(e,0,8),r=J(new i(r),t,e),n=ce(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};$.toSignificantDigits=$.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ht(t,1,Ce),e===void 0?e=r.rounding:Ht(e,0,8)),J(new r(n),t,e)};$.toString=function(){var t=this,e=t.constructor,n=ce(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};$.truncated=$.trunc=function(){return J(new this.constructor(this),this.e+1,1)};$.valueOf=$.toJSON=function(){var t=this,e=t.constructor,n=ce(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function Ot(t){var e,n,r,i=t.length-1,u="",o=t[0];if(i>0){for(u+=o,e=1;e<i;e++)r=t[e]+"",n=K-r.length,n&&(u+=ye(n)),u+=r;o=t[e],r=o+"",n=K-r.length,n&&(u+=ye(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function Ht(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ae+t)}function fn(t,e,n,r){var i,u,o,s;for(u=t[0];u>=10;u/=10)--e;return--e<0?(e+=K,i=0):(i=Math.ceil((e+1)/K),e%=K),u=Nt(10,K-e),s=t[i]%u|0,r==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),o=n<4&&s==99999||n>3&&s==49999||s==5e4||s==0):o=(n<4&&s+1==u||n>3&&s+1==u/2)&&(t[i+1]/u/100|0)==Nt(10,e-2)-1||(s==u/2||s==0)&&(t[i+1]/u/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),o=(r||n<4)&&s==9999||!r&&n>3&&s==4999):o=((r||n<4)&&s+1==u||!r&&n>3&&s+1==u/2)&&(t[i+1]/u/1e3|0)==Nt(10,e-3)-1,o}function bn(t,e,n){for(var r,i=[0],u,o=0,s=t.length;o<s;){for(u=i.length;u--;)i[u]*=e;for(i[0]+=Er.indexOf(t.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Df(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/ir(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=We(t,1,e.times(i),new t(1));for(var u=n;u--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}var ht=function(){function t(r,i,u){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%u|0,s=o/u|0;return s&&r.unshift(s),r}function e(r,i,u,o){var s,a;if(u!=o)a=u>o?1:-1;else for(s=a=0;s<u;s++)if(r[s]!=i[s]){a=r[s]>i[s]?1:-1;break}return a}function n(r,i,u,o){for(var s=0;u--;)r[u]-=s,s=r[u]<i[u]?1:0,r[u]=s*o+r[u]-i[u];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,u,o,s,a){var f,c,l,d,p,y,h,D,F,A,w,_,g,m,E,x,b,T,B,z,j=r.constructor,H=r.s==i.s?1:-1,Z=r.d,R=i.d;if(!Z||!Z[0]||!R||!R[0])return new j(!r.s||!i.s||(Z?R&&Z[0]==R[0]:!R)?NaN:Z&&Z[0]==0||!R?H*0:H/0);for(a?(p=1,c=r.e-i.e):(a=ue,p=K,c=Rt(r.e/p)-Rt(i.e/p)),B=R.length,b=Z.length,F=new j(H),A=F.d=[],l=0;R[l]==(Z[l]||0);l++);if(R[l]>(Z[l]||0)&&c--,u==null?(m=u=j.precision,o=j.rounding):s?m=u+(r.e-i.e)+1:m=u,m<0)A.push(1),y=!0;else{if(m=m/p+2|0,l=0,B==1){for(d=0,R=R[0],m++;(l<b||d)&&m--;l++)E=d*a+(Z[l]||0),A[l]=E/R|0,d=E%R|0;y=d||l<b}else{for(d=a/(R[0]+1)|0,d>1&&(R=t(R,d,a),Z=t(Z,d,a),B=R.length,b=Z.length),x=B,w=Z.slice(0,B),_=w.length;_<B;)w[_++]=0;z=R.slice(),z.unshift(0),T=R[0],R[1]>=a/2&&++T;do d=0,f=e(R,w,B,_),f<0?(g=w[0],B!=_&&(g=g*a+(w[1]||0)),d=g/T|0,d>1?(d>=a&&(d=a-1),h=t(R,d,a),D=h.length,_=w.length,f=e(h,w,D,_),f==1&&(d--,n(h,B<D?z:R,D,a))):(d==0&&(f=d=1),h=R.slice()),D=h.length,D<_&&h.unshift(0),n(w,h,_,a),f==-1&&(_=w.length,f=e(R,w,B,_),f<1&&(d++,n(w,B<_?z:R,_,a))),_=w.length):f===0&&(d++,w=[0]),A[l++]=d,f&&w[0]?w[_++]=Z[x]||0:(w=[Z[x]],_=1);while((x++<b||w[0]!==void 0)&&m--);y=w[0]!==void 0}A[0]||A.shift()}if(p==1)F.e=c,zu=y;else{for(l=1,d=A[0];d>=10;d/=10)l++;F.e=l+c*p-1,J(F,s?u+F.e+1:u,o,y)}return F}}();function J(t,e,n,r){var i,u,o,s,a,f,c,l,d,p=t.constructor;t:if(e!=null){if(l=t.d,!l)return t;for(i=1,s=l[0];s>=10;s/=10)i++;if(u=e-i,u<0)u+=K,o=e,c=l[d=0],a=c/Nt(10,i-o-1)%10|0;else if(d=Math.ceil((u+1)/K),s=l.length,d>=s)if(r){for(;s++<=d;)l.push(0);c=a=0,i=1,u%=K,o=u-K+1}else break t;else{for(c=s=l[d],i=1;s>=10;s/=10)i++;u%=K,o=u-K+i,a=o<0?0:c/Nt(10,i-o-1)%10|0}if(r=r||e<0||l[d+1]!==void 0||(o<0?c:c%Nt(10,i-o-1)),f=n<4?(a||r)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||r||n==6&&(u>0?o>0?c/Nt(10,i-o):0:l[d-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,f?(e-=t.e+1,l[0]=Nt(10,(K-e%K)%K),t.e=-e||0):l[0]=t.e=0,t;if(u==0?(l.length=d,s=1,d--):(l.length=d+1,s=Nt(10,K-u),l[d]=o>0?(c/Nt(10,i-o)%Nt(10,o)|0)*s:0),f)for(;;)if(d==0){for(u=1,o=l[0];o>=10;o/=10)u++;for(o=l[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(t.e++,l[0]==ue&&(l[0]=1));break}else{if(l[d]+=s,l[d]!=ue)break;l[d--]=0,s=1}for(u=l.length;l[--u]===0;)l.pop()}return Q&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function ce(t,e,n){if(!t.isFinite())return Zu(t);var r,i=t.e,u=Ot(t.d),o=u.length;return e?(n&&(r=n-o)>0?u=u.charAt(0)+"."+u.slice(1)+ye(r):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(t.e<0?"e":"e+")+t.e):i<0?(u="0."+ye(-i-1)+u,n&&(r=n-o)>0&&(u+=ye(r))):i>=o?(u+=ye(i+1-o),n&&(r=n-i-1)>0&&(u=u+"."+ye(r))):((r=i+1)<o&&(u=u.slice(0,r)+"."+u.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(u+="."),u+=ye(r))),u}function rr(t,e){var n=t[0];for(e*=K;n>=10;n/=10)e++;return e}function Ln(t,e,n){if(e>pf)throw Q=!0,n&&(t.precision=n),Error(Ru);return J(new t(Rn),e,1,!0)}function ae(t,e,n){if(e>Cr)throw Error(Ru);return J(new t(kn),e,n,!0)}function ju(t){var e=t.length-1,n=e*K+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ye(t){for(var e="";t--;)e+="0";return e}function Uu(t,e,n,r){var i,u=new t(1),o=Math.ceil(r/K+4);for(Q=!1;;){if(n%2&&(u=u.times(e),xi(u.d,o)&&(i=!0)),n=Rt(n/2),n===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}e=e.times(e),xi(e.d,o)}return Q=!0,u}function _i(t){return t.d[t.d.length-1]&1}function Vu(t,e,n){for(var r,i,u=new t(e[0]),o=0;++o<e.length;){if(i=new t(e[o]),!i.s){u=i;break}r=u.cmp(i),(r===n||r===0&&u.s===n)&&(u=i)}return u}function _r(t,e){var n,r,i,u,o,s,a,f=0,c=0,l=0,d=t.constructor,p=d.rounding,y=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(Q=!1,a=y):a=e,s=new d(.03125);t.e>-2;)t=t.times(s),l+=5;for(r=Math.log(Nt(2,l))/Math.LN10*2+5|0,a+=r,n=u=o=new d(1),d.precision=a;;){if(u=J(u.times(t),a,1),n=n.times(++c),s=o.plus(ht(u,n,a,1)),Ot(s.d).slice(0,a)===Ot(o.d).slice(0,a)){for(i=l;i--;)o=J(o.times(o),a,1);if(e==null)if(f<3&&fn(o.d,a-r,p,f))d.precision=a+=10,n=u=s=new d(1),c=0,f++;else return J(o,d.precision=y,p,Q=!0);else return d.precision=y,o}o=s}}function Fe(t,e){var n,r,i,u,o,s,a,f,c,l,d,p=1,y=10,h=t,D=h.d,F=h.constructor,A=F.rounding,w=F.precision;if(h.s<0||!D||!D[0]||!h.e&&D[0]==1&&D.length==1)return new F(D&&!D[0]?-1/0:h.s!=1?NaN:D?0:h);if(e==null?(Q=!1,c=w):c=e,F.precision=c+=y,n=Ot(D),r=n.charAt(0),Math.abs(u=h.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Ot(h.d),r=n.charAt(0),p++;u=h.e,r>1?(h=new F("0."+n),u++):h=new F(r+"."+n.slice(1))}else return f=Ln(F,c+2,w).times(u+""),h=Fe(new F(r+"."+n.slice(1)),c-y).plus(f),F.precision=w,e==null?J(h,w,A,Q=!0):h;for(l=h,a=o=h=ht(h.minus(1),h.plus(1),c,1),d=J(h.times(h),c,1),i=3;;){if(o=J(o.times(d),c,1),f=a.plus(ht(o,new F(i),c,1)),Ot(f.d).slice(0,c)===Ot(a.d).slice(0,c))if(a=a.times(2),u!==0&&(a=a.plus(Ln(F,c+2,w).times(u+""))),a=ht(a,new F(p),c,1),e==null)if(fn(a.d,c-y,A,s))F.precision=c+=y,f=o=h=ht(l.minus(1),l.plus(1),c,1),d=J(h.times(h),c,1),i=s=1;else return J(a,F.precision=w,A,Q=!0);else return F.precision=w,a;a=f,i+=2}}function Zu(t){return String(t.s*t.s/0)}function Bn(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%K,n<0&&(r+=K),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=K;r<i;)t.d.push(+e.slice(r,r+=K));e=e.slice(r),r=K-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Q&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function mf(t,e){var n,r,i,u,o,s,a,f,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),qu.test(e))return Bn(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(lf.test(e))n=16,e=e.toLowerCase();else if(cf.test(e))n=2;else if(hf.test(e))n=8;else throw Error(Ae+e);for(u=e.search(/p/i),u>0?(a=+e.slice(u+1),e=e.substring(2,u)):e=e.slice(2),u=e.indexOf("."),o=u>=0,r=t.constructor,o&&(e=e.replace(".",""),s=e.length,u=s-u,i=Uu(r,new r(n),u,u*2)),f=bn(e,n,ue),c=f.length-1,u=c;f[u]===0;--u)f.pop();return u<0?new r(t.s*0):(t.e=rr(f,c),t.d=f,Q=!1,o&&(t=ht(t,i,s*4)),a&&(t=t.times(Math.abs(a)<54?Nt(2,a):Xe.pow(2,a))),Q=!0,t)}function gf(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:We(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/ir(5,n)),e=We(t,2,e,e);for(var i,u=new t(5),o=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(u.plus(i.times(o.times(i).minus(s))));return e}function We(t,e,n,r,i){var u,o,s,a,f=t.precision,c=Math.ceil(f/K);for(Q=!1,a=n.times(n),s=new t(r);;){if(o=ht(s.times(a),new t(e++*e++),f,1),s=i?r.plus(o):r.minus(o),r=ht(o.times(a),new t(e++*e++),f,1),o=s.plus(r),o.d[c]!==void 0){for(u=c;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=r,r=o,o=u}return Q=!0,o.d.length=c+1,o}function ir(t,e){for(var n=t;--e;)n*=t;return n}function Hu(t,e){var n,r=e.s<0,i=ae(t,t.precision,1),u=i.times(.5);if(e=e.abs(),e.lte(u))return me=r?4:1,e;if(n=e.divToInt(i),n.isZero())me=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(u))return me=_i(n)?r?2:3:r?4:1,e;me=_i(n)?r?1:4:r?3:2}return e.minus(i).abs()}function Vr(t,e,n,r){var i,u,o,s,a,f,c,l,d,p=t.constructor,y=n!==void 0;if(y?(Ht(n,1,Ce),r===void 0?r=p.rounding:Ht(r,0,8)):(n=p.precision,r=p.rounding),!t.isFinite())c=Zu(t);else{for(c=ce(t),o=c.indexOf("."),y?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,o>=0&&(c=c.replace(".",""),d=new p(1),d.e=c.length-o,d.d=bn(ce(d),10,i),d.e=d.d.length),l=bn(c,10,i),u=a=l.length;l[--a]==0;)l.pop();if(!l[0])c=y?"0p+0":"0";else{if(o<0?u--:(t=new p(t),t.d=l,t.e=u,t=ht(t,d,n,r,0,i),l=t.d,u=t.e,f=zu),o=l[n],s=i/2,f=f||l[n+1]!==void 0,f=r<4?(o!==void 0||f)&&(r===0||r===(t.s<0?3:2)):o>s||o===s&&(r===4||f||r===6&&l[n-1]&1||r===(t.s<0?8:7)),l.length=n,f)for(;++l[--n]>i-1;)l[n]=0,n||(++u,l.unshift(1));for(a=l.length;!l[a-1];--a);for(o=0,c="";o<a;o++)c+=Er.charAt(l[o]);if(y){if(a>1)if(e==16||e==8){for(o=e==16?4:3,--a;a%o;a++)c+="0";for(l=bn(c,i,e),a=l.length;!l[a-1];--a);for(o=1,c="1.";o<a;o++)c+=Er.charAt(l[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)c="0"+c;c="0."+c}else if(++u>a)for(u-=a;u--;)c+="0";else u<a&&(c=c.slice(0,u)+"."+c.slice(u))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function xi(t,e){if(t.length>e)return t.length=e,!0}function vf(t){return new this(t).abs()}function wf(t){return new this(t).acos()}function yf(t){return new this(t).acosh()}function Ff(t,e){return new this(t).plus(e)}function Ef(t){return new this(t).asin()}function Af(t){return new this(t).asinh()}function Cf(t){return new this(t).atan()}function _f(t){return new this(t).atanh()}function xf(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,u=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=ae(this,u,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?ae(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=ae(this,u,1).times(.5),n.s=t.s):e.s<0?(this.precision=u,this.rounding=1,n=this.atan(ht(t,e,u,1)),e=ae(this,u,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(ht(t,e,u,1)),n}function bf(t){return new this(t).cbrt()}function Bf(t){return J(t=new this(t),t.e+1,2)}function Mf(t,e,n){return new this(t).clamp(e,n)}function Nf(t){if(!t||typeof t!="object")throw Error(nr+"Object expected");var e,n,r,i=t.defaults===!0,u=["precision",1,Ce,"rounding",0,8,"toExpNeg",-qe,0,"toExpPos",0,qe,"maxE",0,qe,"minE",-qe,0,"modulo",0,9];for(e=0;e<u.length;e+=3)if(n=u[e],i&&(this[n]=Ar[n]),(r=t[n])!==void 0)if(Rt(r)===r&&r>=u[e+1]&&r<=u[e+2])this[n]=r;else throw Error(Ae+n+": "+r);if(n="crypto",i&&(this[n]=Ar[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(ku);else this[n]=!1;else throw Error(Ae+n+": "+r);return this}function Sf(t){return new this(t).cos()}function Tf(t){return new this(t).cosh()}function Wu(t){var e,n,r;function i(u){var o,s,a,f=this;if(!(f instanceof i))return new i(u);if(f.constructor=i,bi(u)){f.s=u.s,Q?!u.d||u.e>i.maxE?(f.e=NaN,f.d=null):u.e<i.minE?(f.e=0,f.d=[0]):(f.e=u.e,f.d=u.d.slice()):(f.e=u.e,f.d=u.d?u.d.slice():u.d);return}if(a=typeof u,a==="number"){if(u===0){f.s=1/u<0?-1:1,f.e=0,f.d=[0];return}if(u<0?(u=-u,f.s=-1):f.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;Q?o>i.maxE?(f.e=NaN,f.d=null):o<i.minE?(f.e=0,f.d=[0]):(f.e=o,f.d=[u]):(f.e=o,f.d=[u]);return}if(u*0!==0){u||(f.s=NaN),f.e=NaN,f.d=null;return}return Bn(f,u.toString())}if(a==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),f.s=-1):(s===43&&(u=u.slice(1)),f.s=1),qu.test(u)?Bn(f,u):mf(f,u);if(a==="bigint")return u<0?(u=-u,f.s=-1):f.s=1,Bn(f,u.toString());throw Error(Ae+u)}if(i.prototype=$,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Nf,i.clone=Wu,i.isDecimal=bi,i.abs=vf,i.acos=wf,i.acosh=yf,i.add=Ff,i.asin=Ef,i.asinh=Af,i.atan=Cf,i.atanh=_f,i.atan2=xf,i.cbrt=bf,i.ceil=Bf,i.clamp=Mf,i.cos=Sf,i.cosh=Tf,i.div=If,i.exp=Pf,i.floor=$f,i.hypot=Of,i.ln=zf,i.log=Rf,i.log10=Lf,i.log2=kf,i.max=qf,i.min=jf,i.mod=Uf,i.mul=Vf,i.pow=Zf,i.random=Hf,i.round=Wf,i.sign=Xf,i.sin=Yf,i.sinh=Gf,i.sqrt=Jf,i.sub=Kf,i.sum=Qf,i.tan=tc,i.tanh=ec,i.trunc=nc,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function If(t,e){return new this(t).div(e)}function Pf(t){return new this(t).exp()}function $f(t){return J(t=new this(t),t.e+1,3)}function Of(){var t,e,n=new this(0);for(Q=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Q=!0,new this(1/0);n=e}return Q=!0,n.sqrt()}function bi(t){return t instanceof Xe||t&&t.toStringTag===Lu||!1}function zf(t){return new this(t).ln()}function Rf(t,e){return new this(t).log(e)}function kf(t){return new this(t).log(2)}function Lf(t){return new this(t).log(10)}function qf(){return Vu(this,arguments,-1)}function jf(){return Vu(this,arguments,1)}function Uf(t,e){return new this(t).mod(e)}function Vf(t,e){return new this(t).mul(e)}function Zf(t,e){return new this(t).pow(e)}function Hf(t){var e,n,r,i,u=0,o=new this(1),s=[];if(t===void 0?t=this.precision:Ht(t,1,Ce),r=Math.ceil(t/K),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));u<r;)i=e[u],i>=429e7?e[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);u<r;)i=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+((e[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,u):(s.push(i%1e7),u+=4);u=r/4}else throw Error(ku);else for(;u<r;)s[u++]=Math.random()*1e7|0;for(r=s[--u],t%=K,r&&t&&(i=Nt(10,K-t),s[u]=(r/i|0)*i);s[u]===0;u--)s.pop();if(u<0)n=0,s=[0];else{for(n=-1;s[0]===0;n-=K)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<K&&(n-=K-r)}return o.e=n,o.d=s,o}function Wf(t){return J(t=new this(t),t.e+1,this.rounding)}function Xf(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Yf(t){return new this(t).sin()}function Gf(t){return new this(t).sinh()}function Jf(t){return new this(t).sqrt()}function Kf(t,e){return new this(t).sub(e)}function Qf(){var t=0,e=arguments,n=new this(e[t]);for(Q=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return Q=!0,J(n,this.precision,this.rounding)}function tc(t){return new this(t).tan()}function ec(t){return new this(t).tanh()}function nc(t){return J(t=new this(t),t.e+1,1)}$[Symbol.for("nodejs.util.inspect.custom")]=$.toString;$[Symbol.toStringTag]="Decimal";var Xe=$.constructor=Wu(Ar);Rn=new Xe(Rn);kn=new Xe(kn);var rc="BigNumber",ic=["?on","config"],uc=rt(rc,ic,t=>{var{on:e,config:n}=t,r=Xe.clone({precision:n.precision,modulo:Xe.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,u){i.precision!==u.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const zt=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Kt=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},oc=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},lr=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},Re=function(){throw SyntaxError("Invalid Param")};function hr(t,e){const n=Math.abs(t),r=Math.abs(e);return t===0?Math.log(r):e===0?Math.log(n):n<3e3&&r<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const sc={re:0,im:0},_e=function(t,e){const n=sc;if(t==null)n.re=n.im=0;else if(e!==void 0)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return S.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return S.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else t.length===2?(n.re=t[0],n.im=t[1]):Re();break;case"string":n.im=n.re=0;const r=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;r===null&&Re();for(let o=0;o<r.length;o++){const s=r[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?u++:s==="i"||s==="I"?(i+u===0&&Re(),r[o+1]!==" "&&!isNaN(r[o+1])?(n.im+=parseFloat((u%2?"-":"")+r[o+1]),o++):n.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(s))&&Re(),r[o+1]==="i"||r[o+1]==="I"?(n.im+=parseFloat((u%2?"-":"")+s),o++):n.re+=parseFloat((u%2?"-":"")+s),i=u=0))}i+u>0&&Re();break;case"number":n.im=0,n.re=t;break;default:Re()}return isNaN(n.re)||isNaN(n.im),n};function S(t,e){if(!(this instanceof S))return new S(t,e);const n=_e(t,e);this.re=n.re,this.im=n.im}S.prototype={re:0,im:0,sign:function(){const t=lr(this.re,this.im);return new S(this.re/t,this.im/t)},add:function(t,e){const n=_e(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?S.NAN:S.INFINITY:new S(this.re+n.re,this.im+n.im)},sub:function(t,e){const n=_e(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?S.NAN:S.INFINITY:new S(this.re-n.re,this.im-n.im)},mul:function(t,e){const n=_e(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;return r&&o||i&&u?S.NAN:r||i?S.INFINITY:n.im===0&&this.im===0?new S(this.re*n.re,0):new S(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){const n=_e(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;if(u&&o||r&&i)return S.NAN;if(o||r)return S.INFINITY;if(u||i)return S.ZERO;if(n.im===0)return new S(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const s=n.re/n.im,a=n.re*s+n.im;return new S((this.re*s+this.im)/a,(this.im*s-this.re)/a)}else{const s=n.im/n.re,a=n.im*s+n.re;return new S((this.re+this.im*s)/a,(this.im-this.re*s)/a)}},pow:function(t,e){const n=_e(t,e),r=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return S.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new S(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new S(Math.pow(this.im,n.re),0);case 1:return new S(0,Math.pow(this.im,n.re));case 2:return new S(-Math.pow(this.im,n.re),0);case 3:return new S(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return S.ZERO;const u=Math.atan2(this.im,this.re),o=hr(this.re,this.im);let s=Math.exp(n.re*o-n.im*u),a=n.im*o+n.re*u;return new S(s*Math.cos(a),s*Math.sin(a))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new S(Math.sqrt(t),0):new S(0,Math.sqrt(-t));const n=lr(t,e);let r=Math.sqrt(.5*(n+Math.abs(t))),i=Math.abs(e)/(2*r);return t>=0?new S(r,e<0?-i:i):new S(i,e<0?-r:r)},exp:function(){const t=Math.exp(this.re);return this.im===0?new S(t,0):new S(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new S(Math.expm1(t)*Math.cos(e)+oc(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new S(Math.log(t),0):new S(hr(t,e),Math.atan2(e,t))},abs:function(){return lr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new S(Math.sin(t)*zt(e),Math.cos(t)*Kt(e))},cos:function(){const t=this.re,e=this.im;return new S(Math.cos(t)*zt(e),-Math.sin(t)*Kt(e))},tan:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)+zt(e);return new S(Math.sin(t)/n,Kt(e)/n)},cot:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)-zt(e);return new S(-Math.sin(t)/n,Kt(e)/n)},sec:function(){const t=this.re,e=this.im,n=.5*zt(2*e)+.5*Math.cos(2*t);return new S(Math.cos(t)*zt(e)/n,Math.sin(t)*Kt(e)/n)},csc:function(){const t=this.re,e=this.im,n=.5*zt(2*e)-.5*Math.cos(2*t);return new S(Math.sin(t)*zt(e)/n,-Math.cos(t)*Kt(e)/n)},asin:function(){const t=this.re,e=this.im,n=new S(e*e-t*t+1,-2*t*e).sqrt(),r=new S(n.re-e,n.im+t).log();return new S(r.im,-r.re)},acos:function(){const t=this.re,e=this.im,n=new S(e*e-t*t+1,-2*t*e).sqrt(),r=new S(n.re-e,n.im+t).log();return new S(Math.PI/2-r.im,r.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new S(0,1/0);if(e===-1)return new S(0,-1/0)}const n=t*t+(1-e)*(1-e),r=new S((1-e*e-t*t)/n,-2*t/n).log();return new S(-.5*r.im,.5*r.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new S(Math.atan2(1,t),0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).atan():new S(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new S(0,1/0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).acos():new S(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new S(Math.PI/2,1/0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).asin():new S(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new S(Kt(t)*Math.cos(e),zt(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new S(zt(t)*Math.cos(e),Kt(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,n=zt(t)+Math.cos(e);return new S(Kt(t)/n,Math.sin(e)/n)},coth:function(){const t=2*this.re,e=2*this.im,n=zt(t)-Math.cos(e);return new S(Kt(t)/n,-Math.sin(e)/n)},csch:function(){const t=this.re,e=this.im,n=Math.cos(2*e)-zt(2*t);return new S(-2*Kt(t)*Math.cos(e)/n,2*zt(t)*Math.sin(e)/n)},sech:function(){const t=this.re,e=this.im,n=Math.cos(2*e)+zt(2*t);return new S(2*zt(t)*Math.cos(e)/n,-2*Kt(t)*Math.sin(e)/n)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,n=t>1&&e===0,r=1-t,i=1+t,u=r*r+e*e,o=u!==0?new S((i*r-e*e)/u,(e*r+i*e)/u):new S(t!==-1?t/0:0,e!==0?e/0:0),s=o.re;return o.re=hr(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new S(0,Math.PI/2);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).atanh():new S(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new S(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).asinh():new S(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return S.INFINITY;const n=t*t+e*e;return n!==0?new S(t/n,-e/n).acosh():new S(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;const t=this.re,e=this.im,n=t*t+e*e;return new S(t/n,-e/n)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new S(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new S(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new S(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const n=_e(t,e);return Math.abs(n.re-this.re)<=S.EPSILON&&Math.abs(n.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){let t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<S.EPSILON&&(t=0),Math.abs(e)<S.EPSILON&&(e=0),e===0?n+t:(t!==0?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),e!==1&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};S.ZERO=new S(0,0);S.ONE=new S(1,0);S.I=new S(0,1);S.PI=new S(Math.PI,0);S.E=new S(Math.E,0);S.INFINITY=new S(1/0,1/0);S.NAN=new S(NaN,NaN);S.EPSILON=1e-15;var ac="Complex",fc=[],cc=rt(ac,fc,()=>(Object.defineProperty(S,"name",{value:"Complex"}),S.prototype.constructor=S,S.prototype.type="Complex",S.prototype.isComplex=!0,S.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},S.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},S.prototype.format=function(t){var e="",n=this.im,r=this.re,i=Fr(this.re,t),u=Fr(this.im,t),o=Dt(t)?t:t?t.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(r/n)<s&&(r=0),Math.abs(n/r)<s&&(n=0)}return n===0?e=i:r===0?n===1?e="i":n===-1?e="-i":e=u+"i":n<0?n===-1?e=i+" - i":e=i+" - "+u.substring(1)+"i":n===1?e=i+" + i":e=i+" + "+u+"i",e},S.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return S(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(Dt(n)){if(Tu(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Dt(r))return new S({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},S.prototype.valueOf=S.prototype.toString,S.fromJSON=function(t){return new S(t)},S.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},S),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const G=BigInt(0),tt=BigInt(1),cn=BigInt(2),xr=BigInt(5),Ut=BigInt(10),lc=2e3,q={s:tt,n:G,d:tt};function pe(t,e){try{t=BigInt(t)}catch{throw we()}return t*e}function ne(t){return typeof t=="bigint"?t:Math.floor(t)}function mt(t,e){if(e===G)throw Zr();const n=Object.create(Qt.prototype);n.s=t<G?-tt:tt,t=t<G?-t:t;const r=be(t,e);return n.n=t/r,n.d=e/r,n}function ke(t){const e={};let n=t,r=cn,i=xr-tt;for(;i<=n;){for(;n%r===G;)n/=r,e[r]=(e[r]||G)+tt;i+=tt+cn*r++}return n!==t?n>1&&(e[n]=(e[n]||G)+tt):e[t]=(e[t]||G)+tt,e}const It=function(t,e){let n=G,r=tt,i=tt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")n=t;else{if(isNaN(t))throw we();if(t%1!==0)throw Bi();n=BigInt(t)}if(typeof e=="bigint")r=e;else{if(isNaN(e))throw we();if(e%1!==0)throw Bi();r=BigInt(e)}i=n*r}else if(typeof t=="object"){if("d"in t&&"n"in t)n=BigInt(t.n),r=BigInt(t.d),"s"in t&&(n*=BigInt(t.s));else if(0 in t)n=BigInt(t[0]),1 in t&&(r=BigInt(t[1]));else if(typeof t=="bigint")n=t;else throw we();i=n*r}else if(typeof t=="number"){if(isNaN(t))throw we();if(t<0&&(i=-tt,t=-t),t%1===0)n=BigInt(t);else{let u=1,o=0,s=1,a=1,f=1,c=1e7;for(t>=1&&(u=10**Math.floor(1+Math.log10(t)),t/=u);s<=c&&f<=c;){let l=(o+a)/(s+f);if(t===l){s+f<=c?(n=o+a,r=s+f):f>s?(n=a,r=f):(n=o,r=s);break}else t>l?(o+=a,s+=f):(a+=o,f+=s),s>c?(n=a,r=f):(n=o,r=s)}n=BigInt(n)*BigInt(u),r=BigInt(r)}}else if(typeof t=="string"){let u=0,o=G,s=G,a=G,f=tt,c=tt,l=t.replace(/_/g,"").match(/\d+|./g);if(l===null)throw we();if(l[u]==="-"?(i=-tt,u++):l[u]==="+"&&u++,l.length===u+1?s=pe(l[u++],i):l[u+1]==="."||l[u]==="."?(l[u]!=="."&&(o=pe(l[u++],i)),u++,(u+1===l.length||l[u+1]==="("&&l[u+3]===")"||l[u+1]==="'"&&l[u+3]==="'")&&(s=pe(l[u],i),f=Ut**BigInt(l[u].length),u++),(l[u]==="("&&l[u+2]===")"||l[u]==="'"&&l[u+2]==="'")&&(a=pe(l[u+1],i),c=Ut**BigInt(l[u+1].length)-tt,u+=3)):l[u+1]==="/"||l[u+1]===":"?(s=pe(l[u],i),f=pe(l[u+2],tt),u+=3):l[u+3]==="/"&&l[u+1]===" "&&(o=pe(l[u],i),s=pe(l[u+2],i),f=pe(l[u+4],tt),u+=5),l.length<=u)r=f*c,i=n=a+r*o+c*s;else throw we()}else if(typeof t=="bigint")n=t,i=t,r=tt;else throw we();if(r===G)throw Zr();q.s=i<G?-tt:tt,q.n=n<G?-n:n,q.d=r<G?-r:r};function hc(t,e,n){let r=tt;for(;e>G;t=t*t%n,e>>=tt)e&tt&&(r=r*t%n);return r}function dc(t,e){for(;e%cn===G;e/=cn);for(;e%xr===G;e/=xr);if(e===tt)return G;let n=Ut%e,r=1;for(;n!==tt;r++)if(n=n*Ut%e,r>lc)return G;return BigInt(r)}function pc(t,e,n){let r=tt,i=hc(Ut,n,e);for(let u=0;u<300;u++){if(r===i)return BigInt(u);r=r*Ut%e,i=i*Ut%e}return 0}function be(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Qt(t,e){if(It(t,e),this instanceof Qt)t=be(q.d,q.n),this.s=q.s,this.n=q.n/t,this.d=q.d/t;else return mt(q.s*q.n,q.d)}var Zr=function(){return new Error("Division by Zero")},we=function(){return new Error("Invalid argument")},Bi=function(){return new Error("Parameters must be integer")};Qt.prototype={s:tt,n:G,d:tt,abs:function(){return mt(this.n,this.d)},neg:function(){return mt(-this.s*this.n,this.d)},add:function(t,e){return It(t,e),mt(this.s*this.n*q.d+q.s*this.d*q.n,this.d*q.d)},sub:function(t,e){return It(t,e),mt(this.s*this.n*q.d-q.s*this.d*q.n,this.d*q.d)},mul:function(t,e){return It(t,e),mt(this.s*q.s*this.n*q.n,this.d*q.d)},div:function(t,e){return It(t,e),mt(this.s*q.s*this.n*q.d,this.d*q.n)},clone:function(){return mt(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return mt(this.s*this.n%this.d,tt);if(It(t,e),G===q.n*this.d)throw Zr();return mt(this.s*(q.d*this.n)%(q.n*this.d),q.d*this.d)},gcd:function(t,e){return It(t,e),mt(be(q.n,this.n)*be(q.d,this.d),q.d*this.d)},lcm:function(t,e){return It(t,e),q.n===G&&this.n===G?mt(G,tt):mt(q.n*this.n,be(q.n,this.n)*be(q.d,this.d))},inverse:function(){return mt(this.s*this.d,this.n)},pow:function(t,e){if(It(t,e),q.d===tt)return q.s<G?mt((this.s*this.d)**q.n,this.n**q.n):mt((this.s*this.n)**q.n,this.d**q.n);if(this.s<G)return null;let n=ke(this.n),r=ke(this.d),i=tt,u=tt;for(let o in n)if(o!=="1"){if(o==="0"){i=G;break}if(n[o]*=q.n,n[o]%q.d===G)n[o]/=q.d;else return null;i*=BigInt(o)**n[o]}for(let o in r)if(o!=="1"){if(r[o]*=q.n,r[o]%q.d===G)r[o]/=q.d;else return null;u*=BigInt(o)**r[o]}return q.s<G?mt(u,i):mt(i,u)},log:function(t,e){if(It(t,e),this.s<=G||q.s<=G)return null;const n={},r=ke(q.n),i=ke(q.d),u=ke(this.n),o=ke(this.d);for(const f in i)r[f]=(r[f]||G)-i[f];for(const f in o)u[f]=(u[f]||G)-o[f];for(const f in r)f!=="1"&&(n[f]=!0);for(const f in u)f!=="1"&&(n[f]=!0);let s=null,a=null;for(const f in n){const c=r[f]||G,l=u[f]||G;if(c===G){if(l!==G)return null;continue}let d=l,p=c;const y=be(d,p);if(d/=y,p/=y,s===null&&a===null)s=d,a=p;else if(d*a!==s*p)return null}return s!==null&&a!==null?mt(s,a):null},equals:function(t,e){return It(t,e),this.s*this.n*q.d===q.s*q.n*this.d},lt:function(t,e){return It(t,e),this.s*this.n*q.d<q.s*q.n*this.d},lte:function(t,e){return It(t,e),this.s*this.n*q.d<=q.s*q.n*this.d},gt:function(t,e){return It(t,e),this.s*this.n*q.d>q.s*q.n*this.d},gte:function(t,e){return It(t,e),this.s*this.n*q.d>=q.s*q.n*this.d},compare:function(t,e){It(t,e);let n=this.s*this.n*q.d-q.s*q.n*this.d;return(G<n)-(n<G)},ceil:function(t){return t=Ut**BigInt(t||0),mt(ne(this.s*t*this.n/this.d)+(t*this.n%this.d>G&&this.s>=G?tt:G),t)},floor:function(t){return t=Ut**BigInt(t||0),mt(ne(this.s*t*this.n/this.d)-(t*this.n%this.d>G&&this.s<G?tt:G),t)},round:function(t){return t=Ut**BigInt(t||0),mt(ne(this.s*t*this.n/this.d)+this.s*((this.s>=G?tt:G)+cn*(t*this.n%this.d)>this.d?tt:G),t)},roundTo:function(t,e){It(t,e);const n=this.n*q.d,r=this.d*q.n,i=n%r;let u=ne(n/r);return i+i>=r&&u++,mt(this.s*u*q.n,q.d)},divisible:function(t,e){return It(t,e),!(!(q.n*this.d)||this.n*q.d%(q.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let e=this.n,n=this.d;t=t||15;let r=dc(e,n),i=pc(e,n,r),u=this.s<G?"-":"";if(u+=ne(e/n),e%=n,e*=Ut,e&&(u+="."),r){for(let o=i;o--;)u+=ne(e/n),e%=n,e*=Ut;u+="(";for(let o=r;o--;)u+=ne(e/n),e%=n,e*=Ut;u+=")"}else for(let o=t;e&&o--;)u+=ne(e/n),e%=n,e*=Ut;return u},toFraction:function(t){let e=this.n,n=this.d,r=this.s<G?"-":"";if(n===tt)r+=e;else{let i=ne(e/n);t&&i>G&&(r+=i,r+=" ",e%=n),r+=e,r+="/",r+=n}return r},toLatex:function(t){let e=this.n,n=this.d,r=this.s<G?"-":"";if(n===tt)r+=e;else{let i=ne(e/n);t&&i>G&&(r+=i,e%=n),r+="\\frac{",r+=e,r+="}{",r+=n,r+="}"}return r},toContinued:function(){let t=this.n,e=this.d,n=[];do{n.push(ne(t/e));let r=t%e;t=e,e=r}while(t!==tt);return n},simplify:function(t){const e=BigInt(1/(t||.001)|0),n=this.abs(),r=n.toContinued();for(let i=1;i<r.length;i++){let u=mt(r[i-1],tt);for(let s=i-2;s>=0;s--)u=u.inverse().add(r[s]);let o=u.sub(n);if(o.n*e<o.d)return u.mul(this.s)}return this}};var Dc="Fraction",mc=[],gc=rt(Dc,mc,()=>(Object.defineProperty(Qt,"name",{value:"Fraction"}),Qt.prototype.constructor=Qt,Qt.prototype.type="Fraction",Qt.prototype.isFraction=!0,Qt.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Qt.fromJSON=function(t){return new Qt(t)},Qt),{isClass:!0}),vc="Matrix",wc=[],yc=rt(vc,wc,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,n,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function dr(t,e,n){var r=t.constructor,i=new r(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!St(n))throw new Error("size must be an integer");if(t.greaterThan(i.pow(n-1).sub(1))||t.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(n))),u="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(u);case 8:return"".concat(t.toOctal()).concat(u);case 16:return"".concat(t.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function Fc(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=Pu(e);switch(n){case"fixed":return Ac(t,r);case"exponential":return Mi(t,r);case"engineering":return Ec(t,r);case"bin":return dr(t,2,i);case"oct":return dr(t,8,i);case"hex":return dr(t,16,i);case"auto":{var u=Ni(e?.lowerExp,-3),o=Ni(e?.upperExp,5);if(t.isZero())return"0";var s,a=t.toSignificantDigits(r),f=a.e;return f>=u&&f<o?s=a.toFixed():s=Mi(t,r),s.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],l=arguments[4];return c!=="."?c+l:l})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ec(t,e){var n=t.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),u=i.toPrecision(e);if(u.includes("e")){var o=t.constructor;u=new o(u).toFixed()}return u+"e"+(n>=0?"+":"")+r.toString()}function Mi(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function Ac(t,e){return t.toFixed(e)}function Ni(t,e){return Dt(t)?t:bt(t)?t.toNumber():e}function xt(t,e){var n=Cc(t,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Cc(t,e){if(typeof t=="number")return Fr(t,e);if(bt(t))return Fc(t,e);if(_c(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return Xu(t,e);if(se(t))return Si(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var n=Object.keys(t).map(r=>Si(r)+": "+xt(t[r],e));return"{"+n.join(", ")+"}"}return String(t)}function Si(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);n+=i in Ti?Ti[i]:i,r++}return'"'+n+'"'}var Ti={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Xu(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=Xu(t[i],e);return n+="]",n}else return xt(t,e)}function _c(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function gt(t,e,n){if(!(this instanceof gt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}gt.prototype=new RangeError;gt.prototype.constructor=RangeError;gt.prototype.name="DimensionError";gt.prototype.isDimensionError=!0;function Ke(t,e,n){if(!(this instanceof Ke))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ke.prototype=new RangeError;Ke.prototype.constructor=RangeError;Ke.prototype.name="IndexError";Ke.prototype.isIndexError=!0;function Zt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Yu(t,e,n){var r,i=t.length;if(i!==e[n])throw new gt(i,e[n]);if(n<e.length-1){var u=n+1;for(r=0;r<i;r++){var o=t[r];if(!Array.isArray(o))throw new gt(e.length-1,e.length,"<");Yu(t[r],e,u)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new gt(e.length+1,e.length,">")}function Ii(t,e){var n=e.length===0;if(n){if(Array.isArray(t))throw new gt(t.length,0)}else Yu(t,e,0)}function wt(t,e){if(t!==void 0){if(!Dt(t)||!St(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Ke(t,e)}}function br(t,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Dt(i)||!St(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(e)+")")}),(Dt(t)||bt(t))&&(t=[t]);var r=n!==void 0?n:0;return Br(t,e,0,r),t}function Br(t,e,n,r){var i,u,o=t.length,s=e[n],a=Math.min(o,s);if(t.length=s,n<e.length-1){var f=n+1;for(i=0;i<a;i++)u=t[i],Array.isArray(u)||(u=[u],t[i]=u),Br(u,e,f,r);for(i=a;i<s;i++)u=[],t[i]=u,Br(u,e,f,r)}else{for(i=0;i<a;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=a;i<s;i++)t[i]=r}}function Gu(t,e){var n=bc(t,!0),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new gt(0,r,"!=");e=Hr(e,r);var i=Ju(e);if(r!==i)throw new gt(i,r,"!=");try{return xc(n,e)}catch(u){throw u instanceof gt?new gt(i,r,"!="):u}}function Hr(t,e){var n=Ju(t),r=t.slice(),i=-1,u=t.indexOf(i),o=t.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,a=e%n===0;if(s)if(a)r[u]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return r}function Ju(t){return t.reduce((e,n)=>e*n,1)}function xc(t,e){for(var n=t,r,i=e.length-1;i>0;i--){var u=e[i];r=[];for(var o=n.length/u,s=0;s<o;s++)r.push(n.slice(s*u,(s+1)*u));n=r}return n}function Ku(t,e,n,r){var i=r||Zt(t);if(n)for(var u=0;u<n;u++)t=[t],i.unshift(1);for(t=Qu(t,e,0);i.length<e;)i.push(1);return t}function Qu(t,e,n){var r,i;if(Array.isArray(t)){var u=n+1;for(r=0,i=t.length;r<i;r++)t[r]=Qu(t[r],e,u)}else for(var o=n;o<e;o++)t=[t];return t}function bc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var n=[];return e?i(t):r(t),n;function r(u){for(var o=0;o<u.length;o++){var s=u[o];Array.isArray(s)?r(s):n.push(s)}}function i(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)i(u[o]);else for(var s=0;s<u.length;s++)n.push(u[s])}}function Wr(t,e){for(var n,r=0,i=0;i<t.length;i++){var u=t[i],o=Array.isArray(u);if(i===0&&o&&(r=u.length),o&&u.length!==r)return;var s=o?Wr(u,e):e(u);if(n===void 0)n=s;else if(n!==s)return"mixed"}return n}function to(t,e,n,r){if(r<n){if(t.length!==e.length)throw new gt(t.length,e.length);for(var i=[],u=0;u<t.length;u++)i[u]=to(t[u],e[u],n,r+1);return i}else return t.concat(e)}function Bc(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(n,r){return to(n,r,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Mc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.map(d=>d.length),i=Math.max(...r),u=new Array(i).fill(null),o=0;o<e.length;o++)for(var s=e[o],a=r[o],f=0;f<a;f++){var c=i-a+f;s[f]>u[c]&&(u[c]=s[f])}for(var l=0;l<e.length;l++)eo(e[l],u);return u}function eo(t,e){for(var n=e.length,r=t.length,i=0;i<r;i++){var u=n-r+i;if(t[i]<e[u]&&t[i]>1||t[i]>e[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(r," with size ").concat(t[i]," to size ").concat(e[u]))}}function Pi(t,e){var n=Zt(t);if(He(n,e))return t;eo(n,e);var r=Mc(n,e),i=r.length,u=[...Array(i-n.length).fill(1),...n],o=Sc(t);n.length<i&&(o=Gu(o,u),n=Zt(o));for(var s=0;s<i;s++)n[s]<r[s]&&(o=Nc(o,r[s],s),n=Zt(o));return o}function Nc(t,e,n){return Bc(...Array(e).fill(t),n)}function no(t,e){if(!Array.isArray(t))throw new Error("Array expected");var n=Zt(t);if(e.length!==n.length)throw new gt(e.length,n.length);for(var r=0;r<e.length;r++)wt(e[r],n[r]);return e.reduce((i,u)=>i[u],t)}function $i(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(n)return u(t);var r=[];return i(t,0);function i(o,s){if(Array.isArray(o)){for(var a=o.length,f=Array(a),c=0;c<a;c++)r[s]=c,f[c]=i(o[c],s+1);return f}else return e(o,r.slice(0,s),t)}function u(o){if(Array.isArray(o)){for(var s=o.length,a=Array(s),f=0;f<s;f++)a[f]=u(o[f]);return a}else return e(o)}}function Sc(t){return Au([],t)}function qn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(On.isTypedFunction(t)){var i;if(r)i=1;else{var u=(e.isMatrix?e.size():Zt(e)).map(()=>0),o=e.isMatrix?e.get(u):no(e,u);i=Pc(t,o,u,e)}var s;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var a=Tc(t,i);s=a!==void 0?a:t}else s=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return Oi(s,l.slice(0,i),n,t.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return Oi(s,l,n,t.name)}}}return r===void 0?{isUnary:Ic(t),fn:t}:{isUnary:r,fn:t}}function Tc(t,e){var n=[];if(Object.entries(t.signatures).forEach(r=>{var[i,u]=r;i.split(",").length===e&&n.push(u)}),n.length===1)return n[0]}function Ic(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var n=e.match(/\(.*?\)/);return!/\.\.\./.test(n)}function Pc(t,e,n,r){for(var i=[e,n,r],u=3;u>0;u--){var o=i.slice(0,u);if(On.resolve(t,o)!==null)return u}}function Oi(t,e,n,r){try{return t(...e)}catch(i){$c(i,e,n,r)}}function $c(t,e,n,r){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(Ee(e[0]))),e.length>=2&&u.push("index: ".concat(Ee(e[1]))),e.length>=3&&u.push("array: ".concat(Ee(e[2]))),new TypeError("Function ".concat(n," cannot apply callback arguments ")+"".concat(r,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(n," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(t.message))}var Oc="DenseMatrix",zc=["Matrix"],Rc=rt(Oc,zc,t=>{var{Matrix:e}=t;function n(c,l){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(l&&!se(l))throw new Error("Invalid datatype: "+l);if(At(c))c.type==="DenseMatrix"?(this._data=Et(c._data),this._size=Et(c._size),this._datatype=l||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=l||c._datatype);else if(c&&Mt(c.data)&&Mt(c.size))this._data=c.data,this._size=c.size,Ii(this._data,this._size),this._datatype=l||c.datatype;else if(Mt(c))this._data=f(c),this._size=Zt(this._data),Ii(this._data,this._size),this._datatype=l;else{if(c)throw new TypeError("Unsupported type of data ("+Ee(c)+")");this._data=[],this._size=[0],this._datatype=l}}n.prototype=new e,n.prototype.createDenseMatrix=function(c,l){return new n(c,l)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Wr(this._data,Ee)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,l){return new n(c,l)},n.prototype.subset=function(c,l,d){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return u(this,c,l,d);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(c){return no(this._data,c)},n.prototype.set=function(c,l,d){if(!Mt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new gt(c.length,this._size.length,"<");var p,y,h,D=c.map(function(A){return A+1});a(this,D,d);var F=this._data;for(p=0,y=c.length-1;p<y;p++)h=c[p],wt(h,F.length),F=F[h];return h=c[c.length-1],wt(h,F.length),F[h]=l,this};function r(c,l){if(!jr(l))throw new TypeError("Invalid index");var d=l.isScalar();if(d)return c.get(l.min());var p=l.size();if(p.length!==c._size.length)throw new gt(p.length,c._size.length);for(var y=l.min(),h=l.max(),D=0,F=c._size.length;D<F;D++)wt(y[D],c._size[D]),wt(h[D],c._size[D]);var A=new n([]),w=i(c._data,l);return A._size=w.size,A._datatype=c._datatype,A._data=w.data,A}function i(c,l){var d=l.size().length-1,p=Array(d);return{data:y(c),size:p};function y(h){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=l.dimension(D);return p[D]=F.size()[0],D<d?F.map(A=>(wt(A,h.length),y(h[A],D+1))).valueOf():F.map(A=>(wt(A,h.length),h[A])).valueOf()}}function u(c,l,d,p){if(!l||l.isIndex!==!0)throw new TypeError("Invalid index");var y=l.size(),h=l.isScalar(),D;if(At(d)?(D=d.size(),d=d.valueOf()):D=Zt(d),h){if(D.length!==0)throw new TypeError("Scalar expected");c.set(l.min(),d,p)}else{if(!He(D,y))try{D.length===0?d=Pi([d],y):d=Pi(d,y),D=Zt(d)}catch{}if(y.length<c._size.length)throw new gt(y.length,c._size.length,"<");if(D.length<y.length){for(var F=0,A=0;y[F]===1&&D[F]===1;)F++;for(;y[F]===1;)A++,F++;d=Ku(d,y.length,A,D)}if(!He(y,D))throw new gt(y,D,">");var w=l.max().map(function(_){return _+1});a(c,w,p),o(c._data,l,d)}return c}function o(c,l,d){var p=l.size().length-1;y(c,d);function y(h,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,A=l.dimension(F);F<p?A.forEach((w,_)=>{wt(w,h.length),y(h[w],D[_[0]],F+1)}):A.forEach((w,_)=>{wt(w,h.length),h[w]=D[_[0]]})}}n.prototype.resize=function(c,l,d){if(!Pn(c))throw new TypeError("Array or Matrix expected");var p=c.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),y=d?this.clone():this;return s(y,p,l)};function s(c,l,d){if(l.length===0){for(var p=c._data;Mt(p);)p=p[0];return p}return c._size=l.slice(0),c._data=br(c._data,c._size,d),c}n.prototype.reshape=function(c,l){var d=l?this.clone():this;d._data=Gu(d._data,c);var p=d._size.reduce((y,h)=>y*h);return d._size=Hr(c,p),d};function a(c,l,d){for(var p=c._size.slice(0),y=!1;p.length<l.length;)p.push(0),y=!0;for(var h=0,D=l.length;h<D;h++)l[h]>p[h]&&(p[h]=l[h],y=!0);y&&s(c,p,d)}n.prototype.clone=function(){var c=new n({data:Et(this._data),size:Et(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,p=d._size.length-1;if(p<0)return d.clone();var y=qn(c,d,"map",l),h=y.fn,D=d.create(void 0,d._datatype);if(D._size=d._size,l||y.isUnary)return D._data=m(d._data),D;if(p===0){for(var F=d.valueOf(),A=Array(F.length),w=0;w<F.length;w++)A[w]=h(F[w],[w],d);return D._data=A,D}var _=[];return D._data=g(d._data),D;function g(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=Array(E.length);if(x<p)for(var T=0;T<E.length;T++)_[x]=T,b[T]=g(E[T],x+1);else for(var B=0;B<E.length;B++)_[x]=B,b[B]=h(E[B],_.slice(),d);return b}function m(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=Array(E.length);if(x<p)for(var T=0;T<E.length;T++)b[T]=m(E[T],x+1);else for(var B=0;B<E.length;B++)b[B]=h(E[B]);return b}},n.prototype.forEach=function(c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,p=d._size.length-1;if(p<0)return;var y=qn(c,d,"map",l),h=y.fn;if(l||y.isUnary){w(d._data);return}if(p===0){for(var D=0;D<d._data.length;D++)h(d._data[D],[D],d);return}var F=[];A(d._data);function A(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(g<p)for(var m=0;m<_.length;m++)F[g]=m,A(_[m],g+1);else for(var E=0;E<_.length;E++)F[g]=E,h(_[E],F.slice(),d)}function w(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(g<p)for(var m=0;m<_.length;m++)w(_[m],g+1);else for(var E=0;E<_.length;E++)h(_[E])}},n.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var l=0;l<this._data.length;l++)yield{value:this._data[l],index:[l]};return}var d=[],p=function*(h,D){if(D<c)for(var F=0;F<h.length;F++)d[D]=F,yield*p(h[F],D+1);else for(var A=0;A<h.length;A++)d[D]=A,yield{value:h[A],index:d.slice()}};yield*p(this._data,0)}},n.prototype.rows=function(){var c=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var p of d)c.push(new n([p],this._datatype));return c},n.prototype.columns=function(){var c=this,l=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,y=function(F){var A=p.map(w=>[w[F]]);l.push(new n(A,c._datatype))},h=0;h<d[1];h++)y(h);return l},n.prototype.toArray=function(){return Et(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(c){return xt(this._data,c)},n.prototype.toString=function(){return xt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(bt(c)&&(c=c.toNumber()),!Dt(c)||!St(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var l=c>0?c:0,d=c<0?-c:0,p=this._size[0],y=this._size[1],h=Math.min(p-d,y-l),D=[],F=0;F<h;F++)D[F]=this._data[F+d][F+l];return new n({data:D,size:[h],datatype:this._datatype})},n.diagonal=function(c,l,d,p){if(!Mt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(E){if(bt(E)&&(E=E.toNumber()),!Dt(E)||!St(E)||E<1)throw new Error("Size values must be positive integers");return E}),d){if(bt(d)&&(d=d.toNumber()),!Dt(d)||!St(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var y=d>0?d:0,h=d<0?-d:0,D=c[0],F=c[1],A=Math.min(D-h,F-y),w;if(Mt(l)){if(l.length!==A)throw new Error("Invalid value array length");w=function(x){return l[x]}}else if(At(l)){var _=l.size();if(_.length!==1||_[0]!==A)throw new Error("Invalid matrix length");w=function(x){return l.get([x])}}else w=function(){return l};p||(p=bt(w(0))?w(0).mul(0):0);var g=[];if(c.length>0){g=br(g,c,p);for(var m=0;m<A;m++)g[m+h][m+y]=w(m)}return new n({data:g,size:[D,F]})},n.fromJSON=function(c){return new n(c)},n.prototype.swapRows=function(c,l){if(!Dt(c)||!St(c)||!Dt(l)||!St(l))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return wt(c,this._size[0]),wt(l,this._size[0]),n._swapRows(c,l,this._data),this},n._swapRows=function(c,l,d){var p=d[c];d[c]=d[l],d[l]=p};function f(c){return At(c)?f(c.valueOf()):Mt(c)?c.map(f):c}return n},{isClass:!0});function Ie(t,e,n){if(!n)return At(t)?t.map(i=>e(i),!1,!0):$i(t,e,!0);var r=i=>i===0?i:e(i);return At(t)?t.map(i=>r(i),!1,!0):$i(t,r,!0)}var ro="number",Xr="number, number";function io(t){return Math.abs(t)}io.signature=ro;function uo(t,e){return t+e}uo.signature=Xr;function oo(t,e){return t-e}oo.signature=Xr;function so(t,e){return t*e}so.signature=Xr;function ao(t){return-t}ao.signature=ro;function kc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(n),r))}var zi="isZero",Lc=["typed","equalScalar"],qc=rt(zi,Lc,t=>{var{typed:e,equalScalar:n}=t;return e(zi,{"number | BigNumber | Complex | Fraction":r=>n(r,0),bigint:r=>r===0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Ie(i,r))})});function jc(t,e,n,r){return zn(t.re,e.re,n,r)&&zn(t.im,e.im,n,r)}var Uc=rt("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),jn="equalScalar",Vc=["typed","config"],Zc=rt(jn,Vc,t=>{var{typed:e,config:n}=t,r=Uc({typed:e});return e(jn,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return zn(u,o,n.relTol,n.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||kc(u,o,n.relTol,n.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return jc(u,o,n.relTol,n.absTol)}},r)});rt(jn,["typed","config"],t=>{var{typed:e,config:n}=t;return e(jn,{"number, number":function(i,u){return zn(i,u,n.relTol,n.absTol)}})});var Hc="SparseMatrix",Wc=["typed","equalScalar","Matrix"],Xc=rt(Hc,Wc,t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(h,D){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!se(D))throw new Error("Invalid datatype: "+D);if(At(h))u(this,h,D);else if(h&&Mt(h.index)&&Mt(h.ptr)&&Mt(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=D||h.datatype;else if(Mt(h))o(this,h,D);else{if(h)throw new TypeError("Unsupported type of data ("+Ee(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function u(h,D,F){D.type==="SparseMatrix"?(h._values=D._values?Et(D._values):void 0,h._index=Et(D._index),h._ptr=Et(D._ptr),h._size=Et(D._size),h._datatype=F||D._datatype):o(h,D.valueOf(),F||D._datatype)}function o(h,D,F){h._values=[],h._index=[],h._ptr=[],h._datatype=F;var A=D.length,w=0,_=n,g=0;if(se(F)&&(_=e.find(n,[F,F])||n,g=e.convert(0,F)),A>0){var m=0;do{h._ptr.push(h._index.length);for(var E=0;E<A;E++){var x=D[E];if(Mt(x)){if(m===0&&w<x.length&&(w=x.length),m<x.length){var b=x[m];_(b,g)||(h._values.push(b),h._index.push(E))}}else m===0&&w<1&&(w=1),_(x,g)||(h._values.push(x),h._index.push(E))}m++}while(m<w)}h._ptr.push(h._index.length),h._size=[A,w]}i.prototype=new r,i.prototype.createSparseMatrix=function(h,D){return new i(h,D)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Wr(this._values,Ee)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,D){return new i(h,D)},i.prototype.density=function(){var h=this._size[0],D=this._size[1];return h!==0&&D!==0?this._index.length/(h*D):0},i.prototype.subset=function(h,D,F){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,h);case 2:case 3:return a(this,h,D,F);default:throw new SyntaxError("Wrong number of arguments")}};function s(h,D){if(!jr(D))throw new TypeError("Invalid index");var F=D.isScalar();if(F)return h.get(D.min());var A=D.size();if(A.length!==h._size.length)throw new gt(A.length,h._size.length);var w,_,g,m,E=D.min(),x=D.max();for(w=0,_=h._size.length;w<_;w++)wt(E[w],h._size[w]),wt(x[w],h._size[w]);var b=h._values,T=h._index,B=h._ptr,z=D.dimension(0),j=D.dimension(1),H=[],Z=[];z.forEach(function(W,et){Z[W]=et[0],H[W]=!0});var R=b?[]:void 0,X=[],Y=[];return j.forEach(function(W){for(Y.push(X.length),g=B[W],m=B[W+1];g<m;g++)w=T[g],H[w]===!0&&(X.push(Z[w]),R&&R.push(b[g]))}),Y.push(X.length),new i({values:R,index:X,ptr:Y,size:A,datatype:h._datatype})}function a(h,D,F,A){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var w=D.size(),_=D.isScalar(),g;if(At(F)?(g=F.size(),F=F.toArray()):g=Zt(F),_){if(g.length!==0)throw new TypeError("Scalar expected");h.set(D.min(),F,A)}else{if(w.length!==1&&w.length!==2)throw new gt(w.length,h._size.length,"<");if(g.length<w.length){for(var m=0,E=0;w[m]===1&&g[m]===1;)m++;for(;w[m]===1;)E++,m++;F=Ku(F,w.length,E,g)}if(!He(w,g))throw new gt(w,g,">");if(w.length===1){var x=D.dimension(0);x.forEach(function(B,z){wt(B),h.set([B,0],F[z[0]],A)})}else{var b=D.dimension(0),T=D.dimension(1);b.forEach(function(B,z){wt(B),T.forEach(function(j,H){wt(j),h.set([B,j],F[z[0]][H[0]],A)})})}}return h}i.prototype.get=function(h){if(!Mt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new gt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=h[0],F=h[1];wt(D,this._size[0]),wt(F,this._size[1]);var A=f(D,this._ptr[F],this._ptr[F+1],this._index);return A<this._ptr[F+1]&&this._index[A]===D?this._values[A]:0},i.prototype.set=function(h,D,F){if(!Mt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new gt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=h[0],w=h[1],_=this._size[0],g=this._size[1],m=n,E=0;se(this._datatype)&&(m=e.find(n,[this._datatype,this._datatype])||n,E=e.convert(0,this._datatype)),(A>_-1||w>g-1)&&(d(this,Math.max(A+1,_),Math.max(w+1,g),F),_=this._size[0],g=this._size[1]),wt(A,_),wt(w,g);var x=f(A,this._ptr[w],this._ptr[w+1],this._index);return x<this._ptr[w+1]&&this._index[x]===A?m(D,E)?c(x,w,this._values,this._index,this._ptr):this._values[x]=D:m(D,E)||l(x,A,w,D,this._values,this._index,this._ptr),this};function f(h,D,F,A){if(F-D===0)return F;for(var w=D;w<F;w++)if(A[w]===h)return w;return D}function c(h,D,F,A,w){F.splice(h,1),A.splice(h,1);for(var _=D+1;_<w.length;_++)w[_]--}function l(h,D,F,A,w,_,g){w.splice(h,0,A),_.splice(h,0,D);for(var m=F+1;m<g.length;m++)g[m]++}i.prototype.resize=function(h,D,F){if(!Pn(h))throw new TypeError("Array or Matrix expected");var A=h.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(_){if(!Dt(_)||!St(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(A)+")")});var w=F?this.clone():this;return d(w,A[0],A[1],D)};function d(h,D,F,A){var w=A||0,_=n,g=0;se(h._datatype)&&(_=e.find(n,[h._datatype,h._datatype])||n,g=e.convert(0,h._datatype),w=e.convert(w,h._datatype));var m=!_(w,g),E=h._size[0],x=h._size[1],b,T,B;if(F>x){for(T=x;T<F;T++)if(h._ptr[T]=h._values.length,m)for(b=0;b<E;b++)h._values.push(w),h._index.push(b);h._ptr[F]=h._values.length}else F<x&&(h._ptr.splice(F+1,x-F),h._values.splice(h._ptr[F],h._values.length),h._index.splice(h._ptr[F],h._index.length));if(x=F,D>E){if(m){var z=0;for(T=0;T<x;T++){h._ptr[T]=h._ptr[T]+z,B=h._ptr[T+1]+z;var j=0;for(b=E;b<D;b++,j++)h._values.splice(B+j,0,w),h._index.splice(B+j,0,b),z++}h._ptr[x]=h._values.length}}else if(D<E){var H=0;for(T=0;T<x;T++){h._ptr[T]=h._ptr[T]-H;var Z=h._ptr[T],R=h._ptr[T+1]-H;for(B=Z;B<R;B++)b=h._index[B],b>D-1&&(h._values.splice(B,1),h._index.splice(B,1),H++)}h._ptr[T]=h._values.length}return h._size[0]=D,h._size[1]=F,h}i.prototype.reshape=function(h,D){if(!Mt(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(W){if(!Dt(W)||!St(W)||W<=-2||W===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xt(h)+")")});var F=this._size[0]*this._size[1];h=Hr(h,F);var A=h[0]*h[1];if(F!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=D?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var _=[],g=0;g<w._ptr.length;g++)for(var m=0;m<w._ptr[g+1]-w._ptr[g];m++)_.push(g);for(var E=w._values.slice(),x=w._index.slice(),b=0;b<w._index.length;b++){var T=x[b],B=_[b],z=T*w._size[1]+B;_[b]=z%h[1],x[b]=Math.floor(z/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var j=0;j<w._ptr.length;j++)w._ptr[j]=0;for(var H=0;H<E.length;H++){var Z=x[H],R=_[H],X=E[H],Y=f(Z,w._ptr[R],w._ptr[R+1],w._index);l(Y,Z,R,X,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var h=new i({values:this._values?Et(this._values):void 0,index:Et(this._index),ptr:Et(this._ptr),size:Et(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var F=this,A=this._size[0],w=this._size[1],_=qn(h,F,"map"),g=function(E,x,b){return _.fn(E,[x,b],F)};return p(this,0,A-1,0,w-1,g,D)};function p(h,D,F,A,w,_,g){var m=[],E=[],x=[],b=n,T=0;se(h._datatype)&&(b=e.find(n,[h._datatype,h._datatype])||n,T=e.convert(0,h._datatype));for(var B=function(ft,Ct,yt){var vt=_(ft,Ct,yt);b(vt,T)||(m.push(vt),E.push(Ct))},z=A;z<=w;z++){x.push(m.length);var j=h._ptr[z],H=h._ptr[z+1];if(g)for(var Z=j;Z<H;Z++){var R=h._index[Z];R>=D&&R<=F&&B(h._values[Z],R-D,z-A)}else{for(var X={},Y=j;Y<H;Y++){var W=h._index[Y];X[W]=h._values[Y]}for(var et=D;et<=F;et++){var ot=et in X?X[et]:0;B(ot,et-D,z-A)}}}return x.push(m.length),new i({values:m,index:E,ptr:x,size:[F-D+1,w-A+1]})}i.prototype.forEach=function(h,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var F=this,A=this._size[0],w=this._size[1],_=qn(h,F,"forEach"),g=0;g<w;g++){var m=this._ptr[g],E=this._ptr[g+1];if(D)for(var x=m;x<E;x++){var b=this._index[x];_.fn(this._values[x],[b,g],F)}else{for(var T={},B=m;B<E;B++){var z=this._index[B];T[z]=this._values[B]}for(var j=0;j<A;j++){var H=j in T?T[j]:0;_.fn(H,[j,g],F)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],D=0;D<h;D++)for(var F=this._ptr[D],A=this._ptr[D+1],w=F;w<A;w++){var _=this._index[w];yield{value:this._values[w],index:[_,D]}}},i.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(h,D,F,A,w){var _=A[0],g=A[1],m=[],E,x;for(E=0;E<_;E++)for(m[E]=[],x=0;x<g;x++)m[E][x]=0;for(x=0;x<g;x++)for(var b=F[x],T=F[x+1],B=b;B<T;B++)E=D[B],m[E][x]=h?w?Et(h[B]):h[B]:1;return m}return i.prototype.format=function(h){for(var D=this._size[0],F=this._size[1],A=this.density(),w="Sparse Matrix ["+xt(D,h)+" x "+xt(F,h)+"] density: "+xt(A,h)+`
`,_=0;_<F;_++)for(var g=this._ptr[_],m=this._ptr[_+1],E=g;E<m;E++){var x=this._index[E];w+=`
    (`+xt(x,h)+", "+xt(_,h)+") ==> "+(this._values?xt(this._values[E],h):"X")}return w},i.prototype.toString=function(){return xt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(bt(h)&&(h=h.toNumber()),!Dt(h)||!St(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var D=h>0?h:0,F=h<0?-h:0,A=this._size[0],w=this._size[1],_=Math.min(A-F,w-D),g=[],m=[],E=[];E[0]=0;for(var x=D;x<w&&g.length<_;x++)for(var b=this._ptr[x],T=this._ptr[x+1],B=b;B<T;B++){var z=this._index[B];if(z===x-D+F){g.push(this._values[B]),m[g.length-1]=z-F;break}}return E.push(g.length),new i({values:g,index:m,ptr:E,size:[_,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,D,F,A,w){if(!Mt(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(W){if(bt(W)&&(W=W.toNumber()),!Dt(W)||!St(W)||W<1)throw new Error("Size values must be positive integers");return W}),F){if(bt(F)&&(F=F.toNumber()),!Dt(F)||!St(F))throw new TypeError("The parameter k must be an integer number")}else F=0;var _=n,g=0;se(w)&&(_=e.find(n,[w,w])||n,g=e.convert(0,w));var m=F>0?F:0,E=F<0?-F:0,x=h[0],b=h[1],T=Math.min(x-E,b-m),B;if(Mt(D)){if(D.length!==T)throw new Error("Invalid value array length");B=function(et){return D[et]}}else if(At(D)){var z=D.size();if(z.length!==1||z[0]!==T)throw new Error("Invalid matrix length");B=function(et){return D.get([et])}}else B=function(){return D};for(var j=[],H=[],Z=[],R=0;R<b;R++){Z.push(j.length);var X=R-m;if(X>=0&&X<T){var Y=B(X);_(Y,g)||(H.push(X+E),j.push(Y))}}return Z.push(j.length),new i({values:j,index:H,ptr:Z,size:[x,b]})},i.prototype.swapRows=function(h,D){if(!Dt(h)||!St(h)||!Dt(D)||!St(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return wt(h,this._size[0]),wt(D,this._size[0]),i._swapRows(h,D,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,D,F,A,w){for(var _=A[h],g=A[h+1],m=_;m<g;m++)w(F[m],D[m])},i._swapRows=function(h,D,F,A,w,_){for(var g=0;g<F;g++){var m=_[g],E=_[g+1],x=f(h,m,E,w),b=f(D,m,E,w);if(x<E&&b<E&&w[x]===h&&w[b]===D){if(A){var T=A[x];A[x]=A[b],A[b]=T}continue}if(x<E&&w[x]===h&&(b>=E||w[b]!==D)){var B=A?A[x]:void 0;w.splice(b,0,D),A&&A.splice(b,0,B),w.splice(b<=x?x+1:x,1),A&&A.splice(b<=x?x+1:x,1);continue}if(b<E&&w[b]===D&&(x>=E||w[x]!==h)){var z=A?A[b]:void 0;w.splice(x,0,h),A&&A.splice(x,0,z),w.splice(x<=b?b+1:b,1),A&&A.splice(x<=b?b+1:b,1)}}},i},{isClass:!0}),Yc="number",Gc=["typed"];function Jc(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:t,radix:n,integerPart:r,fractionalPart:i}}else return null}function Kc(t){for(var e=parseInt(t.integerPart,t.radix),n=0,r=0;r<t.fractionalPart.length;r++){var i=parseInt(t.fractionalPart[r],t.radix);n+=i/Math.pow(t.radix,r+1)}var u=e+n;if(isNaN(u))throw new SyntaxError('String "'+t.input+'" is not a valid number');return u}var Qc=rt(Yc,Gc,t=>{var{typed:e}=t,n=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=Jc(i);if(u)return Kc(u);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var a=Number(i);if(isNaN(a))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(a>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));a>=2**(o-1)&&(a=a-2**o)}return a},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":e.referToSelf(r=>i=>Ie(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),tl="bignumber",el=["typed","BigNumber"],nl=rt(tl,el,t=>{var{typed:e,BigNumber:n}=t;return e("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],s=n(u[1]),a=new n(2).pow(Number(o));if(s.gt(a.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var f=new n(2).pow(Number(o)-1);return s.gte(f)?s.sub(a):s}return new n(i)},BigNumber:function(i){return i},bigint:function(i){return new n(i.toString())},Unit:e.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Fraction:function(i){return new n(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new n(0)},"Array | Matrix":e.referToSelf(r=>i=>Ie(i,r))})}),rl="fraction",il=["typed","Fraction"],ul=rt(rl,il,t=>{var{typed:e,Fraction:n}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,u){return new n(i,u)},"bigint, bigint":function(i,u){return new n(i,u)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},bigint:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Object:function(i){return new n(i)},"Array | Matrix":e.referToSelf(r=>i=>Ie(i,r))})}),Ri="matrix",ol=["typed","Matrix","DenseMatrix","SparseMatrix"],sl=rt(Ri,ol,t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(Ri,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,a){return u([],s,a)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,a){if(s==="dense"||s==="default"||s===void 0)return new r(o,a);if(s==="sparse")return new i(o,a);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),ki="unaryMinus",al=["typed"],fl=rt(ki,al,t=>{var{typed:e}=t;return e(ki,{number:ao,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:e.referToSelf(n=>r=>{var i=r.clone();return i.value=e.find(n,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(n=>r=>Ie(r,n,!0))})}),Li="abs",cl=["typed"],ll=rt(Li,cl,t=>{var{typed:e}=t;return e(Li,{number:io,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":e.referToSelf(n=>r=>Ie(r,n,!0))})}),qi="addScalar",hl=["typed"],dl=rt(qi,hl,t=>{var{typed:e}=t;return e(qi,{"number, number":uo,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=e.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),ji="subtractScalar",pl=["typed"],Dl=rt(ji,pl,t=>{var{typed:e}=t;return e(ji,{"number, number":oo,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=e.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),ml="matAlgo11xS0s",gl=["typed","equalScalar"],vl=rt(ml,gl,t=>{var{typed:e,equalScalar:n}=t;return function(i,u,o,s){var a=i._values,f=i._index,c=i._ptr,l=i._size,d=i._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=l[0],y=l[1],h,D=n,F=0,A=o;typeof d=="string"&&(h=d,D=e.find(n,[h,h]),F=e.convert(0,h),u=e.convert(u,h),A=e.find(o,[h,h]));for(var w=[],_=[],g=[],m=0;m<y;m++){g[m]=_.length;for(var E=c[m],x=c[m+1],b=E;b<x;b++){var T=f[b],B=s?A(u,a[b]):A(a[b],u);D(B,F)||(_.push(T),w.push(B))}}return g[y]=_.length,i.createSparseMatrix({values:w,index:_,ptr:g,size:[p,y],datatype:h})}}),wl="matAlgo14xDs",yl=["typed"],Fl=rt(wl,yl,t=>{var{typed:e}=t;return function(i,u,o,s){var a=i._data,f=i._size,c=i._datatype,l,d=o;typeof c=="string"&&(l=c,u=e.convert(u,l),d=e.find(o,[l,l]));var p=f.length>0?n(d,0,f,f[0],a,u,s):[];return i.createDenseMatrix({data:p,size:Et(f),datatype:l})};function n(r,i,u,o,s,a,f){var c=[];if(i===u.length-1)for(var l=0;l<o;l++)c[l]=f?r(a,s[l]):r(s[l],a);else for(var d=0;d<o;d++)c[d]=n(r,i+1,u,u[i+1],s[d],a,f);return c}}),El="multiplyScalar",Al=["typed"],Cl=rt(El,Al,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":so,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),Ui="multiply",_l=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],xl=rt(Ui,_l,t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:u,dot:o}=t,s=vl({typed:e,equalScalar:u}),a=Fl({typed:e});function f(g,m){switch(g.length){case 1:switch(m.length){case 1:if(g[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(g[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+g[0]+") must match Matrix rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;case 2:switch(m.length){case 1:if(g[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+g[1]+") must match Vector length ("+m[0]+")");break;case 2:if(g[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+g[1]+") must match Matrix B rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+g.length+" dimensions)")}}function c(g,m,E){if(E===0)throw new Error("Cannot multiply two empty vectors");return o(g,m)}function l(g,m){if(m.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(g,m)}function d(g,m){var E=g._data,x=g._size,b=g._datatype||g.getDataType(),T=m._data,B=m._size,z=m._datatype||m.getDataType(),j=x[0],H=B[1],Z,R=r,X=i;b&&z&&b===z&&typeof b=="string"&&b!=="mixed"&&(Z=b,R=e.find(r,[Z,Z]),X=e.find(i,[Z,Z]));for(var Y=[],W=0;W<H;W++){for(var et=X(E[0],T[0][W]),ot=1;ot<j;ot++)et=R(et,X(E[ot],T[ot][W]));Y[W]=et}return g.createDenseMatrix({data:Y,size:[H],datatype:b===g._datatype&&z===m._datatype?Z:void 0})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":A}),y=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":F,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":_});function h(g,m){var E=g._data,x=g._size,b=g._datatype||g.getDataType(),T=m._data,B=m._datatype||m.getDataType(),z=x[0],j=x[1],H,Z=r,R=i;b&&B&&b===B&&typeof b=="string"&&b!=="mixed"&&(H=b,Z=e.find(r,[H,H]),R=e.find(i,[H,H]));for(var X=[],Y=0;Y<z;Y++){for(var W=E[Y],et=R(W[0],T[0]),ot=1;ot<j;ot++)et=Z(et,R(W[ot],T[ot]));X[Y]=et}return g.createDenseMatrix({data:X,size:[z],datatype:b===g._datatype&&B===m._datatype?H:void 0})}function D(g,m){var E=g._data,x=g._size,b=g._datatype||g.getDataType(),T=m._data,B=m._size,z=m._datatype||m.getDataType(),j=x[0],H=x[1],Z=B[1],R,X=r,Y=i;b&&z&&b===z&&typeof b=="string"&&b!=="mixed"&&b!=="mixed"&&(R=b,X=e.find(r,[R,R]),Y=e.find(i,[R,R]));for(var W=[],et=0;et<j;et++){var ot=E[et];W[et]=[];for(var it=0;it<Z;it++){for(var ft=Y(ot[0],T[0][it]),Ct=1;Ct<H;Ct++)ft=X(ft,Y(ot[Ct],T[Ct][it]));W[et][it]=ft}}return g.createDenseMatrix({data:W,size:[j,Z],datatype:b===g._datatype&&z===m._datatype?R:void 0})}function F(g,m){var E=g._data,x=g._size,b=g._datatype||g.getDataType(),T=m._values,B=m._index,z=m._ptr,j=m._size,H=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var Z=x[0],R=j[1],X,Y=r,W=i,et=u,ot=0;b&&H&&b===H&&typeof b=="string"&&b!=="mixed"&&(X=b,Y=e.find(r,[X,X]),W=e.find(i,[X,X]),et=e.find(u,[X,X]),ot=e.convert(0,X));for(var it=[],ft=[],Ct=[],yt=m.createSparseMatrix({values:it,index:ft,ptr:Ct,size:[Z,R],datatype:b===g._datatype&&H===m._datatype?X:void 0}),vt=0;vt<R;vt++){Ct[vt]=ft.length;var pt=z[vt],kt=z[vt+1];if(kt>pt)for(var ct=0,st=0;st<Z;st++){for(var Yt=st+1,Pt=void 0,lt=pt;lt<kt;lt++){var Tt=B[lt];ct!==Yt?(Pt=W(E[st][Tt],T[lt]),ct=Yt):Pt=Y(Pt,W(E[st][Tt],T[lt]))}ct===Yt&&!et(Pt,ot)&&(ft.push(st),it.push(Pt))}}return Ct[R]=ft.length,yt}function A(g,m){var E=g._values,x=g._index,b=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!E)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=m._data,z=m._datatype||m.getDataType(),j=g._size[0],H=m._size[0],Z=[],R=[],X=[],Y,W=r,et=i,ot=u,it=0;T&&z&&T===z&&typeof T=="string"&&T!=="mixed"&&(Y=T,W=e.find(r,[Y,Y]),et=e.find(i,[Y,Y]),ot=e.find(u,[Y,Y]),it=e.convert(0,Y));var ft=[],Ct=[];X[0]=0;for(var yt=0;yt<H;yt++){var vt=B[yt];if(!ot(vt,it))for(var pt=b[yt],kt=b[yt+1],ct=pt;ct<kt;ct++){var st=x[ct];Ct[st]?ft[st]=W(ft[st],et(vt,E[ct])):(Ct[st]=!0,R.push(st),ft[st]=et(vt,E[ct]))}}for(var Yt=R.length,Pt=0;Pt<Yt;Pt++){var lt=R[Pt];Z[Pt]=ft[lt]}return X[1]=R.length,g.createSparseMatrix({values:Z,index:R,ptr:X,size:[j,1],datatype:T===g._datatype&&z===m._datatype?Y:void 0})}function w(g,m){var E=g._values,x=g._index,b=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!E)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=m._data,z=m._datatype||m.getDataType(),j=g._size[0],H=m._size[0],Z=m._size[1],R,X=r,Y=i,W=u,et=0;T&&z&&T===z&&typeof T=="string"&&T!=="mixed"&&(R=T,X=e.find(r,[R,R]),Y=e.find(i,[R,R]),W=e.find(u,[R,R]),et=e.convert(0,R));for(var ot=[],it=[],ft=[],Ct=g.createSparseMatrix({values:ot,index:it,ptr:ft,size:[j,Z],datatype:T===g._datatype&&z===m._datatype?R:void 0}),yt=[],vt=[],pt=0;pt<Z;pt++){ft[pt]=it.length;for(var kt=pt+1,ct=0;ct<H;ct++){var st=B[ct][pt];if(!W(st,et))for(var Yt=b[ct],Pt=b[ct+1],lt=Yt;lt<Pt;lt++){var Tt=x[lt];vt[Tt]!==kt?(vt[Tt]=kt,it.push(Tt),yt[Tt]=Y(st,E[lt])):yt[Tt]=X(yt[Tt],Y(st,E[lt]))}}for(var Gt=ft[pt],he=it.length,de=Gt;de<he;de++){var Pe=it[de];ot[de]=yt[Pe]}}return ft[Z]=it.length,Ct}function _(g,m){var E=g._values,x=g._index,b=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType(),B=m._values,z=m._index,j=m._ptr,H=m._datatype||m._data===void 0?m._datatype:m.getDataType(),Z=g._size[0],R=m._size[1],X=E&&B,Y,W=r,et=i;T&&H&&T===H&&typeof T=="string"&&T!=="mixed"&&(Y=T,W=e.find(r,[Y,Y]),et=e.find(i,[Y,Y]));for(var ot=X?[]:void 0,it=[],ft=[],Ct=g.createSparseMatrix({values:ot,index:it,ptr:ft,size:[Z,R],datatype:T===g._datatype&&H===m._datatype?Y:void 0}),yt=X?[]:void 0,vt=[],pt,kt,ct,st,Yt,Pt,lt,Tt,Gt=0;Gt<R;Gt++){ft[Gt]=it.length;var he=Gt+1;for(Yt=j[Gt],Pt=j[Gt+1],st=Yt;st<Pt;st++)if(Tt=z[st],X)for(kt=b[Tt],ct=b[Tt+1],pt=kt;pt<ct;pt++)lt=x[pt],vt[lt]!==he?(vt[lt]=he,it.push(lt),yt[lt]=et(B[st],E[pt])):yt[lt]=W(yt[lt],et(B[st],E[pt]));else for(kt=b[Tt],ct=b[Tt+1],pt=kt;pt<ct;pt++)lt=x[pt],vt[lt]!==he&&(vt[lt]=he,it.push(lt));if(X)for(var de=ft[Gt],Pe=it.length,$e=de;$e<Pe;$e++){var ar=it[$e];ot[$e]=yt[ar]}}return ft[R]=it.length,Ct}return e(Ui,i,{"Array, Array":e.referTo("Matrix, Matrix",g=>(m,E)=>{f(Zt(m),Zt(E));var x=g(n(m),n(E));return At(x)?x.valueOf():x}),"Matrix, Matrix":function(m,E){var x=m.size(),b=E.size();return f(x,b),x.length===1?b.length===1?c(m,E,x[0]):l(m,E):b.length===1?p(m,E):y(m,E)},"Matrix, Array":e.referTo("Matrix,Matrix",g=>(m,E)=>g(m,n(E))),"Array, Matrix":e.referToSelf(g=>(m,E)=>g(n(m,E.storage()),E)),"SparseMatrix, any":function(m,E){return s(m,E,i,!1)},"DenseMatrix, any":function(m,E){return a(m,E,i,!1)},"any, SparseMatrix":function(m,E){return s(E,m,i,!0)},"any, DenseMatrix":function(m,E){return a(E,m,i,!0)},"Array, any":function(m,E){return a(n(m),E,i,!1).valueOf()},"any, Array":function(m,E){return a(n(E),m,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(g=>(m,E,x)=>{for(var b=g(m,E),T=0;T<x.length;T++)b=g(b,x[T]);return b})})}),Vi="conj",bl=["typed"],Bl=rt(Vi,bl,t=>{var{typed:e}=t;return e(Vi,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),Unit:e.referToSelf(n=>r=>new r.constructor(n(r.toNumeric()),r.formatUnits())),"Array | Matrix":e.referToSelf(n=>r=>Ie(r,n))})}),Zi="identity",Ml=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Nl=rt(Zi,Ml,t=>{var{typed:e,config:n,matrix:r,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=t;return e(Zi,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return a(c,c,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,l){return a(c,c,l)},"number | BigNumber, number | BigNumber":function(c,l){return a(c,l,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,l,d){return a(c,l,d)},Array:function(c){return s(c)},"Array, string":function(c,l){return s(c,l)},Matrix:function(c){return s(c.valueOf(),c.storage())},"Matrix, string":function(c,l){return s(c.valueOf(),l)}});function s(f,c){switch(f.length){case 0:return c?r(c):[];case 1:return a(f[0],f[0],c);case 2:return a(f[0],f[1],c);default:throw new Error("Vector containing two values expected")}}function a(f,c,l){var d=bt(f)||bt(c)?i:null;if(bt(f)&&(f=f.toNumber()),bt(c)&&(c=c.toNumber()),!St(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!St(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var p=d?new i(1):1,y=d?new d(0):0,h=[f,c];if(l){if(l==="sparse")return o.diagonal(h,p,0,y);if(l==="dense")return u.diagonal(h,p,0,y);throw new TypeError('Unknown matrix type "'.concat(l,'"'))}for(var D=br([],h,y),F=f<c?f:c,A=0;A<F;A++)D[A][A]=p;return D}});function Sl(){throw new Error('No "bignumber" implementation available')}function Tl(){throw new Error('No "fraction" implementation available')}function Il(){throw new Error('No "matrix" implementation available')}var Hi="size",Pl=["typed","config","?matrix"],$l=rt(Hi,Pl,t=>{var{typed:e,config:n,matrix:r}=t;return e(Hi,{Matrix:function(u){return u.create(u.size(),"number")},Array:Zt,string:function(u){return n.matrix==="Array"?[u.length]:r([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return n.matrix==="Array"?[]:r?r([],"dense","number"):Il()}})}),Ol="numeric",zl=["number","?bignumber","?fraction"],Rl=rt(Ol,zl,t=>{var{number:e,bignumber:n,fraction:r}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>e(o),BigNumber:n?o=>n(o):Sl,bigint:o=>BigInt(o),Fraction:r?o=>r(o):Tl};return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",f=arguments.length>2?arguments[2]:void 0;if(f!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Ee(s);if(!(c in i))throw new TypeError("Cannot convert "+s+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(a in u))throw new TypeError("Cannot convert "+s+' to type "'+a+'"; valid output types are '+Object.keys(u).join(", "));return a===c?s:u[a](s)}}),Wi="divideScalar",kl=["typed","numeric"],Ll=rt(Wi,kl,t=>{var{typed:e,numeric:n}=t;return e(Wi,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),Xi="dot",ql=["typed","addScalar","multiplyScalar","conj","size"],jl=rt(Xi,ql,t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:u}=t;return e(Xi,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":a});function o(c,l){var d=f(c),p=f(l),y,h;if(d.length===1)y=d[0];else if(d.length===2&&d[1]===1)y=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(y!==h)throw new RangeError("Vectors must have equal length ("+y+" != "+h+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function s(c,l){var d=o(c,l),p=At(c)?c._data:c,y=At(c)?c._datatype||c.getDataType():void 0,h=At(l)?l._data:l,D=At(l)?l._datatype||l.getDataType():void 0,F=f(c).length===2,A=f(l).length===2,w=n,_=r;if(y&&D&&y===D&&typeof y=="string"&&y!=="mixed"){var g=y;w=e.find(n,[g,g]),_=e.find(r,[g,g])}if(!F&&!A){for(var m=_(i(p[0]),h[0]),E=1;E<d;E++)m=w(m,_(i(p[E]),h[E]));return m}if(!F&&A){for(var x=_(i(p[0]),h[0][0]),b=1;b<d;b++)x=w(x,_(i(p[b]),h[b][0]));return x}if(F&&!A){for(var T=_(i(p[0][0]),h[0]),B=1;B<d;B++)T=w(T,_(i(p[B][0]),h[B]));return T}if(F&&A){for(var z=_(i(p[0][0]),h[0][0]),j=1;j<d;j++)z=w(z,_(i(p[j][0]),h[j][0]));return z}}function a(c,l){o(c,l);for(var d=c._index,p=c._values,y=l._index,h=l._values,D=0,F=n,A=r,w=0,_=0;w<d.length&&_<y.length;){var g=d[w],m=y[_];if(g<m){w++;continue}if(g>m){_++;continue}g===m&&(D=F(D,A(p[w],h[_])),w++,_++)}return D}function f(c){return At(c)?c.size():u(c)}}),Yi="det",Ul=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Vl=rt(Yi,Ul,t=>{var{typed:e,matrix:n,subtractScalar:r,multiply:i,divideScalar:u,isZero:o,unaryMinus:s}=t;return e(Yi,{any:function(c){return Et(c)},"Array | Matrix":function(c){var l;switch(At(c)?l=c.size():Array.isArray(c)?(c=n(c),l=c.size()):l=[],l.length){case 0:return Et(c);case 1:if(l[0]===1)return Et(c.valueOf()[0]);if(l[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+xt(l)+")");case 2:{var d=l[0],p=l[1];if(d===p)return a(c.clone().valueOf(),d);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+xt(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(l)+")")}}});function a(f,c,l){if(c===1)return Et(f[0][0]);if(c===2)return r(i(f[0][0],f[1][1]),i(f[1][0],f[0][1]));for(var d=!1,p=new Array(c).fill(0).map((E,x)=>x),y=0;y<c;y++){var h=p[y];if(o(f[h][y])){var D=void 0;for(D=y+1;D<c;D++)if(!o(f[p[D]][y])){h=p[D],p[D]=p[y],p[y]=h,d=!d;break}if(D===c)return f[h][y]}for(var F=f[h][y],A=y===0?1:f[p[y-1]][y-1],w=y+1;w<c;w++)for(var _=p[w],g=y+1;g<c;g++)f[_][g]=u(r(i(f[_][g],F),i(f[_][y],f[h][g])),A)}var m=f[p[c-1]][c-1];return d?s(m):m}}),Gi="inv",Zl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Hl=rt(Gi,Zl,t=>{var{typed:e,matrix:n,divideScalar:r,addScalar:i,multiply:u,unaryMinus:o,det:s,identity:a,abs:f}=t;return e(Gi,{"Array | Matrix":function(d){var p=At(d)?d.size():Zt(d);switch(p.length){case 1:if(p[0]===1)return At(d)?n([r(1,d.valueOf()[0])]):[r(1,d[0])];throw new RangeError("Matrix must be square (size: "+xt(p)+")");case 2:{var y=p[0],h=p[1];if(y===h)return At(d)?n(c(d.valueOf(),y,h),d.storage()):c(d,y,h);throw new RangeError("Matrix must be square (size: "+xt(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(p)+")")}},any:function(d){return r(1,d)}});function c(l,d,p){var y,h,D,F,A;if(d===1){if(F=l[0][0],F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,F)]]}else if(d===2){var w=s(l);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(l[1][1],w),r(o(l[0][1]),w)],[r(o(l[1][0]),w),r(l[0][0],w)]]}else{var _=l.concat();for(y=0;y<d;y++)_[y]=_[y].concat();for(var g=a(d).valueOf(),m=0;m<p;m++){var E=f(_[m][m]),x=m;for(y=m+1;y<d;)f(_[y][m])>E&&(E=f(_[y][m]),x=y),y++;if(E===0)throw Error("Cannot calculate inverse, determinant is zero");y=x,y!==m&&(A=_[m],_[m]=_[y],_[y]=A,A=g[m],g[m]=g[y],g[y]=A);var b=_[m],T=g[m];for(y=0;y<d;y++){var B=_[y],z=g[y];if(y!==m){if(B[m]!==0){for(D=r(o(B[m]),b[m]),h=m;h<p;h++)B[h]=i(B[h],u(D,b[h]));for(h=0;h<p;h++)z[h]=i(z[h],u(D,T[h]))}}else{for(D=b[m],h=m;h<p;h++)B[h]=r(B[h],D);for(h=0;h<p;h++)z[h]=r(z[h],D)}}}return g}}}),Yr=uc({config:pn}),Wl=cc({}),fo=gc({}),Gr=yc({}),Jr=Rc({Matrix:Gr}),Bt=af({BigNumber:Yr,Complex:Wl,DenseMatrix:Jr,Fraction:fo}),Xl=ll({typed:Bt}),Kr=dl({typed:Bt}),Yl=Bl({typed:Bt}),Qr=Zc({config:pn,typed:Bt}),Gl=qc({equalScalar:Qr,typed:Bt}),co=Cl({typed:Bt}),Jl=Qc({typed:Bt}),lo=Xc({Matrix:Gr,equalScalar:Qr,typed:Bt}),Kl=Dl({typed:Bt}),Ql=nl({BigNumber:Yr,typed:Bt}),Ne=sl({DenseMatrix:Jr,Matrix:Gr,SparseMatrix:lo,typed:Bt}),t0=ul({Fraction:fo,typed:Bt}),e0=Nl({BigNumber:Yr,DenseMatrix:Jr,SparseMatrix:lo,config:pn,matrix:Ne,typed:Bt}),n0=Rl({bignumber:Ql,fraction:t0,number:Jl}),r0=$l({matrix:Ne,config:pn,typed:Bt}),ho=fl({typed:Bt}),po=Ll({numeric:n0,typed:Bt}),i0=jl({addScalar:Kr,conj:Yl,multiplyScalar:co,size:r0,typed:Bt}),ti=xl({addScalar:Kr,dot:i0,equalScalar:Qr,matrix:Ne,multiplyScalar:co,typed:Bt}),u0=Vl({divideScalar:po,isZero:Gl,matrix:Ne,multiply:ti,subtractScalar:Kl,typed:Bt,unaryMinus:ho}),o0=Hl({abs:Xl,addScalar:Kr,det:u0,divideScalar:po,identity:e0,matrix:Ne,multiply:ti,typed:Bt,unaryMinus:ho});const s0=t=>{const{m:e,ro:n,rl:r,Cp:i}=t.inputs,u=Array(5).fill(0),o=Array(6).fill(1),s=Array.from({length:6},(p,y)=>y+2),a=Array.from({length:6},(p,y)=>Math.pow(e,y+1)),f=Array.from({length:6},(p,y)=>(y+1)*Math.pow(e,y)),c=Array.from({length:6},(p,y)=>1/(y+2)),l=Ne([[1,...u],o,s,a,f,c]),d=Ne([2*n,0,-2*r,1/4,0,i/4]);return ti(o0(l),d).toArray()};function a0(t,e,n,r,i,u){const o=t*e,s=n-o,a=t/(r*u*i);return{envelopeWeight:o,liftCapacity:s,surfaceCoefficient:a}}function f0(t,e,n,r,i,u){const o=[];let s=0,a=0,f=0,c=null;for(let p=0;p<r;p++){const y=u/r*p,h=(1-Math.cos(y))/2;let D=0;for(let X=0;X<6;X++)D+=t[X]*Math.pow(h,X+1);const F=Math.sqrt(Math.max(0,D)),A=h*e,w=F*n,_=-w;let g=0,m=0,E=0,x=0,b=0,T=0,B=0,z=0,j=0,H=0,Z=0;if(c){g=A-c.x,m=w-c.r,E=Math.sqrt(g*g+m*m),s+=E;const X=g*i*(c.U+x);a+=X;const Y=g*(c.r*c.r+c.r*w+w*w);f+=Y;const W=m/g;T=w/W,B=Math.sqrt(w*w+T*T)*Math.sign(T),x=u*w/i,b=-x,z=x/(2*B),j=s-B+B*Math.cos(z),H=B*Math.sin(z),Z=-H}const R={s:p,phi:y,x2L:h,r2D2:D,r2D:F,x:A,r:w,nr:_,dx:g,dr:m,ds:E,cumulativeS:s,U:x,nU:b,drdx:0,h:T,sPrime:B,theta:z,xP:j,yP:H,nyP:Z,dxP:0,dSPrime:0};o.push(R),c=R}for(let p=0;p<o.length-1;p++){if(p!==0){const y=o[p-1],h=o[p],D=o[p+1];h.drdx=(y.r-h.r)/(y.x-h.x)-(y.r-D.r)/(y.x-D.x)+(h.r-D.r)/(h.x-D.x)}o[p].dxP=o[p+1].xP-o[p].xP,o[p].dSPrime=i*o[p].dxP*(o[p+1].yP+o[p].yP)}o[0].drdx=(o[1].r-o[0].r)/(o[1].x-o[0].x);const l=o.length-1;o[l].drdx=(o[l].r-o[l-1].r)/(o[l].x-o[l-1].x);const d=o[l];return d.dxP=0,d.dSPrime=0,f=u/3*f,{patternPoints:o,surfaceArea:a,integratedVolume:f}}function c0(t,e){let n=0,r=0;for(let i=0;i<6;i++)n+=t[i]/(i+2),r+=t[i]/(i+1);return n/r*e}const pr=t=>{const e=Math.PI,n=s0(t),r=t.inputs.Cp*e/4,i=t.inputs.Vb*r,u=Math.pow(i*Math.pow(t.inputs.L2D,2)*4/(t.inputs.Cp*e),1/3),o=u/t.inputs.L2D,s=2*e*Math.pow(o/2,2)+e*o*u,a=c0(n,u),f=a0(s,t.inputs.rhoS,i,u,o,e),c=t.inputs.n,l=t.inputs.nG,{patternPoints:d,surfaceArea:p,integratedVolume:y}=f0(n,u,o,c,l,e),h=l0(l,u);return{L:u,D:o,V:i,S:s,a:n,xCB:a,performance:f,patternPoints:d,surfaceArea:p,integratedVolume:y,cost:h}},l0=(t,e)=>t*e*11,ei=ca(t=>{const e={inputs:{n:50,nG:4,L2D:5,Vb:4,m:.4,ro:.6,rl:.2,Cp:.65,rhoS:.03}},n=pr(e);return{...e,...n,updateInput:(r,i)=>t(u=>{if(r in u.inputs){const o={...u.inputs,[r]:i},s={...u,inputs:o};return{...s,...pr(s)}}return u}),calculate:()=>t(r=>({...r,...pr(r)}))}}),h0=(t,e,n)=>{const r=Math.floor((e-t)/n)+1;if(r<=6)return Array.from({length:r},(o,s)=>({value:t+s*n,label:(t+s*n).toString()}));const i=[{value:t,label:t.toString()}],u=4;for(let o=1;o<u;o++){const s=t+(e-t)*o/u;i.push({value:Math.round(s/n)*n,label:Number(Math.round(s/n)*n).toFixed(1)+""})}return i.push({value:e,label:e.toString()}),i},Ji=({id:t,label:e,value:n,onChange:r,min:i=0,max:u=100,step:o=1,marks:s=!1,disabled:a=!1,...f})=>{const c=h0(typeof i=="number"?i:0,typeof u=="number"?u:100,typeof o=="number"?o:1);return N.jsxs($t,{sx:{width:"100%",paddingRight:8},children:[e&&N.jsxs($t,{sx:{display:"flex",alignItems:"center"},children:[N.jsxs(nt,{id:t,gutterBottom:!0,children:[e,":"]}),N.jsx(nt,{color:"#1976d2",gutterBottom:!0,sx:{marginLeft:4,fontWeight:"bold"},fontFamily:"monospace",children:n})]}),N.jsx(bs,{...f,marks:c,min:i,max:u,step:o,value:n,onChange:r,disabled:a,sx:{color:"#1976d2",height:8,"& .MuiSlider-thumb":{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor","&:hover, &.Mui-focusVisible":{boxShadow:"inherit"}},"& .MuiSlider-track":{height:14},"& .MuiSlider-rail":{height:10},"& .MuiSlider-markLabel":{fontFamily:"monospace"}}})]})},d0=()=>{const{inputs:{n:t,nG:e,L2D:n,Vb:r,m:i,ro:u,rl:o,Cp:s,rhoS:a},updateInput:f}=ei(),c=(p,y)=>{const h=Number(y);isNaN(h)||f(p,h)},l=Wt.useMemo(()=>[{id:"m",label:"Max Thickness Position",value:i,step:.01,min:.2,max:.78,type:"number"},{id:"ro",label:"Bow Radius",value:u,step:.1,min:0,max:2,type:"number"},{id:"rl",label:"Stern Radius",value:o,step:.1,min:0,max:1,type:"number"},{id:"Cp",label:"Prismatic Coefficient",value:s,step:.01,min:.5,max:5,type:"number"},{id:"rhoS",label:"Envelope Density (kg/m)",value:a,type:"number",step:.1,min:.01,max:2}],[i,u,o,s,a]),d=[{id:"n",label:"Number of Points (n)",value:t,type:"number",min:10,max:100},{id:"nG",label:"Number of Gores (nG)",value:e,type:"number",min:5,max:20},{id:"L2D",label:"L/D Ratio",value:n,type:"number",step:.1,min:1,max:10},{id:"Vb",label:"Block Volume (m)",value:r,type:"number",step:.1,min:.1,max:10}];return N.jsxs(N.Fragment,{children:[N.jsx($t,{mb:4,children:N.jsx(an,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:N.jsxs(wr,{children:[N.jsx(nt,{variant:"h5",fontWeight:"bold",mb:3,children:"Design Parameters"}),N.jsx(Ft,{container:!0,rowSpacing:3,mb:2,columns:12,children:d.map(p=>N.jsx(Ft,{size:{xs:12,sm:6,md:4},children:N.jsx($t,{width:"100%",children:N.jsx(Ji,{id:p.id,label:p.label,value:p.value,step:p.step,min:p.min,max:p.max,onChange:(y,h)=>c(p.id,Array.isArray(h)?String(h[0]):String(h))})})},p.id))})]})})}),N.jsx($t,{mb:4,children:N.jsx(an,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:N.jsxs(wr,{children:[N.jsx(nt,{variant:"h5",fontWeight:"bold",mb:3,children:"Shape Coefficients"}),N.jsx(Ft,{container:!0,rowSpacing:3,mb:2,columns:12,children:l.map(p=>N.jsx(Ft,{size:{xs:12,sm:6,md:4},children:N.jsx($t,{width:"100%",children:N.jsx(Ji,{id:p.id,label:p.label,value:p.value,step:p.step,min:p.min,max:p.max,onChange:(y,h)=>c(p.id,Array.isArray(h)?String(h[0]):String(h))})})},p.id))})]})})})]})},p0=()=>{const{L:t,D:e,V:n,S:r,a:i,xCB:u,performance:o,surfaceArea:s,integratedVolume:a,cost:f}=ei();return N.jsxs($t,{sx:{p:3,width:"100%"},children:[N.jsxs(nt,{variant:"h5",fontWeight:"bold",mb:1,children:[" ","Design Results"]}),N.jsxs(Ft,{container:!0,rowSpacing:4,columnSpacing:8,columns:12,children:[N.jsx(Ft,{size:{xs:12,md:6,lg:6},children:N.jsxs($t,{children:[N.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Primary Dimensions"}),N.jsxs(hi,{spacing:1,children:[N.jsx(ve,{label:"Length (L)",value:t.toFixed(2),unit:"m"}),N.jsx(ve,{label:"Diameter (D)",value:e.toFixed(2),unit:"m"}),N.jsx(ve,{label:"Volume (V)",value:n.toFixed(2),unit:"m"}),N.jsx(ve,{label:"Surface Area (S)",value:r.toFixed(2),unit:"m"}),N.jsx(ve,{label:"Center of Buoyancy (xCB)",value:u.toFixed(2),unit:"m from bow"})]})]})}),N.jsx(Ft,{size:{xs:12,md:6,lg:6},children:N.jsxs($t,{children:[N.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Shape Coefficients"}),N.jsx(Ft,{container:!0,spacing:2,columns:6,children:i.map((c,l)=>N.jsx(Ft,{size:{xs:6,sm:6,md:3},children:N.jsxs(wn,{elevation:0,sx:{backgroundColor:Bs[`${600-l*100}`],p:1,borderRadius:1,textAlign:"center"},children:[N.jsxs(nt,{variant:"caption",color:"text.secondary",children:["a",N.jsx("sub",{children:l+1})]}),N.jsx(nt,{variant:"body2",fontFamily:"monospace",sx:{mt:.5},children:c.toExponential(2)})]},l)},l))})]})}),N.jsx(Ft,{size:{xs:12,md:6,lg:6},children:N.jsxs($t,{children:[N.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Performance"}),N.jsxs(hi,{spacing:1,children:[N.jsx(ve,{label:"Envelope Weight",value:o.envelopeWeight.toFixed(2),unit:"kg"}),N.jsx(ve,{label:"Lift Capacity",value:o.liftCapacity.toFixed(2),unit:"kg"}),N.jsx(ve,{label:"Surface Coefficient",value:o.surfaceCoefficient.toFixed(4)})]})]})}),N.jsx(Ft,{size:{xs:12,md:6,lg:6},children:N.jsxs($t,{sx:{mt:2},children:[N.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Integration Results"}),N.jsxs(Ft,{container:!0,spacing:2,columns:12,children:[N.jsx(Ft,{size:{xs:12,sm:12,lg:6},children:N.jsxs(wn,{elevation:0,sx:{p:2,borderRadius:1,backgroundColor:nn[50],textAlign:"center"},children:[N.jsx(nt,{variant:"body2",color:"primary.main",children:"Surface Area (Calculated)"}),N.jsxs(nt,{variant:"h5",fontWeight:"bold",fontFamily:"monospace",children:[s.toFixed(2)," m"]})]})}),N.jsx(Ft,{size:{xs:12,sm:12,lg:6},children:N.jsxs(wn,{elevation:0,sx:{p:2,borderRadius:1,backgroundColor:Ms[50],textAlign:"center"},children:[N.jsx(nt,{variant:"body2",color:"success.main",children:"Volume (Integrated)"}),N.jsxs(nt,{variant:"h5",fontWeight:"bold",fontFamily:"monospace",children:[a.toFixed(2)," m"]})]})}),N.jsx(Ft,{size:{xs:12,sm:12,lg:6},children:N.jsxs(wn,{elevation:0,sx:{p:2,borderRadius:1,backgroundColor:Ns[50],textAlign:"center"},children:[N.jsx(nt,{variant:"body2",color:"success.main",children:"Cost (Estimation)"}),N.jsxs(nt,{variant:"h5",fontWeight:"bold",fontFamily:"monospace",children:[f.toFixed(2)," "]})]})})]}),Math.abs(a-n)>.01&&N.jsxs(Ss,{severity:"warning",sx:{mt:2},children:["Note: Integrated volume differs from theoretical volume by ",(a-n).toFixed(2)," m (",Math.abs((a-n)/n*100).toFixed(1),"%)"]})]})})]})]})},ve=({label:t,value:e,unit:n="(-)"})=>N.jsxs(Ft,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",columns:2,children:[N.jsx(Ft,{size:1,children:N.jsxs(nt,{variant:"body1",color:"text.secondary",children:[t,":"]})}),N.jsx(Ft,{size:1,children:N.jsxs(nt,{variant:"body1",fontWeight:"500",fontFamily:"monospace",children:[e," ",n&&N.jsx(nt,{component:"span",variant:"body1",color:"text.secondary",children:n})]})})]});function Mn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D0(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Do(t){let e,n,r;t.length!==2?(e=Mn,n=(s,a)=>Mn(t(s),a),r=(s,a)=>t(s)-a):(e=t===Mn||t===D0?t:m0,n=t,r=t);function i(s,a,f=0,c=s.length){if(f<c){if(e(a,a)!==0)return c;do{const l=f+c>>>1;n(s[l],a)<0?f=l+1:c=l}while(f<c)}return f}function u(s,a,f=0,c=s.length){if(f<c){if(e(a,a)!==0)return c;do{const l=f+c>>>1;n(s[l],a)<=0?f=l+1:c=l}while(f<c)}return f}function o(s,a,f=0,c=s.length){const l=i(s,a,f,c-1);return l>f&&r(s[l-1],a)>-r(s[l],a)?l-1:l}return{left:i,center:o,right:u}}function m0(){return 0}function g0(t){return t===null?NaN:+t}const v0=Do(Mn),w0=v0.right;Do(g0).center;const y0=w0,F0=Math.sqrt(50),E0=Math.sqrt(10),A0=Math.sqrt(2);function Un(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),u=r/Math.pow(10,i),o=u>=F0?10:u>=E0?5:u>=A0?2:1;let s,a,f;return i<0?(f=Math.pow(10,-i)/o,s=Math.round(t*f),a=Math.round(e*f),s/f<t&&++s,a/f>e&&--a,f=-f):(f=Math.pow(10,i)*o,s=Math.round(t/f),a=Math.round(e/f),s*f<t&&++s,a*f>e&&--a),a<s&&.5<=n&&n<2?Un(t,e,n*2):[s,a,f]}function C0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,u,o]=r?Un(e,t,n):Un(t,e,n);if(!(u>=i))return[];const s=u-i+1,a=new Array(s);if(r)if(o<0)for(let f=0;f<s;++f)a[f]=(u-f)/-o;else for(let f=0;f<s;++f)a[f]=(u-f)*o;else if(o<0)for(let f=0;f<s;++f)a[f]=(i+f)/-o;else for(let f=0;f<s;++f)a[f]=(i+f)*o;return a}function Mr(t,e,n){return e=+e,t=+t,n=+n,Un(t,e,n)[2]}function _0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Mr(e,t,n):Mr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function x0(t){return t}var Dr=1,mr=2,Nr=3,rn=4,Ki=1e-6;function b0(t){return"translate("+t+",0)"}function B0(t){return"translate(0,"+t+")"}function M0(t){return e=>+t(e)}function N0(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function S0(){return!this.__axis}function mo(t,e){var n=[],r=null,i=null,u=6,o=6,s=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===Dr||t===rn?-1:1,c=t===rn||t===mr?"x":"y",l=t===Dr||t===Nr?b0:B0;function d(p){var y=r??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):x0),D=Math.max(u,0)+s,F=e.range(),A=+F[0]+a,w=+F[F.length-1]+a,_=(e.bandwidth?N0:M0)(e.copy(),a),g=p.selection?p.selection():p,m=g.selectAll(".domain").data([null]),E=g.selectAll(".tick").data(y,e).order(),x=E.exit(),b=E.enter().append("g").attr("class","tick"),T=E.select("line"),B=E.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(b),T=T.merge(b.append("line").attr("stroke","currentColor").attr(c+"2",f*u)),B=B.merge(b.append("text").attr("fill","currentColor").attr(c,f*D).attr("dy",t===Dr?"0em":t===Nr?"0.71em":"0.32em")),p!==g&&(m=m.transition(p),E=E.transition(p),T=T.transition(p),B=B.transition(p),x=x.transition(p).attr("opacity",Ki).attr("transform",function(z){return isFinite(z=_(z))?l(z+a):this.getAttribute("transform")}),b.attr("opacity",Ki).attr("transform",function(z){var j=this.parentNode.__axis;return l((j&&isFinite(j=j(z))?j:_(z))+a)})),x.remove(),m.attr("d",t===rn||t===mr?o?"M"+f*o+","+A+"H"+a+"V"+w+"H"+f*o:"M"+a+","+A+"V"+w:o?"M"+A+","+f*o+"V"+a+"H"+w+"V"+f*o:"M"+A+","+a+"H"+w),E.attr("opacity",1).attr("transform",function(z){return l(_(z)+a)}),T.attr(c+"2",f*u),B.attr(c,f*D).text(h),g.filter(S0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===mr?"start":t===rn?"end":"middle"),g.each(function(){this.__axis=_})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(u=o=+p,d):u},d.tickSizeInner=function(p){return arguments.length?(u=+p,d):u},d.tickSizeOuter=function(p){return arguments.length?(o=+p,d):o},d.tickPadding=function(p){return arguments.length?(s=+p,d):s},d.offset=function(p){return arguments.length?(a=+p,d):a},d}function T0(t){return mo(Nr,t)}function I0(t){return mo(rn,t)}var P0={value:()=>{}};function go(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Nn(n)}function Nn(t){this._=t}function $0(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Nn.prototype=go.prototype={constructor:Nn,on:function(t,e){var n=this._,r=$0(t+"",n),i,u=-1,o=r.length;if(arguments.length<2){for(;++u<o;)if((i=(t=r[u]).type)&&(i=O0(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<o;)if(i=(t=r[u]).type)n[i]=Qi(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Qi(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Nn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,u;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,i=u.length;r<i;++r)u[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,u=r.length;i<u;++i)r[i].value.apply(e,n)}};function O0(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Qi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=P0,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Sr="http://www.w3.org/1999/xhtml";const tu={svg:"http://www.w3.org/2000/svg",xhtml:Sr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ur(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),tu.hasOwnProperty(e)?{space:tu[e],local:t}:t}function z0(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Sr&&e.documentElement.namespaceURI===Sr?e.createElement(t):e.createElementNS(n,t)}}function R0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vo(t){var e=ur(t);return(e.local?R0:z0)(e)}function k0(){}function ni(t){return t==null?k0:function(){return this.querySelector(t)}}function L0(t){typeof t!="function"&&(t=ni(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u=e[i],o=u.length,s=r[i]=new Array(o),a,f,c=0;c<o;++c)(a=u[c])&&(f=t.call(a,a.__data__,c,u))&&("__data__"in a&&(f.__data__=a.__data__),s[c]=f);return new Xt(r,this._parents)}function q0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function j0(){return[]}function wo(t){return t==null?j0:function(){return this.querySelectorAll(t)}}function U0(t){return function(){return q0(t.apply(this,arguments))}}function V0(t){typeof t=="function"?t=U0(t):t=wo(t);for(var e=this._groups,n=e.length,r=[],i=[],u=0;u<n;++u)for(var o=e[u],s=o.length,a,f=0;f<s;++f)(a=o[f])&&(r.push(t.call(a,a.__data__,f,o)),i.push(a));return new Xt(r,i)}function yo(t){return function(){return this.matches(t)}}function Fo(t){return function(e){return e.matches(t)}}var Z0=Array.prototype.find;function H0(t){return function(){return Z0.call(this.children,t)}}function W0(){return this.firstElementChild}function X0(t){return this.select(t==null?W0:H0(typeof t=="function"?t:Fo(t)))}var Y0=Array.prototype.filter;function G0(){return Array.from(this.children)}function J0(t){return function(){return Y0.call(this.children,t)}}function K0(t){return this.selectAll(t==null?G0:J0(typeof t=="function"?t:Fo(t)))}function Q0(t){typeof t!="function"&&(t=yo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u=e[i],o=u.length,s=r[i]=[],a,f=0;f<o;++f)(a=u[f])&&t.call(a,a.__data__,f,u)&&s.push(a);return new Xt(r,this._parents)}function Eo(t){return new Array(t.length)}function th(){return new Xt(this._enter||this._groups.map(Eo),this._parents)}function Vn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vn.prototype={constructor:Vn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function eh(t){return function(){return t}}function nh(t,e,n,r,i,u){for(var o=0,s,a=e.length,f=u.length;o<f;++o)(s=e[o])?(s.__data__=u[o],r[o]=s):n[o]=new Vn(t,u[o]);for(;o<a;++o)(s=e[o])&&(i[o]=s)}function rh(t,e,n,r,i,u,o){var s,a,f=new Map,c=e.length,l=u.length,d=new Array(c),p;for(s=0;s<c;++s)(a=e[s])&&(d[s]=p=o.call(a,a.__data__,s,e)+"",f.has(p)?i[s]=a:f.set(p,a));for(s=0;s<l;++s)p=o.call(t,u[s],s,u)+"",(a=f.get(p))?(r[s]=a,a.__data__=u[s],f.delete(p)):n[s]=new Vn(t,u[s]);for(s=0;s<c;++s)(a=e[s])&&f.get(d[s])===a&&(i[s]=a)}function ih(t){return t.__data__}function uh(t,e){if(!arguments.length)return Array.from(this,ih);var n=e?rh:nh,r=this._parents,i=this._groups;typeof t!="function"&&(t=eh(t));for(var u=i.length,o=new Array(u),s=new Array(u),a=new Array(u),f=0;f<u;++f){var c=r[f],l=i[f],d=l.length,p=oh(t.call(c,c&&c.__data__,f,r)),y=p.length,h=s[f]=new Array(y),D=o[f]=new Array(y),F=a[f]=new Array(d);n(c,l,h,D,F,p,e);for(var A=0,w=0,_,g;A<y;++A)if(_=h[A]){for(A>=w&&(w=A+1);!(g=D[w])&&++w<y;);_._next=g||null}}return o=new Xt(o,r),o._enter=s,o._exit=a,o}function oh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sh(){return new Xt(this._exit||this._groups.map(Eo),this._parents)}function ah(t,e,n){var r=this.enter(),i=this,u=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?u.remove():n(u),r&&i?r.merge(i).order():i}function fh(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,u=r.length,o=Math.min(i,u),s=new Array(i),a=0;a<o;++a)for(var f=n[a],c=r[a],l=f.length,d=s[a]=new Array(l),p,y=0;y<l;++y)(p=f[y]||c[y])&&(d[y]=p);for(;a<i;++a)s[a]=n[a];return new Xt(s,this._parents)}function ch(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,u=r[i],o;--i>=0;)(o=r[i])&&(u&&o.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(o,u),u=o);return this}function lh(t){t||(t=hh);function e(l,d){return l&&d?t(l.__data__,d.__data__):!l-!d}for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u){for(var o=n[u],s=o.length,a=i[u]=new Array(s),f,c=0;c<s;++c)(f=o[c])&&(a[c]=f);a.sort(e)}return new Xt(i,this._parents).order()}function hh(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dh(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ph(){return Array.from(this)}function Dh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,u=r.length;i<u;++i){var o=r[i];if(o)return o}return null}function mh(){let t=0;for(const e of this)++t;return t}function gh(){return!this.node()}function vh(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],u=0,o=i.length,s;u<o;++u)(s=i[u])&&t.call(s,s.__data__,u,i);return this}function wh(t){return function(){this.removeAttribute(t)}}function yh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fh(t,e){return function(){this.setAttribute(t,e)}}function Eh(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ah(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ch(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _h(t,e){var n=ur(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?yh:wh:typeof e=="function"?n.local?Ch:Ah:n.local?Eh:Fh)(n,e))}function Ao(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xh(t){return function(){this.style.removeProperty(t)}}function bh(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bh(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Mh(t,e,n){return arguments.length>1?this.each((e==null?xh:typeof e=="function"?Bh:bh)(t,e,n??"")):Ye(this.node(),t)}function Ye(t,e){return t.style.getPropertyValue(e)||Ao(t).getComputedStyle(t,null).getPropertyValue(e)}function Nh(t){return function(){delete this[t]}}function Sh(t,e){return function(){this[t]=e}}function Th(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ih(t,e){return arguments.length>1?this.each((e==null?Nh:typeof e=="function"?Th:Sh)(t,e)):this.node()[t]}function Co(t){return t.trim().split(/^|\s+/)}function ri(t){return t.classList||new _o(t)}function _o(t){this._node=t,this._names=Co(t.getAttribute("class")||"")}_o.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xo(t,e){for(var n=ri(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function bo(t,e){for(var n=ri(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ph(t){return function(){xo(this,t)}}function $h(t){return function(){bo(this,t)}}function Oh(t,e){return function(){(e.apply(this,arguments)?xo:bo)(this,t)}}function zh(t,e){var n=Co(t+"");if(arguments.length<2){for(var r=ri(this.node()),i=-1,u=n.length;++i<u;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Oh:e?Ph:$h)(n,e))}function Rh(){this.textContent=""}function kh(t){return function(){this.textContent=t}}function Lh(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qh(t){return arguments.length?this.each(t==null?Rh:(typeof t=="function"?Lh:kh)(t)):this.node().textContent}function jh(){this.innerHTML=""}function Uh(t){return function(){this.innerHTML=t}}function Vh(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Zh(t){return arguments.length?this.each(t==null?jh:(typeof t=="function"?Vh:Uh)(t)):this.node().innerHTML}function Hh(){this.nextSibling&&this.parentNode.appendChild(this)}function Wh(){return this.each(Hh)}function Xh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yh(){return this.each(Xh)}function Gh(t){var e=typeof t=="function"?t:vo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Jh(){return null}function Kh(t,e){var n=typeof t=="function"?t:vo(t),r=e==null?Jh:typeof e=="function"?e:ni(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Qh(){var t=this.parentNode;t&&t.removeChild(this)}function td(){return this.each(Qh)}function ed(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rd(t){return this.select(t?nd:ed)}function id(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ud(t){return function(e){t.call(this,e,this.__data__)}}function od(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function sd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,u;n<i;++n)u=e[n],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):e[++r]=u;++r?e.length=r:delete this.__on}}}function ad(t,e,n){return function(){var r=this.__on,i,u=ud(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=n),i.value=e;return}}this.addEventListener(t.type,u,n),i={type:t.type,name:t.name,value:e,listener:u,options:n},r?r.push(i):this.__on=[i]}}function fd(t,e,n){var r=od(t+""),i,u=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,f=s.length,c;a<f;++a)for(i=0,c=s[a];i<u;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?ad:sd,i=0;i<u;++i)this.each(s(r[i],e,n));return this}function Bo(t,e,n){var r=Ao(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cd(t,e){return function(){return Bo(this,t,e)}}function ld(t,e){return function(){return Bo(this,t,e.apply(this,arguments))}}function hd(t,e){return this.each((typeof e=="function"?ld:cd)(t,e))}function*dd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,u=r.length,o;i<u;++i)(o=r[i])&&(yield o)}var Mo=[null];function Xt(t,e){this._groups=t,this._parents=e}function Dn(){return new Xt([[document.documentElement]],Mo)}function pd(){return this}Xt.prototype=Dn.prototype={constructor:Xt,select:L0,selectAll:V0,selectChild:X0,selectChildren:K0,filter:Q0,data:uh,enter:th,exit:sh,join:ah,merge:fh,selection:pd,order:ch,sort:lh,call:dh,nodes:ph,node:Dh,size:mh,empty:gh,each:vh,attr:_h,style:Mh,property:Ih,classed:zh,text:qh,html:Zh,raise:Wh,lower:Yh,append:Gh,insert:Kh,remove:td,clone:rd,datum:id,on:fd,dispatch:hd,[Symbol.iterator]:dd};function Dd(t){return typeof t=="string"?new Xt([[document.querySelector(t)]],[document.documentElement]):new Xt([[t]],Mo)}function ii(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function No(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mn(){}var ln=.7,Zn=1/ln,Ve="\\s*([+-]?\\d+)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",md=/^#([0-9a-f]{3,8})$/,gd=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),vd=new RegExp(`^rgb\\(${fe},${fe},${fe}\\)$`),wd=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${hn}\\)$`),yd=new RegExp(`^rgba\\(${fe},${fe},${fe},${hn}\\)$`),Fd=new RegExp(`^hsl\\(${hn},${fe},${fe}\\)$`),Ed=new RegExp(`^hsla\\(${hn},${fe},${fe},${hn}\\)$`),eu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ii(mn,Se,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nu,formatHex:nu,formatHex8:Ad,formatHsl:Cd,formatRgb:ru,toString:ru});function nu(){return this.rgb().formatHex()}function Ad(){return this.rgb().formatHex8()}function Cd(){return So(this).formatHsl()}function ru(){return this.rgb().formatRgb()}function Se(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=md.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iu(e):n===3?new Vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?An(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?An(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gd.exec(t))?new Vt(e[1],e[2],e[3],1):(e=vd.exec(t))?new Vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wd.exec(t))?An(e[1],e[2],e[3],e[4]):(e=yd.exec(t))?An(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fd.exec(t))?su(e[1],e[2]/100,e[3]/100,1):(e=Ed.exec(t))?su(e[1],e[2]/100,e[3]/100,e[4]):eu.hasOwnProperty(t)?iu(eu[t]):t==="transparent"?new Vt(NaN,NaN,NaN,0):null}function iu(t){return new Vt(t>>16&255,t>>8&255,t&255,1)}function An(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vt(t,e,n,r)}function _d(t){return t instanceof mn||(t=Se(t)),t?(t=t.rgb(),new Vt(t.r,t.g,t.b,t.opacity)):new Vt}function Tr(t,e,n,r){return arguments.length===1?_d(t):new Vt(t,e,n,r??1)}function Vt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ii(Vt,Tr,No(mn,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ln:Math.pow(ln,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vt(Me(this.r),Me(this.g),Me(this.b),Hn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uu,formatHex:uu,formatHex8:xd,formatRgb:ou,toString:ou}));function uu(){return`#${Be(this.r)}${Be(this.g)}${Be(this.b)}`}function xd(){return`#${Be(this.r)}${Be(this.g)}${Be(this.b)}${Be((isNaN(this.opacity)?1:this.opacity)*255)}`}function ou(){const t=Hn(this.opacity);return`${t===1?"rgb(":"rgba("}${Me(this.r)}, ${Me(this.g)}, ${Me(this.b)}${t===1?")":`, ${t})`}`}function Hn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Me(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Be(t){return t=Me(t),(t<16?"0":"")+t.toString(16)}function su(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ie(t,e,n,r)}function So(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);if(t instanceof mn||(t=Se(t)),!t)return new ie;if(t instanceof ie)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),u=Math.max(e,n,r),o=NaN,s=u-i,a=(u+i)/2;return s?(e===u?o=(n-r)/s+(n<r)*6:n===u?o=(r-e)/s+2:o=(e-n)/s+4,s/=a<.5?u+i:2-u-i,o*=60):s=a>0&&a<1?0:o,new ie(o,s,a,t.opacity)}function bd(t,e,n,r){return arguments.length===1?So(t):new ie(t,e,n,r??1)}function ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ii(ie,bd,No(mn,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ln:Math.pow(ln,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vt(gr(t>=240?t-240:t+120,i,r),gr(t,i,r),gr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ie(au(this.h),Cn(this.s),Cn(this.l),Hn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hn(this.opacity);return`${t===1?"hsl(":"hsla("}${au(this.h)}, ${Cn(this.s)*100}%, ${Cn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function au(t){return t=(t||0)%360,t<0?t+360:t}function Cn(t){return Math.max(0,Math.min(1,t||0))}function gr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ui=t=>()=>t;function Bd(t,e){return function(n){return t+n*e}}function Md(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nd(t){return(t=+t)==1?To:function(e,n){return n-e?Md(e,n,t):ui(isNaN(e)?n:e)}}function To(t,e){var n=e-t;return n?Bd(t,n):ui(isNaN(t)?e:t)}const Wn=function t(e){var n=Nd(e);function r(i,u){var o=n((i=Tr(i)).r,(u=Tr(u)).r),s=n(i.g,u.g),a=n(i.b,u.b),f=To(i.opacity,u.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=a(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function Sd(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(u){for(i=0;i<n;++i)r[i]=t[i]*(1-u)+e[i]*u;return r}}function Td(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Id(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),u=new Array(n),o;for(o=0;o<r;++o)i[o]=oi(t[o],e[o]);for(;o<n;++o)u[o]=e[o];return function(s){for(o=0;o<r;++o)u[o]=i[o](s);return u}}function Pd(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function re(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $d(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=oi(t[i],e[i]):r[i]=e[i];return function(u){for(i in n)r[i]=n[i](u);return r}}var Ir=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(Ir.source,"g");function Od(t){return function(){return t}}function zd(t){return function(e){return t(e)+""}}function Io(t,e){var n=Ir.lastIndex=vr.lastIndex=0,r,i,u,o=-1,s=[],a=[];for(t=t+"",e=e+"";(r=Ir.exec(t))&&(i=vr.exec(e));)(u=i.index)>n&&(u=e.slice(n,u),s[o]?s[o]+=u:s[++o]=u),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:re(r,i)})),n=vr.lastIndex;return n<e.length&&(u=e.slice(n),s[o]?s[o]+=u:s[++o]=u),s.length<2?a[0]?zd(a[0].x):Od(e):(e=a.length,function(f){for(var c=0,l;c<e;++c)s[(l=a[c]).i]=l.x(f);return s.join("")})}function oi(t,e){var n=typeof e,r;return e==null||n==="boolean"?ui(e):(n==="number"?re:n==="string"?(r=Se(e))?(e=r,Wn):Io:e instanceof Se?Wn:e instanceof Date?Pd:Td(e)?Sd:Array.isArray(e)?Id:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$d:re)(t,e)}function Rd(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var fu=180/Math.PI,Pr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Po(t,e,n,r,i,u){var o,s,a;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),t*r<e*n&&(t=-t,e=-e,a=-a,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(e,t)*fu,skewX:Math.atan(a)*fu,scaleX:o,scaleY:s}}var _n;function kd(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Pr:Po(e.a,e.b,e.c,e.d,e.e,e.f)}function Ld(t){return t==null||(_n||(_n=document.createElementNS("http://www.w3.org/2000/svg","g")),_n.setAttribute("transform",t),!(t=_n.transform.baseVal.consolidate()))?Pr:(t=t.matrix,Po(t.a,t.b,t.c,t.d,t.e,t.f))}function $o(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function u(f,c,l,d,p,y){if(f!==l||c!==d){var h=p.push("translate(",null,e,null,n);y.push({i:h-4,x:re(f,l)},{i:h-2,x:re(c,d)})}else(l||d)&&p.push("translate("+l+e+d+n)}function o(f,c,l,d){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),d.push({i:l.push(i(l)+"rotate(",null,r)-2,x:re(f,c)})):c&&l.push(i(l)+"rotate("+c+r)}function s(f,c,l,d){f!==c?d.push({i:l.push(i(l)+"skewX(",null,r)-2,x:re(f,c)}):c&&l.push(i(l)+"skewX("+c+r)}function a(f,c,l,d,p,y){if(f!==l||c!==d){var h=p.push(i(p)+"scale(",null,",",null,")");y.push({i:h-4,x:re(f,l)},{i:h-2,x:re(c,d)})}else(l!==1||d!==1)&&p.push(i(p)+"scale("+l+","+d+")")}return function(f,c){var l=[],d=[];return f=t(f),c=t(c),u(f.translateX,f.translateY,c.translateX,c.translateY,l,d),o(f.rotate,c.rotate,l,d),s(f.skewX,c.skewX,l,d),a(f.scaleX,f.scaleY,c.scaleX,c.scaleY,l,d),f=c=null,function(p){for(var y=-1,h=d.length,D;++y<h;)l[(D=d[y]).i]=D.x(p);return l.join("")}}}var qd=$o(kd,"px, ","px)","deg)"),jd=$o(Ld,", ",")",")"),Ge=0,un=0,en=0,Oo=1e3,Xn,on,Yn=0,Te=0,or=0,dn=typeof performance=="object"&&performance.now?performance:Date,zo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function si(){return Te||(zo(Ud),Te=dn.now()+or)}function Ud(){Te=0}function Gn(){this._call=this._time=this._next=null}Gn.prototype=Ro.prototype={constructor:Gn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?si():+n)+(e==null?0:+e),!this._next&&on!==this&&(on?on._next=this:Xn=this,on=this),this._call=t,this._time=n,$r()},stop:function(){this._call&&(this._call=null,this._time=1/0,$r())}};function Ro(t,e,n){var r=new Gn;return r.restart(t,e,n),r}function Vd(){si(),++Ge;for(var t=Xn,e;t;)(e=Te-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ge}function cu(){Te=(Yn=dn.now())+or,Ge=un=0;try{Vd()}finally{Ge=0,Hd(),Te=0}}function Zd(){var t=dn.now(),e=t-Yn;e>Oo&&(or-=e,Yn=t)}function Hd(){for(var t,e=Xn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xn=n);on=t,$r(r)}function $r(t){if(!Ge){un&&(un=clearTimeout(un));var e=t-Te;e>24?(t<1/0&&(un=setTimeout(cu,t-dn.now()-or)),en&&(en=clearInterval(en))):(en||(Yn=dn.now(),en=setInterval(Zd,Oo)),Ge=1,zo(cu))}}function lu(t,e,n){var r=new Gn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Wd=go("start","end","cancel","interrupt"),Xd=[],ko=0,hu=1,Or=2,Sn=3,du=4,zr=5,Tn=6;function sr(t,e,n,r,i,u){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Yd(t,n,{name:e,index:r,group:i,on:Wd,tween:Xd,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:ko})}function ai(t,e){var n=oe(t,e);if(n.state>ko)throw new Error("too late; already scheduled");return n}function le(t,e){var n=oe(t,e);if(n.state>Sn)throw new Error("too late; already running");return n}function oe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Yd(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ro(u,0,n.time);function u(f){n.state=hu,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,l,d,p;if(n.state!==hu)return a();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Sn)return lu(o);p.state===du?(p.state=Tn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=Tn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(lu(function(){n.state===Sn&&(n.state=du,n.timer.restart(s,n.delay,n.time),s(f))}),n.state=Or,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Or){for(n.state=Sn,i=new Array(d=n.tween.length),c=0,l=-1;c<d;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=p);i.length=l+1}}function s(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(a),n.state=zr,1),l=-1,d=i.length;++l<d;)i[l].call(t,c);n.state===zr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Tn,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Gd(t,e){var n=t.__transition,r,i,u=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){u=!1;continue}i=r.state>Or&&r.state<zr,r.state=Tn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}u&&delete t.__transition}}function Jd(t){return this.each(function(){Gd(this,t)})}function Kd(t,e){var n,r;return function(){var i=le(this,t),u=i.tween;if(u!==n){r=n=u;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Qd(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var u=le(this,t),o=u.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},a=0,f=i.length;a<f;++a)if(i[a].name===e){i[a]=s;break}a===f&&i.push(s)}u.tween=i}}function tp(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=oe(this.node(),n).tween,i=0,u=r.length,o;i<u;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Kd:Qd)(n,t,e))}function fi(t,e,n){var r=t._id;return t.each(function(){var i=le(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return oe(i,r).value[e]}}function Lo(t,e){var n;return(typeof e=="number"?re:e instanceof Se?Wn:(n=Se(e))?(e=n,Wn):Io)(t,e)}function ep(t){return function(){this.removeAttribute(t)}}function np(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rp(t,e,n){var r,i=n+"",u;return function(){var o=this.getAttribute(t);return o===i?null:o===r?u:u=e(r=o,n)}}function ip(t,e,n){var r,i=n+"",u;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?u:u=e(r=o,n)}}function up(t,e,n){var r,i,u;return function(){var o,s=n(this),a;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),a=s+"",o===a?null:o===r&&a===i?u:(i=a,u=e(r=o,s)))}}function op(t,e,n){var r,i,u;return function(){var o,s=n(this),a;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),a=s+"",o===a?null:o===r&&a===i?u:(i=a,u=e(r=o,s)))}}function sp(t,e){var n=ur(t),r=n==="transform"?jd:Lo;return this.attrTween(t,typeof e=="function"?(n.local?op:up)(n,r,fi(this,"attr."+t,e)):e==null?(n.local?np:ep)(n):(n.local?ip:rp)(n,r,e))}function ap(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function fp(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function cp(t,e){var n,r;function i(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&fp(t,u)),n}return i._value=e,i}function lp(t,e){var n,r;function i(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&ap(t,u)),n}return i._value=e,i}function hp(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ur(t);return this.tween(n,(r.local?cp:lp)(r,e))}function dp(t,e){return function(){ai(this,t).delay=+e.apply(this,arguments)}}function pp(t,e){return e=+e,function(){ai(this,t).delay=e}}function Dp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dp:pp)(e,t)):oe(this.node(),e).delay}function mp(t,e){return function(){le(this,t).duration=+e.apply(this,arguments)}}function gp(t,e){return e=+e,function(){le(this,t).duration=e}}function vp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mp:gp)(e,t)):oe(this.node(),e).duration}function wp(t,e){if(typeof e!="function")throw new Error;return function(){le(this,t).ease=e}}function yp(t){var e=this._id;return arguments.length?this.each(wp(e,t)):oe(this.node(),e).ease}function Fp(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;le(this,t).ease=n}}function Ep(t){if(typeof t!="function")throw new Error;return this.each(Fp(this._id,t))}function Ap(t){typeof t!="function"&&(t=yo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u=e[i],o=u.length,s=r[i]=[],a,f=0;f<o;++f)(a=u[f])&&t.call(a,a.__data__,f,u)&&s.push(a);return new ge(r,this._parents,this._name,this._id)}function Cp(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,u=Math.min(r,i),o=new Array(r),s=0;s<u;++s)for(var a=e[s],f=n[s],c=a.length,l=o[s]=new Array(c),d,p=0;p<c;++p)(d=a[p]||f[p])&&(l[p]=d);for(;s<r;++s)o[s]=e[s];return new ge(o,this._parents,this._name,this._id)}function _p(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xp(t,e,n){var r,i,u=_p(e)?ai:le;return function(){var o=u(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function bp(t,e){var n=this._id;return arguments.length<2?oe(this.node(),n).on.on(t):this.each(xp(n,t,e))}function Bp(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Mp(){return this.on("end.remove",Bp(this._id))}function Np(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ni(t));for(var r=this._groups,i=r.length,u=new Array(i),o=0;o<i;++o)for(var s=r[o],a=s.length,f=u[o]=new Array(a),c,l,d=0;d<a;++d)(c=s[d])&&(l=t.call(c,c.__data__,d,s))&&("__data__"in c&&(l.__data__=c.__data__),f[d]=l,sr(f[d],e,n,d,f,oe(c,n)));return new ge(u,this._parents,e,n)}function Sp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=wo(t));for(var r=this._groups,i=r.length,u=[],o=[],s=0;s<i;++s)for(var a=r[s],f=a.length,c,l=0;l<f;++l)if(c=a[l]){for(var d=t.call(c,c.__data__,l,a),p,y=oe(c,n),h=0,D=d.length;h<D;++h)(p=d[h])&&sr(p,e,n,h,d,y);u.push(d),o.push(c)}return new ge(u,o,e,n)}var Tp=Dn.prototype.constructor;function Ip(){return new Tp(this._groups,this._parents)}function Pp(t,e){var n,r,i;return function(){var u=Ye(this,t),o=(this.style.removeProperty(t),Ye(this,t));return u===o?null:u===n&&o===r?i:i=e(n=u,r=o)}}function qo(t){return function(){this.style.removeProperty(t)}}function $p(t,e,n){var r,i=n+"",u;return function(){var o=Ye(this,t);return o===i?null:o===r?u:u=e(r=o,n)}}function Op(t,e,n){var r,i,u;return function(){var o=Ye(this,t),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(t),Ye(this,t))),o===a?null:o===r&&a===i?u:(i=a,u=e(r=o,s))}}function zp(t,e){var n,r,i,u="style."+e,o="end."+u,s;return function(){var a=le(this,t),f=a.on,c=a.value[u]==null?s||(s=qo(e)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),a.on=r}}function Rp(t,e,n){var r=(t+="")=="transform"?qd:Lo;return e==null?this.styleTween(t,Pp(t,r)).on("end.style."+t,qo(t)):typeof e=="function"?this.styleTween(t,Op(t,r,fi(this,"style."+t,e))).each(zp(this._id,t)):this.styleTween(t,$p(t,r,e),n).on("end.style."+t,null)}function kp(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Lp(t,e,n){var r,i;function u(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&kp(t,o,n)),r}return u._value=e,u}function qp(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Lp(t,e,n??""))}function jp(t){return function(){this.textContent=t}}function Up(t){return function(){var e=t(this);this.textContent=e??""}}function Vp(t){return this.tween("text",typeof t=="function"?Up(fi(this,"text",t)):jp(t==null?"":t+""))}function Zp(t){return function(e){this.textContent=t.call(this,e)}}function Hp(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Zp(i)),e}return r._value=t,r}function Wp(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Hp(t))}function Xp(){for(var t=this._name,e=this._id,n=jo(),r=this._groups,i=r.length,u=0;u<i;++u)for(var o=r[u],s=o.length,a,f=0;f<s;++f)if(a=o[f]){var c=oe(a,e);sr(a,t,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ge(r,this._parents,t,n)}function Yp(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(u,o){var s={value:o},a={value:function(){--i===0&&u()}};n.each(function(){var f=le(this,r),c=f.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),f.on=e}),i===0&&u()})}var Gp=0;function ge(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jo(){return++Gp}var De=Dn.prototype;ge.prototype={constructor:ge,select:Np,selectAll:Sp,selectChild:De.selectChild,selectChildren:De.selectChildren,filter:Ap,merge:Cp,selection:Ip,transition:Xp,call:De.call,nodes:De.nodes,node:De.node,size:De.size,empty:De.empty,each:De.each,on:bp,attr:sp,attrTween:hp,style:Rp,styleTween:qp,text:Vp,textTween:Wp,remove:Mp,tween:tp,delay:Dp,duration:vp,ease:yp,easeVarying:Ep,end:Yp,[Symbol.iterator]:De[Symbol.iterator]};function Jp(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Kp={time:null,delay:0,duration:250,ease:Jp};function Qp(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function t1(t){var e,n;t instanceof ge?(e=t._id,t=t._name):(e=jo(),(n=Kp).time=si(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var o=r[u],s=o.length,a,f=0;f<s;++f)(a=o[f])&&sr(a,t,e,f,o,n||Qp(a,e));return new ge(r,this._parents,t,e)}Dn.prototype.interrupt=Jd;Dn.prototype.transition=t1;const Rr=Math.PI,kr=2*Rr,xe=1e-6,e1=kr-xe;function Uo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function n1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Uo;const n=10**e;return function(r){this._+=r[0];for(let i=1,u=r.length;i<u;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class r1{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Uo:n1(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,u,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+u},${this._y1=+o}`}arcTo(e,n,r,i,u){if(e=+e,n=+n,r=+r,i=+i,u=+u,u<0)throw new Error(`negative radius: ${u}`);let o=this._x1,s=this._y1,a=r-e,f=i-n,c=o-e,l=s-n,d=c*c+l*l;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>xe)if(!(Math.abs(l*a-f*c)>xe)||!u)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,y=i-s,h=a*a+f*f,D=p*p+y*y,F=Math.sqrt(h),A=Math.sqrt(d),w=u*Math.tan((Rr-Math.acos((h+d-D)/(2*F*A)))/2),_=w/A,g=w/F;Math.abs(_-1)>xe&&this._append`L${e+_*c},${n+_*l}`,this._append`A${u},${u},0,0,${+(l*p>c*y)},${this._x1=e+g*a},${this._y1=n+g*f}`}}arc(e,n,r,i,u,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),f=e+s,c=n+a,l=1^o,d=o?i-u:u-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>xe||Math.abs(this._y1-c)>xe)&&this._append`L${f},${c}`,r&&(d<0&&(d=d%kr+kr),d>e1?this._append`A${r},${r},0,1,${l},${e-s},${n-a}A${r},${r},0,1,${l},${this._x1=f},${this._y1=c}`:d>xe&&this._append`A${r},${r},0,${+(d>=Rr)},${l},${this._x1=e+r*Math.cos(u)},${this._y1=n+r*Math.sin(u)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function i1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Je(t){return t=Jn(Math.abs(t)),t?t[1]:NaN}function u1(t,e){return function(n,r){for(var i=n.length,u=[],o=0,s=t[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),u.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=t[o=(o+1)%t.length];return u.reverse().join(e)}}function o1(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var s1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kn(t){if(!(e=s1.exec(t)))throw new Error("invalid format: "+t);var e;return new ci({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kn.prototype=ci.prototype;function ci(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ci.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function a1(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Vo;function f1(t,e){var n=Jn(t,e);if(!n)return t+"";var r=n[0],i=n[1],u=i-(Vo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Jn(t,Math.max(0,e+u-1))[0]}function pu(t,e){var n=Jn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Du={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pu(t*100,e),r:pu,s:f1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mu(t){return t}var gu=Array.prototype.map,vu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c1(t){var e=t.grouping===void 0||t.thousands===void 0?mu:u1(gu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?mu:o1(gu.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",a=t.nan===void 0?"NaN":t.nan+"";function f(l){l=Kn(l);var d=l.fill,p=l.align,y=l.sign,h=l.symbol,D=l.zero,F=l.width,A=l.comma,w=l.precision,_=l.trim,g=l.type;g==="n"?(A=!0,g="g"):Du[g]||(w===void 0&&(w=12),_=!0,g="g"),(D||d==="0"&&p==="=")&&(D=!0,d="0",p="=");var m=h==="$"?n:h==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",E=h==="$"?r:/[%p]/.test(g)?o:"",x=Du[g],b=/[defgprs%]/.test(g);w=w===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(B){var z=m,j=E,H,Z,R;if(g==="c")j=x(B)+j,B="";else{B=+B;var X=B<0||1/B<0;if(B=isNaN(B)?a:x(Math.abs(B),w),_&&(B=a1(B)),X&&+B==0&&y!=="+"&&(X=!1),z=(X?y==="("?y:s:y==="-"||y==="("?"":y)+z,j=(g==="s"?vu[8+Vo/3]:"")+j+(X&&y==="("?")":""),b){for(H=-1,Z=B.length;++H<Z;)if(R=B.charCodeAt(H),48>R||R>57){j=(R===46?i+B.slice(H+1):B.slice(H))+j,B=B.slice(0,H);break}}}A&&!D&&(B=e(B,1/0));var Y=z.length+B.length+j.length,W=Y<F?new Array(F-Y+1).join(d):"";switch(A&&D&&(B=e(W+B,W.length?F-j.length:1/0),W=""),p){case"<":B=z+B+j+W;break;case"=":B=z+W+B+j;break;case"^":B=W.slice(0,Y=W.length>>1)+z+B+j+W.slice(Y);break;default:B=W+z+B+j;break}return u(B)}return T.toString=function(){return l+""},T}function c(l,d){var p=f((l=Kn(l),l.type="f",l)),y=Math.max(-8,Math.min(8,Math.floor(Je(d)/3)))*3,h=Math.pow(10,-y),D=vu[8+y/3];return function(F){return p(h*F)+D}}return{format:f,formatPrefix:c}}var xn,Zo,Ho;l1({thousands:",",grouping:[3],currency:["$",""]});function l1(t){return xn=c1(t),Zo=xn.format,Ho=xn.formatPrefix,xn}function h1(t){return Math.max(0,-Je(Math.abs(t)))}function d1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Je(e)/3)))*3-Je(Math.abs(t)))}function p1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Je(e)-Je(t))+1}function D1(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function m1(t){return function(){return t}}function g1(t){return+t}var wu=[0,1];function je(t){return t}function Lr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:m1(isNaN(e)?NaN:.5)}function v1(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function w1(t,e,n){var r=t[0],i=t[1],u=e[0],o=e[1];return i<r?(r=Lr(i,r),u=n(o,u)):(r=Lr(r,i),u=n(u,o)),function(s){return u(r(s))}}function y1(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),u=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Lr(t[o],t[o+1]),u[o]=n(e[o],e[o+1]);return function(s){var a=y0(t,s,1,r)-1;return u[a](i[a](s))}}function F1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function E1(){var t=wu,e=wu,n=oi,r,i,u,o=je,s,a,f;function c(){var d=Math.min(t.length,e.length);return o!==je&&(o=v1(t[0],t[d-1])),s=d>2?y1:w1,a=f=null,l}function l(d){return d==null||isNaN(d=+d)?u:(a||(a=s(t.map(r),e,n)))(r(o(d)))}return l.invert=function(d){return o(i((f||(f=s(e,t.map(r),re)))(d)))},l.domain=function(d){return arguments.length?(t=Array.from(d,g1),c()):t.slice()},l.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},l.rangeRound=function(d){return e=Array.from(d),n=Rd,c()},l.clamp=function(d){return arguments.length?(o=d?!0:je,c()):o!==je},l.interpolate=function(d){return arguments.length?(n=d,c()):n},l.unknown=function(d){return arguments.length?(u=d,l):u},function(d,p){return r=d,i=p,c()}}function A1(){return E1()(je,je)}function C1(t,e,n,r){var i=_0(t,e,n),u;switch(r=Kn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(u=d1(i,o))&&(r.precision=u),Ho(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=p1(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=h1(i))&&(r.precision=u-(r.type==="%")*2);break}}return Zo(r)}function _1(t){var e=t.domain;return t.ticks=function(n){var r=e();return C0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return C1(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,u=r.length-1,o=r[i],s=r[u],a,f,c=10;for(s<o&&(f=o,o=s,s=f,f=i,i=u,u=f);c-- >0;){if(f=Mr(o,s,n),f===a)return r[i]=o,r[u]=s,e(r);if(f>0)o=Math.floor(o/f)*f,s=Math.ceil(s/f)*f;else if(f<0)o=Math.ceil(o*f)/f,s=Math.floor(s*f)/f;else break;a=f}return t},t}function qr(){var t=A1();return t.copy=function(){return F1(t,qr())},D1.apply(t,arguments),_1(t)}function Le(t){return function(){return t}}function x1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new r1(e)}function b1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wo(t){this._context=t}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function B1(t){return new Wo(t)}function M1(t){return t[0]}function N1(t){return t[1]}function yu(t,e){var n=Le(!0),r=null,i=B1,u=null,o=x1(s);t=typeof t=="function"?t:t===void 0?M1:Le(t),e=typeof e=="function"?e:e===void 0?N1:Le(e);function s(a){var f,c=(a=b1(a)).length,l,d=!1,p;for(r==null&&(u=i(p=o())),f=0;f<=c;++f)!(f<c&&n(l=a[f],f,a))===d&&((d=!d)?u.lineStart():u.lineEnd()),d&&u.point(+t(l,f,a),+e(l,f,a));if(p)return u=null,p+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Le(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Le(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(u=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=u=null:u=i(r=a),s):r},s}function sn(t,e,n){this.k=t,this.x=e,this.y=n}sn.prototype={constructor:sn,scale:function(t){return t===1?this:new sn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new sn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};sn.prototype;const S1=()=>{const{patternPoints:t,xCB:e}=ei(),n=Wt.useRef(null),r=600,i=250,u={top:20,right:20,bottom:40,left:40};return Wt.useEffect(()=>{if(!n.current||!t.length)return;const o=Dd(n.current);o.selectAll("*").remove();const s=0,a=5,f=-1,c=1,l=(a-s)*.3,d=(c-f)*.3,p=qr().domain([s-l,a+l]).range([u.left,r-u.right]),y=qr().domain([f-d,c+d]).range([i-u.bottom,u.top]);o.append("g").attr("transform","translate(0,"+i+")").call(T0(p)),o.append("g").attr("transform","translate("+u.left+",0)").call(I0(y));const h=yu().x(F=>p(F.x)).y(F=>y(F.r));o.append("path").datum(t).attr("fill","none").attr("stroke",nn[300]).attr("stroke-width",2).attr("stroke-dasharray","4 2").attr("d",h);const D=yu().x(F=>p(F.x)).y(F=>y(F.nr));o.append("path").datum(t).attr("fill","none").attr("stroke",nn[300]).attr("stroke-width",2).attr("stroke-dasharray","4 2").attr("d",D),o.append("g").selectAll("circle").data(t).enter().append("circle").attr("cx",F=>p(F.x)).attr("cy",F=>y(F.nr)).attr("r",2).attr("fill",nn[500]),o.append("g").selectAll("circle").data(t).enter().append("circle").attr("cx",F=>p(F.x)).attr("cy",F=>y(F.r)).attr("r",2).attr("fill",nn[500]),o.append("circle").attr("cx",p(e)).attr("cy",y(0)).attr("r",2).attr("fill",di[300]),o.append("text").attr("x",p(e)+5).attr("y",y(0)-5).text("xCB").attr("fill",di[300]).attr("font-size","8px")},[t,e]),N.jsx(an,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:N.jsxs(wr,{children:[N.jsx(nt,{variant:"h5",fontWeight:"bold",mb:3,children:"Envelope Pattern Development"}),N.jsx($t,{mb:4,children:N.jsx("svg",{ref:n,width:"100%",height:"600",viewBox:`0 0 ${r} ${i}`,preserveAspectRatio:"xMidYMid meet"})})]})})},Fu=Ts(N.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),T1=({expanded:t})=>{const e=Wt.useRef(null),n=()=>{e.current&&e.current.scrollIntoView({behavior:"smooth",block:"center"})};return N.jsx(Is,{in:t,timeout:"auto",unmountOnExit:!0,onEntered:n,children:N.jsxs(an,{ref:e,sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3,mt:2,textAlign:"center",width:"100%",maxWidth:"1000px",mx:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[N.jsx(nt,{variant:"subtitle1",gutterBottom:!0,children:"Airship Design Calculator"}),N.jsx(nt,{variant:"body2",paragraph:!0,children:"Based on Gertler4621 Shape spreadsheet. Computes shape, volume, center of volume, and patterns for Series58 Model 4621 body."}),N.jsxs(pi,{sx:{backgroundColor:"transparent",borderRadius:2,mb:2,width:"100%"},children:[N.jsx(Di,{expandIcon:N.jsx(Fu,{}),children:N.jsx(nt,{variant:"body2",children:"License"})}),N.jsxs(mi,{children:[N.jsx(nt,{variant:"body2",paragraph:!0,children:N.jsx(Cu,{href:"https://www.gnu.org/licenses/gpl.html",target:"_blank",rel:"noopener noreferrer",children:"GPL"})}),N.jsx(nt,{variant:"body2",paragraph:!0,children:"This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation."}),N.jsx(nt,{variant:"body2",children:"Source spreadsheet and methodology courtesy of Gertler."})]})]}),N.jsxs(pi,{sx:{backgroundColor:"transparent",borderRadius:2,width:"100%"},children:[N.jsx(Di,{expandIcon:N.jsx(Fu,{}),children:N.jsx(nt,{variant:"body2",children:"View Contributors & History"})}),N.jsx(mi,{children:N.jsx(nt,{variant:"body2",component:"div",align:"left",children:N.jsxs("ul",{children:[N.jsx("li",{children:"Gertler 4621 Shape"}),N.jsx("li",{children:"Johannes Eissing, 11.02.2008"}),N.jsx("li",{children:"Martin Zobel, 21.10.2009"}),N.jsx("li",{children:"Johannes Eissing, 23.10.2009"}),N.jsx("li",{children:"Johannes Eissing, 19.11.2019"}),N.jsx("li",{children:"Johannes Eissing, 2016/11/32, added General Public License Agreement"}),N.jsx("li",{children:"Johannes Eissing, 25/11/2019, added coefficient generator"})]})})})]})]})})},I1=()=>{const[t,e]=Wt.useState(!1);return N.jsxs($t,{component:"footer",sx:{textAlign:"center",paddingBottom:2},children:[N.jsxs($t,{sx:{mb:1,display:"flex",justifyContent:"center",alignItems:"center",gap:1},children:[N.jsxs(nt,{variant:"body2",color:"textSecondary",children:[" 2025 Airship Calculator","   "]}),N.jsx(Cu,{component:"button",variant:"body2",onClick:()=>e(n=>!n),children:t?"Hide License & Credits":"License & Credits"})]}),N.jsx(T1,{expanded:t})]})},P1=Wt.lazy(()=>ks(()=>import("./Airship3DView-1a0f91e5.js"),["./Airship3DView-1a0f91e5.js","./mui-990f2ccb.js","./three-b75072f3.js"],import.meta.url)),$1=Wt.memo(d0),O1=Wt.memo(p0),z1=Wt.memo(P1),R1=Wt.memo(S1);function k1(){return console.log("Environment Variables:"),console.log("BASE_URL:","./"),console.log("MODE:","production"),console.log("DEPLOY_URL:",{}.VITE_DEPLOY_URL),N.jsxs(Ps,{sx:{minHeight:"100vh",minWidth:"90vw",bgcolor:"#f9fafb",paddingTop:4},children:[N.jsxs($t,{component:"header",mb:8,textAlign:"center",children:[N.jsx(nt,{variant:"h3",fontWeight:"bold",color:"text.primary",gutterBottom:!0,children:"Airship Design Calculator"}),N.jsx(nt,{variant:"subtitle1",color:"text.secondary",children:"Gertler 4621 Shape Model"})]}),N.jsxs(Ft,{container:!0,columnSpacing:3,rowSpacing:4,mb:2,children:[N.jsxs(Ft,{size:{xs:12,md:12,lg:6},children:[N.jsx($1,{}),N.jsx(an,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:N.jsx(O1,{})})]}),N.jsxs(Ft,{size:{xs:12,md:12,lg:6},children:[N.jsx($t,{mb:4,children:N.jsx(Wt.Suspense,{fallback:N.jsx($s,{}),children:N.jsx(z1,{})})}),N.jsx($t,{mb:4,children:N.jsx(R1,{})})]})]}),N.jsx(Os,{sx:{my:6}}),N.jsx(I1,{})]})}yr.createRoot(document.getElementById("root")).render(N.jsx(Eu.StrictMode,{children:N.jsx(k1,{})}));export{ei as u};
