import{r as Ms,a as Lt,g as Ns,R as xu,_ as bu,j as x,B as yt,T as nt,b as rn,S as Ss,C as ln,c as Ar,G as Et,d as Di,P as En,e as Ts,f as un,h as Is,y as Ps,A as $s,i as gi,k as Hr,l as Os,m as vi,n as wi,o as yi,L as Bu,p as on,D as Rs,q as zs,s as ks,t as js,u as Ls,v as qs,w as Us}from"./mui-54397bca.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();var Cr={},Fi=Ms;Cr.createRoot=Fi.createRoot,Cr.hydrateRoot=Fi.hydrateRoot;const Vs="modulepreload",Ws=function(t,e){return new URL(t,e).href},Ei={},Hs=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=Ws(u,r),u in Ei)return;Ei[u]=!0;const o=u.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const l=i[f];if(l.href===u&&(!o||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Vs,o||(c.as="script",c.crossOrigin=""),c.href=u,document.head.appendChild(c),o)return new Promise((f,l)=>{c.addEventListener("load",f),c.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=u,window.dispatchEvent(o),!o.defaultPrevented)throw u})},Ai=t=>{let e;const n=new Set,r=(a,c)=>{const f=typeof a=="function"?a(e):a;if(!Object.is(f,e)){const l=e;e=c??typeof f!="object"?f:Object.assign({},e,f),n.forEach(h=>h(e,l))}},i=()=>e,s={setState:r,getState:i,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{n.clear()}};return e=t(r,i,s),s},Zs=t=>t?Ai(t):Ai;var Mu={exports:{}},Nu={},Su={exports:{}},Tu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=Lt;function Xs(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ys=typeof Object.is=="function"?Object.is:Xs,Gs=He.useState,Js=He.useEffect,Ks=He.useLayoutEffect,Qs=He.useDebugValue;function ta(t,e){var n=e(),r=Gs({inst:{value:n,getSnapshot:e}}),i=r[0].inst,u=r[1];return Ks(function(){i.value=n,i.getSnapshot=e,dr(i)&&u({inst:i})},[t,n,e]),Js(function(){return dr(i)&&u({inst:i}),t(function(){dr(i)&&u({inst:i})})},[t]),Qs(n),n}function dr(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ys(t,n)}catch{return!0}}function ea(t,e){return e()}var na=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ea:ta;Tu.useSyncExternalStore=He.useSyncExternalStore!==void 0?He.useSyncExternalStore:na;Su.exports=Tu;var ra=Su.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nr=Lt,ia=ra;function ua(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oa=typeof Object.is=="function"?Object.is:ua,sa=ia.useSyncExternalStore,aa=nr.useRef,ca=nr.useEffect,fa=nr.useMemo,la=nr.useDebugValue;Nu.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var u=aa(null);if(u.current===null){var o={hasValue:!1,value:null};u.current=o}else o=u.current;u=fa(function(){function a(p){if(!c){if(c=!0,f=p,p=r(p),i!==void 0&&o.hasValue){var w=o.value;if(i(w,p))return l=w}return l=p}if(w=l,oa(f,p))return w;var d=r(p);return i!==void 0&&i(w,d)?w:(f=p,l=d)}var c=!1,f,l,h=n===void 0?null:n;return[function(){return a(e())},h===null?void 0:function(){return a(h())}]},[e,n,r,i]);var s=sa(t,u[0],u[1]);return ca(function(){o.hasValue=!0,o.value=s},[s]),la(s),s};Mu.exports=Nu;var ha=Mu.exports;const da=Ns(ha),{useDebugValue:pa}=xu,{useSyncExternalStoreWithSelector:ma}=da;function Da(t,e=t.getState,n){const r=ma(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return pa(r),r}const Ci=t=>{const e=typeof t=="function"?Zs(t):t,n=(r,i)=>Da(e,r,i);return Object.assign(n,e),n},ga=t=>t?Ci(t):Ci;var Iu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function va(t,e){if(On(t,e))return t[e];throw typeof t[e]=="function"&&ya(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function wa(t,e,n){if(On(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function On(t,e){return!Fa(t)&&!Array.isArray(t)?!1:zn(Ea,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ya(t,e){return t==null||typeof t[e]!="function"||zn(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:zn(Aa,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Fa(t){return typeof t=="object"&&t&&t.constructor===Object}var Ea={length:!0,name:!0},Aa={toString:!0,valueOf:!0,toLocaleString:!0};class Ca{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return va(this.wrappedObject,e)}set(e,n){return wa(this.wrappedObject,e,n),this}has(e){return On(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return _a(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){On(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function _a(t,e){return{next:()=>{var n=t.next();return n.done?n:{value:e(n.value),done:!1}}}}function mt(t){return typeof t=="number"}function Bt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function xa(t){return typeof t=="bigint"}function Pu(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function $u(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Ou(t){return t&&t.constructor.prototype.isUnit===!0||!1}function ae(t){return typeof t=="string"}var Nt=Array.isArray;function Ct(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Rn(t){return Array.isArray(t)||Ct(t)}function ba(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ba(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ma(t){return t&&t.constructor.prototype.isRange===!0||!1}function Zr(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Na(t){return typeof t=="boolean"}function Sa(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function Ta(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Ia(t){return typeof t=="function"}function Pa(t){return t instanceof Date}function $a(t){return t instanceof RegExp}function Xr(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Pu(t)&&!$u(t))}function Oa(t){return t?t instanceof Map||t instanceof Ca||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function Ra(t){return t===null}function za(t){return t===void 0}function ka(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ja(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function La(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function qa(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ua(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Va(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Wa(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ha(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Za(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xa(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ya(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ga(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ja(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ka(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function Qa(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function tc(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function ec(t){return t&&t.constructor.prototype.isChain===!0||!1}function Ee(t){var e=typeof t;return e==="object"?t===null?"null":Bt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function At(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(n){return At(n)});if(t instanceof Date)return new Date(t.valueOf());if(Bt(t))return t;if(Xr(t))return nc(t,At);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function nc(t,e){var n={};for(var r in t)zn(t,r)&&(n[r]=e(t[r]));return n}function Ze(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!Ze(t[r],e[r]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!Ze(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}else return t===e}}function zn(t,e){return t&&Object.hasOwnProperty.call(t,e)}function rc(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],u=t[i];u!==void 0&&(n[i]=u)}return n}var ic=["Matrix","Array"],uc=["number","BigNumber","Fraction"],gn=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Iu)};bu(gn,Iu,{MATRIX_OPTIONS:ic,NUMBER_OPTIONS:uc});function _i(){return!0}function Kt(){return!1}function ze(){}const xi="Argument is not a typed-function.";function Ru(){function t(v){return typeof v=="object"&&v!==null&&v.constructor===Object}const e=[{name:"number",test:function(v){return typeof v=="number"}},{name:"string",test:function(v){return typeof v=="string"}},{name:"boolean",test:function(v){return typeof v=="boolean"}},{name:"Function",test:function(v){return typeof v=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(v){return v instanceof Date}},{name:"RegExp",test:function(v){return v instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(v){return v===null}},{name:"undefined",test:function(v){return v===void 0}}],n={name:"any",test:_i,isAny:!0};let r,i,u=0,o={createCount:0};function s(v){const E=r.get(v);if(E)return E;let N='Unknown type "'+v+'"';const I=v.toLowerCase();let O;for(O of i)if(O.toLowerCase()===I){N+='. Did you mean "'+O+'" ?';break}throw new TypeError(N)}function a(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=E?s(E).index:i.length,I=[];for(let P=0;P<v.length;++P){if(!v[P]||typeof v[P].name!="string"||typeof v[P].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const U=v[P].name;if(r.has(U))throw new TypeError('Duplicate type name "'+U+'"');I.push(U),r.set(U,{name:U,test:v[P].test,isAny:v[P].isAny,index:N+P,conversionsTo:[]})}const O=i.slice(N);i=i.slice(0,N).concat(I).concat(O);for(let P=N+I.length;P<i.length;++P)r.get(i[P]).index=P}function c(){r=new Map,i=[],u=0,a([n],!1)}c(),a(e);function f(){let v;for(v of i)r.get(v).conversionsTo=[];u=0}function l(v){const E=i.filter(N=>{const I=r.get(N);return!I.isAny&&I.test(v)});return E.length?E:["any"]}function h(v){return v&&typeof v=="function"&&"_typedFunctionData"in v}function p(v,E,N){if(!h(v))throw new TypeError(xi);const I=N&&N.exact,O=Array.isArray(E)?E.join(","):E,P=_(O),U=m(P);if(!I||U in v.signatures){const at=v._typedFunctionData.signatureMap.get(U);if(at)return at}const k=P.length;let V;if(I){V=[];let at;for(at in v.signatures)V.push(v._typedFunctionData.signatureMap.get(at))}else V=v._typedFunctionData.signatures;for(let at=0;at<k;++at){const dt=P[at],xt=[];let qt;for(qt of V){const jt=b(qt.params,at);if(!(!jt||dt.restParam&&!jt.restParam)){if(!jt.hasAny){const ee=y(jt);if(dt.types.some(ne=>!ee.has(ne.name)))continue}xt.push(qt)}}if(V=xt,V.length===0)break}let R;for(R of V)if(R.params.length<=k)return R;throw new TypeError("Signature not found (signature: "+(v.name||"unnamed")+"("+m(P,", ")+"))")}function w(v,E,N){return p(v,E,N).implementation}function d(v,E){const N=s(E);if(N.test(v))return v;const I=N.conversionsTo;if(I.length===0)throw new Error("There are no conversions to "+E+" defined.");for(let O=0;O<I.length;O++)if(s(I[O].from).test(v))return I[O].convert(v);throw new Error("Cannot convert "+v+" to "+E)}function m(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return v.map(N=>N.name).join(E)}function F(v){const E=v.indexOf("...")===0,I=(E?v.length>3?v.slice(3):"any":v).split("|").map(k=>s(k.trim()));let O=!1,P=E?"...":"";return{types:I.map(function(k){return O=k.isAny||O,P+=k.name+"|",{name:k.name,typeIndex:k.index,test:k.test,isAny:k.isAny,conversion:null,conversionIndex:-1}}),name:P.slice(0,-1),hasAny:O,hasConversion:!1,restParam:E}}function C(v){const E=v.types.map(U=>U.name),N=J(E);let I=v.hasAny,O=v.name;const P=N.map(function(U){const k=s(U.from);return I=k.isAny||I,O+="|"+U.from,{name:U.from,typeIndex:k.index,test:k.test,isAny:k.isAny,conversion:U,conversionIndex:U.index}});return{types:v.types.concat(P),name:O,hasAny:I,hasConversion:P.length>0,restParam:v.restParam}}function y(v){return v.typeSet||(v.typeSet=new Set,v.types.forEach(E=>v.typeSet.add(E.name))),v.typeSet}function _(v){const E=[];if(typeof v!="string")throw new TypeError("Signatures must be strings");const N=v.trim();if(N==="")return E;const I=N.split(",");for(let O=0;O<I.length;++O){const P=F(I[O].trim());if(P.restParam&&O!==I.length-1)throw new SyntaxError('Unexpected rest parameter "'+I[O]+'": only allowed for the last parameter');if(P.types.length===0)return null;E.push(P)}return E}function g(v){const E=ft(v);return E?E.restParam:!1}function D(v){if(!v||v.types.length===0)return _i;if(v.types.length===1)return s(v.types[0].name).test;if(v.types.length===2){const E=s(v.types[0].name).test,N=s(v.types[1].name).test;return function(O){return E(O)||N(O)}}else{const E=v.types.map(function(N){return s(N.name).test});return function(I){for(let O=0;O<E.length;O++)if(E[O](I))return!0;return!1}}}function A(v){let E,N,I;if(g(v)){E=kt(v).map(D);const O=E.length,P=D(ft(v)),U=function(k){for(let V=O;V<k.length;V++)if(!P(k[V]))return!1;return!0};return function(V){for(let R=0;R<E.length;R++)if(!E[R](V[R]))return!1;return U(V)&&V.length>=O+1}}else return v.length===0?function(P){return P.length===0}:v.length===1?(N=D(v[0]),function(P){return N(P[0])&&P.length===1}):v.length===2?(N=D(v[0]),I=D(v[1]),function(P){return N(P[0])&&I(P[1])&&P.length===2}):(E=v.map(D),function(P){for(let U=0;U<E.length;U++)if(!E[U](P[U]))return!1;return P.length===E.length})}function b(v,E){return E<v.length?v[E]:g(v)?ft(v):null}function B(v,E){const N=b(v,E);return N?y(N):new Set}function T(v){return v.conversion===null||v.conversion===void 0}function M(v,E){const N=new Set;return v.forEach(I=>{const O=B(I.params,E);let P;for(P of O)N.add(P)}),N.has("any")?["any"]:Array.from(N)}function j(v,E,N){let I,O;const P=v||"unnamed";let U=N,k;for(k=0;k<E.length;k++){const dt=[];if(U.forEach(xt=>{const qt=b(xt.params,k),jt=D(qt);(k<xt.params.length||g(xt.params))&&jt(E[k])&&dt.push(xt)}),dt.length===0){if(O=M(U,k),O.length>0){const xt=l(E[k]);return I=new TypeError("Unexpected type of argument in function "+P+" (expected: "+O.join(" or ")+", actual: "+xt.join(" | ")+", index: "+k+")"),I.data={category:"wrongType",fn:P,index:k,actual:xt,expected:O},I}}else U=dt}const V=U.map(function(dt){return g(dt.params)?1/0:dt.params.length});if(E.length<Math.min.apply(null,V))return O=M(U,k),I=new TypeError("Too few arguments in function "+P+" (expected: "+O.join(" or ")+", index: "+E.length+")"),I.data={category:"tooFewArgs",fn:P,index:E.length,expected:O},I;const R=Math.max.apply(null,V);if(E.length>R)return I=new TypeError("Too many arguments in function "+P+" (expected: "+R+", actual: "+E.length+")"),I.data={category:"tooManyArgs",fn:P,index:E.length,expectedLength:R},I;const at=[];for(let dt=0;dt<E.length;++dt)at.push(l(E[dt]).join("|"));return I=new TypeError('Arguments of type "'+at.join(", ")+'" do not match any of the defined signatures of function '+P+"."),I.data={category:"mismatch",actual:at},I}function q(v){let E=i.length+1;for(let N=0;N<v.types.length;N++)T(v.types[N])&&(E=Math.min(E,v.types[N].typeIndex));return E}function Z(v){let E=u+1;for(let N=0;N<v.types.length;N++)T(v.types[N])||(E=Math.min(E,v.types[N].conversionIndex));return E}function W(v,E){if(v.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(v.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(v.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;const N=q(v)-q(E);if(N<0)return-1;if(N>0)return 1;const I=Z(v)-Z(E);return I<0?-1:I>0?1:0}function z(v,E){const N=v.params,I=E.params,O=ft(N),P=ft(I),U=g(N),k=g(I);if(U&&O.hasAny){if(!k||!P.hasAny)return 1}else if(k&&P.hasAny)return-1;let V=0,R=0,at;for(at of N)at.hasAny&&++V,at.hasConversion&&++R;let dt=0,xt=0;for(at of I)at.hasAny&&++dt,at.hasConversion&&++xt;if(V!==dt)return V-dt;if(U&&O.hasConversion){if(!k||!P.hasConversion)return 1}else if(k&&P.hasConversion)return-1;if(R!==xt)return R-xt;if(U){if(!k)return 1}else if(k)return-1;const qt=(N.length-I.length)*(U?-1:1);if(qt!==0)return qt;const jt=[];let ee=0;for(let Re=0;Re<N.length;++Re){const yn=W(N[Re],I[Re]);jt.push(yn),ee+=yn}if(ee!==0)return ee;let ne;for(ne of jt)if(ne!==0)return ne;return 0}function J(v){if(v.length===0)return[];const E=v.map(s);v.length>1&&E.sort((O,P)=>O.index-P.index);let N=E[0].conversionsTo;if(v.length===1)return N;N=N.concat([]);const I=new Set(v);for(let O=1;O<E.length;++O){let P;for(P of E[O].conversionsTo)I.has(P.from)||(N.push(P),I.add(P.from))}return N}function X(v,E){let N=E;if(v.some(O=>O.hasConversion)){const O=g(v),P=v.map(H);N=function(){const k=[],V=O?arguments.length-1:arguments.length;for(let R=0;R<V;R++)k[R]=P[R](arguments[R]);return O&&(k[V]=arguments[V].map(P[V])),E.apply(this,k)}}let I=N;if(g(v)){const O=v.length-1;I=function(){return N.apply(this,st(arguments,0,O).concat([st(arguments,O)]))}}return I}function H(v){let E,N,I,O;const P=[],U=[];switch(v.types.forEach(function(k){k.conversion&&(P.push(s(k.conversion.from).test),U.push(k.conversion.convert))}),U.length){case 0:return function(V){return V};case 1:return E=P[0],I=U[0],function(V){return E(V)?I(V):V};case 2:return E=P[0],N=P[1],I=U[0],O=U[1],function(V){return E(V)?I(V):N(V)?O(V):V};default:return function(V){for(let R=0;R<U.length;R++)if(P[R](V))return U[R](V);return V}}}function et(v){function E(N,I,O){if(I<N.length){const P=N[I];let U=[];if(P.restParam){const k=P.types.filter(T);k.length<P.types.length&&U.push({types:k,name:"..."+k.map(V=>V.name).join("|"),hasAny:k.some(V=>V.isAny),hasConversion:!1,restParam:!0}),U.push(P)}else U=P.types.map(function(k){return{types:[k],name:k.name,hasAny:k.isAny,hasConversion:k.conversion,restParam:!1}});return $t(U,function(k){return E(N,I+1,O.concat([k]))})}else return[O]}return E(v,0,[])}function ot(v,E){const N=Math.max(v.length,E.length);for(let k=0;k<N;k++){const V=B(v,k),R=B(E,k);let at=!1,dt;for(dt of R)if(V.has(dt)){at=!0;break}if(!at)return!1}const I=v.length,O=E.length,P=g(v),U=g(E);return P?U?I===O:O>=I:U?I>=O:I===O}function it(v){return v.map(E=>pe(E)?Jt(E.referToSelf.callback):de(E)?It(E.referTo.references,E.referTo.callback):E)}function ct(v,E,N){const I=[];let O;for(O of v){let P=N[O];if(typeof P!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(P=E[P],typeof P!="function")return!1;I.push(P)}return I}function _t(v,E,N){const I=it(v),O=new Array(I.length).fill(!1);let P=!0;for(;P;){P=!1;let U=!0;for(let k=0;k<I.length;++k){if(O[k])continue;const V=I[k];if(pe(V))I[k]=V.referToSelf.callback(N),I[k].referToSelf=V.referToSelf,O[k]=!0,U=!1;else if(de(V)){const R=ct(V.referTo.references,I,E);R?(I[k]=V.referTo.callback.apply(this,R),I[k].referTo=V.referTo,O[k]=!0,U=!1):P=!0}}if(U&&P)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return I}function Ft(v){const E=/\bthis(\(|\.signatures\b)/;Object.keys(v).forEach(N=>{const I=v[N];if(E.test(I.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function vt(v,E){if(o.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Ft(E);const N=[],I=[],O={},P=[];let U;for(U in E){if(!Object.prototype.hasOwnProperty.call(E,U))continue;const ut=_(U);if(!ut)continue;N.forEach(function(en){if(ot(en,ut))throw new TypeError('Conflicting signatures "'+m(en)+'" and "'+m(ut)+'".')}),N.push(ut);const Ut=I.length;I.push(E[U]);const bs=ut.map(C);let Fn;for(Fn of et(bs)){const en=m(Fn);P.push({params:Fn,name:en,fn:Ut}),Fn.every(Bs=>!Bs.hasConversion)&&(O[en]=Ut)}}P.sort(z);const k=_t(I,O,tn);let V;for(V in O)Object.prototype.hasOwnProperty.call(O,V)&&(O[V]=k[O[V]]);const R=[],at=new Map;for(V of P)at.has(V.name)||(V.fn=k[V.fn],R.push(V),at.set(V.name,V));const dt=R[0]&&R[0].params.length<=2&&!g(R[0].params),xt=R[1]&&R[1].params.length<=2&&!g(R[1].params),qt=R[2]&&R[2].params.length<=2&&!g(R[2].params),jt=R[3]&&R[3].params.length<=2&&!g(R[3].params),ee=R[4]&&R[4].params.length<=2&&!g(R[4].params),ne=R[5]&&R[5].params.length<=2&&!g(R[5].params),Re=dt&&xt&&qt&&jt&&ee&&ne;for(let ut=0;ut<R.length;++ut)R[ut].test=A(R[ut].params);const yn=dt?D(R[0].params[0]):Kt,Qo=xt?D(R[1].params[0]):Kt,ts=qt?D(R[2].params[0]):Kt,es=jt?D(R[3].params[0]):Kt,ns=ee?D(R[4].params[0]):Kt,rs=ne?D(R[5].params[0]):Kt,is=dt?D(R[0].params[1]):Kt,us=xt?D(R[1].params[1]):Kt,os=qt?D(R[2].params[1]):Kt,ss=jt?D(R[3].params[1]):Kt,as=ee?D(R[4].params[1]):Kt,cs=ne?D(R[5].params[1]):Kt;for(let ut=0;ut<R.length;++ut)R[ut].implementation=X(R[ut].params,R[ut].fn);const fs=dt?R[0].implementation:ze,ls=xt?R[1].implementation:ze,hs=qt?R[2].implementation:ze,ds=jt?R[3].implementation:ze,ps=ee?R[4].implementation:ze,ms=ne?R[5].implementation:ze,Ds=dt?R[0].params.length:-1,gs=xt?R[1].params.length:-1,vs=qt?R[2].params.length:-1,ws=jt?R[3].params.length:-1,ys=ee?R[4].params.length:-1,Fs=ne?R[5].params.length:-1,Es=Re?6:0,As=R.length,Cs=R.map(ut=>ut.test),_s=R.map(ut=>ut.implementation),xs=function(){for(let Ut=Es;Ut<As;Ut++)if(Cs[Ut](arguments))return _s[Ut].apply(this,arguments);return o.onMismatch(v,arguments,R)};function tn(ut,Ut){return arguments.length===Ds&&yn(ut)&&is(Ut)?fs.apply(this,arguments):arguments.length===gs&&Qo(ut)&&us(Ut)?ls.apply(this,arguments):arguments.length===vs&&ts(ut)&&os(Ut)?hs.apply(this,arguments):arguments.length===ws&&es(ut)&&ss(Ut)?ds.apply(this,arguments):arguments.length===ys&&ns(ut)&&as(Ut)?ps.apply(this,arguments):arguments.length===Fs&&rs(ut)&&cs(Ut)?ms.apply(this,arguments):xs.apply(this,arguments)}try{Object.defineProperty(tn,"name",{value:v})}catch{}return tn.signatures=O,tn._typedFunctionData={signatures:R,signatureMap:at},tn}function pt(v,E,N){throw j(v,E,N)}function kt(v){return st(v,0,v.length-1)}function ft(v){return v[v.length-1]}function st(v,E,N){return Array.prototype.slice.call(v,E,N)}function Gt(v,E){for(let N=0;N<v.length;N++)if(E(v[N]))return v[N]}function $t(v,E){return Array.prototype.concat.apply([],v.map(E))}function lt(){const v=kt(arguments).map(N=>m(_(N))),E=ft(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return It(v,E)}function It(v,E){return{referTo:{references:v,callback:E}}}function Jt(v){if(typeof v!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:v}}}function de(v){return v&&typeof v.referTo=="object"&&Array.isArray(v.referTo.references)&&typeof v.referTo.callback=="function"}function pe(v){return v&&typeof v.referToSelf=="object"&&typeof v.referToSelf.callback=="function"}function $e(v,E){if(!v)return E;if(E&&E!==v){const N=new Error("Function names do not match (expected: "+v+", actual: "+E+")");throw N.data={actual:E,expected:v},N}return v}function Oe(v){let E;for(const N in v)Object.prototype.hasOwnProperty.call(v,N)&&(h(v[N])||typeof v[N].signature=="string")&&(E=$e(E,v[N].name));return E}function hr(v,E){let N;for(N in E)if(Object.prototype.hasOwnProperty.call(E,N)){if(N in v&&E[N]!==v[N]){const I=new Error('Signature "'+N+'" is defined twice');throw I.data={signature:N,sourceFunction:E[N],destFunction:v[N]},I}v[N]=E[N]}}const Ko=o;o=function(v){const E=typeof v=="string",N=E?1:0;let I=E?v:"";const O={};for(let P=N;P<arguments.length;++P){const U=arguments[P];let k={},V;if(typeof U=="function"?(V=U.name,typeof U.signature=="string"?k[U.signature]=U:h(U)&&(k=U.signatures)):t(U)&&(k=U,E||(V=Oe(U))),Object.keys(k).length===0){const R=new TypeError("Argument to 'typed' at index "+P+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw R.data={index:P,argument:U},R}E||(I=$e(I,V)),hr(O,k)}return vt(I||"",O)},o.create=Ru,o.createCount=Ko.createCount,o.onMismatch=pt,o.throwMismatchError=pt,o.createError=j,o.clear=c,o.clearConversions=f,o.addTypes=a,o._findType=s,o.referTo=lt,o.referToSelf=Jt,o.convert=d,o.findSignature=p,o.find=w,o.isTypedFunction=h,o.warnAgainstDeprecatedThis=!0,o.addType=function(v,E){let N="any";E!==!1&&r.has("Object")&&(N="Object"),o.addTypes([v],N)};function mi(v){if(!v||typeof v.from!="string"||typeof v.to!="string"||typeof v.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(v.to===v.from)throw new SyntaxError('Illegal to define conversion from "'+v.from+'" to itself.')}return o.addConversion=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};mi(v);const N=s(v.to),I=N.conversionsTo.find(O=>O.from===v.from);if(I)if(E&&E.override)o.removeConversion({from:I.from,to:v.to,convert:I.convert});else throw new Error('There is already a conversion from "'+v.from+'" to "'+N.name+'"');N.conversionsTo.push({from:v.from,convert:v.convert,index:u++})},o.addConversions=function(v,E){v.forEach(N=>o.addConversion(N,E))},o.removeConversion=function(v){mi(v);const E=s(v.to),N=Gt(E.conversionsTo,O=>O.from===v.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+v.from+" to "+v.to);if(N.convert!==v.convert)throw new Error("Conversion to remove does not match existing conversion");const I=E.conversionsTo.indexOf(N);E.conversionsTo.splice(I,1)},o.resolve=function(v,E){if(!h(v))throw new TypeError(xi);const N=v._typedFunctionData.signatures;for(let I=0;I<N.length;++I)if(N[I].test(E))return N[I];return null},o}const kn=Ru();function rt(t,e,n,r){function i(u){var o=rc(u,e.map(ac));return oc(t,e,u),n(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function oc(t,e,n){var r=e.filter(u=>!sc(u)).every(u=>n[u]!==void 0);if(!r){var i=e.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function sc(t){return t&&t[0]==="?"}function ac(t){return t&&t[0]==="?"?t.slice(1):t}function Tt(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function pr(t,e,n){var r={2:"0b",8:"0o",16:"0x"},i=r[e],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Tt(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Tt(t))throw new Error("Value must be an integer");t<0&&(t=t+2**n),u="i".concat(n)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(u)}function _r(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:n,precision:r,wordSize:i}=zu(e);switch(n){case"fixed":return fc(t,r);case"exponential":return ku(t,r);case"engineering":return cc(t,r);case"bin":return pr(t,2,i);case"oct":return pr(t,8,i);case"hex":return pr(t,16,i);case"auto":return lc(t,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function zu(t){var e="auto",n,r;if(t!==void 0)if(mt(t))n=t;else if(Bt(t))n=t.toNumber();else if(Xr(t))t.precision!==void 0&&(n=bi(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(r=bi(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:r}}function rr(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),u=r.indexOf(".");i+=u!==-1?u-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function cc(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=rr(t),r=ir(n,e),i=r.exponent,u=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(mt(e))for(;e>u.length||i-o+1>u.length;)u.push(0);else for(var s=Math.abs(i-o)-(u.length-1),a=0;a<s;a++)u.push(0);for(var c=Math.abs(i-o),f=1;c>0;)f++,c--;var l=u.slice(f).join(""),h=mt(e)&&l.length||l.match(/[1-9]/)?"."+l:"",p=u.slice(0,f).join("")+h+"e"+(i>=0?"+":"")+o.toString();return r.sign+p}function fc(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=rr(t),r=typeof e=="number"?ir(n,n.exponent+1+e):n,i=r.coefficients,u=r.exponent+1,o=u+(e||0);return i.length<o&&(i=i.concat(Ve(o-i.length))),u<0&&(i=Ve(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),r.sign+i.join("")}function ku(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=rr(t),r=e?ir(n,e):n,i=r.coefficients,u=r.exponent;i.length<e&&(i=i.concat(Ve(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function lc(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=Bi(n?.lowerExp,-3),i=Bi(n?.upperExp,5),u=rr(t),o=e?ir(u,e):u;if(o.exponent<r||o.exponent>=i)return ku(t,e);var s=o.coefficients,a=o.exponent;s.length<e&&(s=s.concat(Ve(e-s.length))),s=s.concat(Ve(a-s.length+1+(s.length<e?e-s.length:0))),s=Ve(-a).concat(s);var c=a>0?a:0;return c<s.length-1&&s.splice(c+1,0,"."),o.sign+s.join("")}function ir(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var u=e-1;for(r[u]++;r[u]===10;)r.pop(),u===0&&(r.unshift(0),n.exponent++,u++),u--,r[u]++}}return n}function Ve(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function hc(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function jn(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(n*Math.max(Math.abs(t),Math.abs(e)),r)}function bi(t,e){if(mt(t))return t;if(Bt(t))return t.toNumber();e()}function Bi(t,e){return mt(t)?t:Bt(t)?t.toNumber():e}var ju=function(){return ju=kn.create,kn},dc=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],pc=rt("typed",dc,function(e){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:u}=e,o=ju();return o.clear(),o.addTypes([{name:"number",test:mt},{name:"Complex",test:Pu},{name:"BigNumber",test:Bt},{name:"bigint",test:xa},{name:"Fraction",test:$u},{name:"Unit",test:Ou},{name:"identifier",test:s=>ae&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:ae},{name:"Chain",test:ec},{name:"Array",test:Nt},{name:"Matrix",test:Ct},{name:"DenseMatrix",test:ba},{name:"SparseMatrix",test:Ba},{name:"Range",test:Ma},{name:"Index",test:Zr},{name:"boolean",test:Na},{name:"ResultSet",test:Sa},{name:"Help",test:Ta},{name:"function",test:Ia},{name:"Date",test:Pa},{name:"RegExp",test:$a},{name:"null",test:Ra},{name:"undefined",test:za},{name:"AccessorNode",test:ka},{name:"ArrayNode",test:ja},{name:"AssignmentNode",test:La},{name:"BlockNode",test:qa},{name:"ConditionalNode",test:Ua},{name:"ConstantNode",test:Va},{name:"FunctionNode",test:Ha},{name:"FunctionAssignmentNode",test:Wa},{name:"IndexNode",test:Za},{name:"Node",test:Xa},{name:"ObjectNode",test:Ya},{name:"OperatorNode",test:Ga},{name:"ParenthesisNode",test:Ja},{name:"RangeNode",test:Ka},{name:"RelationalNode",test:Qa},{name:"SymbolNode",test:tc},{name:"Map",test:Oa},{name:"Object",test:Xr}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(a){if(n||An(a),hc(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+a+"). Use function bignumber(x) to convert to BigNumber.");return new n(a)}},{from:"number",to:"Complex",convert:function(a){return r||Cn(a),new r(a,0)}},{from:"BigNumber",to:"Complex",convert:function(a){return r||Cn(a),new r(a.toNumber(),0)}},{from:"bigint",to:"number",convert:function(a){if(a>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+a+")");return Number(a)}},{from:"bigint",to:"BigNumber",convert:function(a){return n||An(a),new n(a.toString())}},{from:"bigint",to:"Fraction",convert:function(a){return u||_n(a),new u(a)}},{from:"Fraction",to:"BigNumber",convert:function(a){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(a){return r||Cn(a),new r(a.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(a){u||_n(a);var c=new u(a);if(c.valueOf()!==a)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+a+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(a){var c=Number(a);if(isNaN(c))throw new Error('Cannot convert "'+a+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(a){n||An(a);try{return new n(a)}catch{throw new Error('Cannot convert "'+a+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(a){try{return BigInt(a)}catch{throw new Error('Cannot convert "'+a+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(a){u||_n(a);try{return new u(a)}catch{throw new Error('Cannot convert "'+a+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(a){r||Cn(a);try{return new r(a)}catch{throw new Error('Cannot convert "'+a+'" to Complex')}}},{from:"boolean",to:"number",convert:function(a){return+a}},{from:"boolean",to:"BigNumber",convert:function(a){return n||An(a),new n(+a)}},{from:"boolean",to:"bigint",convert:function(a){return BigInt(+a)}},{from:"boolean",to:"Fraction",convert:function(a){return u||_n(a),new u(+a)}},{from:"boolean",to:"string",convert:function(a){return String(a)}},{from:"Array",to:"Matrix",convert:function(a){return i||mc(),new i(a)}},{from:"Matrix",to:"Array",convert:function(a){return a.valueOf()}}]),o.onMismatch=(s,a,c)=>{var f=o.createError(s,a,c);if(["wrongType","mismatch"].includes(f.data.category)&&a.length===1&&Rn(a[0])&&c.some(h=>!h.params.includes(","))){var l=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw l.data=f.data,l}throw f},o.onMismatch=(s,a,c)=>{var f=o.createError(s,a,c);if(["wrongType","mismatch"].includes(f.data.category)&&a.length===1&&Rn(a[0])&&c.some(h=>!h.params.includes(","))){var l=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw l.data=f.data,l}throw f},o});function An(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Cn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function mc(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function _n(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var qe=9e15,Ce=1e9,xr="0123456789abcdef",Ln="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",qn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",br={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-qe,maxE:qe,crypto:!1},Lu,ge,Q=!0,ur="[DecimalError] ",Ae=ur+"Invalid argument: ",qu=ur+"Precision limit exceeded",Uu=ur+"crypto unavailable",Vu="[object Decimal]",zt=Math.floor,St=Math.pow,Dc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,gc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,vc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Wu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oe=1e7,K=7,wc=9007199254740991,yc=Ln.length-1,Br=qn.length-1,$={toStringTag:Vu};$.absoluteValue=$.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),G(t)};$.ceil=function(){return G(new this.constructor(this),this.e+1,2)};$.clampedTo=$.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ae+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};$.comparedTo=$.cmp=function(t){var e,n,r,i,u=this,o=u.d,s=(t=new u.constructor(t)).d,a=u.s,c=t.s;if(!o||!s)return!a||!c?NaN:a!==c?a:o===s?0:!o^a<0?1:-1;if(!o[0]||!s[0])return o[0]?a:s[0]?-c:0;if(a!==c)return a;if(u.e!==t.e)return u.e>t.e^a<0?1:-1;for(r=o.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(o[e]!==s[e])return o[e]>s[e]^a<0?1:-1;return r===i?0:r>i^a<0?1:-1};$.cosine=$.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+K,r.rounding=1,n=Fc(r,Gu(r,n)),r.precision=t,r.rounding=e,G(ge==2||ge==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};$.cubeRoot=$.cbrt=function(){var t,e,n,r,i,u,o,s,a,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(Q=!1,u=f.s*St(f.s*f,1/3),!u||Math.abs(u)==1/0?(n=Ot(f.d),t=f.e,(u=(t-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=St(n,1/3),t=zt((t+1)/3)-(t%3==(t<0?-1:2)),u==1/0?n="5e"+t:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new l(n),r.s=f.s):r=new l(u.toString()),o=(t=l.precision)+3;;)if(s=r,a=s.times(s).times(s),c=a.plus(f),r=ht(c.plus(f).times(s),c.plus(a),o+2,1),Ot(s.d).slice(0,o)===(n=Ot(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(G(s,t+1,0),s.times(s).times(s).eq(f))){r=s;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(G(r,t+1,1),e=!r.times(r).times(r).eq(f));break}return Q=!0,G(r,t,l.rounding,e)};$.decimalPlaces=$.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-zt(this.e/K))*K,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};$.dividedBy=$.div=function(t){return ht(this,new this.constructor(t))};$.dividedToIntegerBy=$.divToInt=function(t){var e=this,n=e.constructor;return G(ht(e,new n(t),0,1,1),n.precision,n.rounding)};$.equals=$.eq=function(t){return this.cmp(t)===0};$.floor=function(){return G(new this.constructor(this),this.e+1,3)};$.greaterThan=$.gt=function(t){return this.cmp(t)>0};$.greaterThanOrEqualTo=$.gte=function(t){var e=this.cmp(t);return e==1||e===0};$.hyperbolicCosine=$.cosh=function(){var t,e,n,r,i,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(t=Math.ceil(i/3),e=(1/sr(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),u=Xe(o,1,u.times(e),new o(1),!0);for(var a,c=t,f=new o(8);c--;)a=u.times(u),u=s.minus(a.times(f.minus(a.times(f))));return G(u,o.precision=n,o.rounding=r,!0)};$.hyperbolicSine=$.sinh=function(){var t,e,n,r,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(e=u.precision,n=u.rounding,u.precision=e+Math.max(i.e,i.sd())+4,u.rounding=1,r=i.d.length,r<3)i=Xe(u,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/sr(5,t)),i=Xe(u,2,i,i,!0);for(var o,s=new u(5),a=new u(16),c=new u(20);t--;)o=i.times(i),i=i.times(s.plus(o.times(a.times(o).plus(c))))}return u.precision=e,u.rounding=n,G(i,e,n,!0)};$.hyperbolicTangent=$.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,ht(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};$.inverseCosine=$.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),r=e.precision,i=e.rounding;return n!==-1?n===0?t.isNeg()?ce(e,r,i):new e(0):new e(NaN):t.isZero()?ce(e,r+4,i).times(.5):(e.precision=r+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=r,e.rounding=i,t.times(2))};$.inverseHyperbolicCosine=$.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Q=!1,n=n.times(n).minus(1).sqrt().plus(n),Q=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};$.inverseHyperbolicSine=$.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Q=!1,n=n.times(n).plus(1).sqrt().plus(n),Q=!0,r.precision=t,r.rounding=e,n.ln())};$.inverseHyperbolicTangent=$.atanh=function(){var t,e,n,r,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=u.precision,e=u.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?G(new u(i),t,e,!0):(u.precision=n=r-i.e,i=ht(i.plus(1),new u(1).minus(i),n+t,1),u.precision=t+4,u.rounding=1,i=i.ln(),u.precision=t,u.rounding=e,i.times(.5))):new u(NaN)};$.inverseSine=$.asin=function(){var t,e,n,r,i=this,u=i.constructor;return i.isZero()?new u(i):(e=i.abs().cmp(1),n=u.precision,r=u.rounding,e!==-1?e===0?(t=ce(u,n+4,r).times(.5),t.s=i.s,t):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=r,i.times(2)))};$.inverseTangent=$.atan=function(){var t,e,n,r,i,u,o,s,a,c=this,f=c.constructor,l=f.precision,h=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=Br)return o=ce(f,l+4,h).times(.25),o.s=c.s,o}else{if(!c.s)return new f(NaN);if(l+4<=Br)return o=ce(f,l+4,h).times(.5),o.s=c.s,o}for(f.precision=s=l+10,f.rounding=1,n=Math.min(28,s/K+2|0),t=n;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Q=!1,e=Math.ceil(s/K),r=1,a=c.times(c),o=new f(c),i=c;t!==-1;)if(i=i.times(a),u=o.minus(i.div(r+=2)),i=i.times(a),o=u.plus(i.div(r+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===u.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),Q=!0,G(o,f.precision=l,f.rounding=h,!0)};$.isFinite=function(){return!!this.d};$.isInteger=$.isInt=function(){return!!this.d&&zt(this.e/K)>this.d.length-2};$.isNaN=function(){return!this.s};$.isNegative=$.isNeg=function(){return this.s<0};$.isPositive=$.isPos=function(){return this.s>0};$.isZero=function(){return!!this.d&&this.d[0]===0};$.lessThan=$.lt=function(t){return this.cmp(t)<0};$.lessThanOrEqualTo=$.lte=function(t){return this.cmp(t)<1};$.logarithm=$.log=function(t){var e,n,r,i,u,o,s,a,c=this,f=c.constructor,l=f.precision,h=f.rounding,p=5;if(t==null)t=new f(10),e=!0;else{if(t=new f(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new f(NaN);e=t.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new f(n&&!n[0]?-1/0:c.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)u=!0;else{for(i=n[0];i%10===0;)i/=10;u=i!==1}if(Q=!1,s=l+p,o=Fe(c,s),r=e?Un(f,s+10):Fe(t,s),a=ht(o,r,s,1),hn(a.d,i=l,h))do if(s+=10,o=Fe(c,s),r=e?Un(f,s+10):Fe(t,s),a=ht(o,r,s,1),!u){+Ot(a.d).slice(i+1,i+15)+1==1e14&&(a=G(a,l+1,0));break}while(hn(a.d,i+=10,h));return Q=!0,G(a,l,h)};$.minus=$.sub=function(t){var e,n,r,i,u,o,s,a,c,f,l,h,p=this,w=p.constructor;if(t=new w(t),!p.d||!t.d)return!p.s||!t.s?t=new w(NaN):p.d?t.s=-t.s:t=new w(t.d||p.s!==t.s?p:NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(c=p.d,h=t.d,s=w.precision,a=w.rounding,!c[0]||!h[0]){if(h[0])t.s=-t.s;else if(c[0])t=new w(p);else return new w(a===3?-0:0);return Q?G(t,s,a):t}if(n=zt(t.e/K),f=zt(p.e/K),c=c.slice(),u=f-n,u){for(l=u<0,l?(e=c,u=-u,o=h.length):(e=h,n=f,o=c.length),r=Math.max(Math.ceil(s/K),o)+2,u>r&&(u=r,e.length=1),e.reverse(),r=u;r--;)e.push(0);e.reverse()}else{for(r=c.length,o=h.length,l=r<o,l&&(o=r),r=0;r<o;r++)if(c[r]!=h[r]){l=c[r]<h[r];break}u=0}for(l&&(e=c,c=h,h=e,t.s=-t.s),o=c.length,r=h.length-o;r>0;--r)c[o++]=0;for(r=h.length;r>u;){if(c[--r]<h[r]){for(i=r;i&&c[--i]===0;)c[i]=oe-1;--c[i],c[r]+=oe}c[r]-=h[r]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=or(c,n),Q?G(t,s,a):t):new w(a===3?-0:0)};$.modulo=$.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?G(new r(n),r.precision,r.rounding):(Q=!1,r.modulo==9?(e=ht(n,t.abs(),0,3,1),e.s*=t.s):e=ht(n,t,0,r.modulo,1),e=e.times(t),Q=!0,n.minus(e))};$.naturalExponential=$.exp=function(){return Mr(this)};$.naturalLogarithm=$.ln=function(){return Fe(this)};$.negated=$.neg=function(){var t=new this.constructor(this);return t.s=-t.s,G(t)};$.plus=$.add=function(t){var e,n,r,i,u,o,s,a,c,f,l=this,h=l.constructor;if(t=new h(t),!l.d||!t.d)return!l.s||!t.s?t=new h(NaN):l.d||(t=new h(t.d||l.s===t.s?l:NaN)),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(c=l.d,f=t.d,s=h.precision,a=h.rounding,!c[0]||!f[0])return f[0]||(t=new h(l)),Q?G(t,s,a):t;if(u=zt(l.e/K),r=zt(t.e/K),c=c.slice(),i=u-r,i){for(i<0?(n=c,i=-i,o=f.length):(n=f,r=u,o=c.length),u=Math.ceil(s/K),o=u>o?u+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=f.length,o-i<0&&(i=o,n=f,f=c,c=n),e=0;i;)e=(c[--i]=c[i]+f[i]+e)/oe|0,c[i]%=oe;for(e&&(c.unshift(e),++r),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=or(c,r),Q?G(t,s,a):t};$.precision=$.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ae+t);return n.d?(e=Hu(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};$.round=function(){var t=this,e=t.constructor;return G(new e(t),t.e+1,e.rounding)};$.sine=$.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+K,r.rounding=1,n=Ac(r,Gu(r,n)),r.precision=t,r.rounding=e,G(ge>2?n.neg():n,t,e,!0)):new r(NaN)};$.squareRoot=$.sqrt=function(){var t,e,n,r,i,u,o=this,s=o.d,a=o.e,c=o.s,f=o.constructor;if(c!==1||!s||!s[0])return new f(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(Q=!1,c=Math.sqrt(+o),c==0||c==1/0?(e=Ot(s),(e.length+a)%2==0&&(e+="0"),c=Math.sqrt(e),a=zt((a+1)/2)-(a<0||a%2),c==1/0?e="5e"+a:(e=c.toExponential(),e=e.slice(0,e.indexOf("e")+1)+a),r=new f(e)):r=new f(c.toString()),n=(a=f.precision)+3;;)if(u=r,r=u.plus(ht(o,u,n+2,1)).times(.5),Ot(u.d).slice(0,n)===(e=Ot(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(G(u,a+1,0),u.times(u).eq(o))){r=u;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(G(r,a+1,1),t=!r.times(r).eq(o));break}return Q=!0,G(r,a,f.rounding,t)};$.tangent=$.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=ht(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,G(ge==2||ge==4?n.neg():n,t,e,!0)):new r(NaN)};$.times=$.mul=function(t){var e,n,r,i,u,o,s,a,c,f=this,l=f.constructor,h=f.d,p=(t=new l(t)).d;if(t.s*=f.s,!h||!h[0]||!p||!p[0])return new l(!t.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:!h||!p?t.s/0:t.s*0);for(n=zt(f.e/K)+zt(t.e/K),a=h.length,c=p.length,a<c&&(u=h,h=p,p=u,o=a,a=c,c=o),u=[],o=a+c,r=o;r--;)u.push(0);for(r=c;--r>=0;){for(e=0,i=a+r;i>r;)s=u[i]+p[r]*h[i-r-1]+e,u[i--]=s%oe|0,e=s/oe|0;u[i]=(u[i]+e)%oe|0}for(;!u[--o];)u.pop();return e?++n:u.shift(),t.d=u,t.e=or(u,n),Q?G(t,l.precision,l.rounding):t};$.toBinary=function(t,e){return Yr(this,2,t,e)};$.toDecimalPlaces=$.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Zt(t,0,Ce),e===void 0?e=r.rounding:Zt(e,0,8),G(n,t+n.e+1,e))};$.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=le(r,!0):(Zt(t,0,Ce),e===void 0?e=i.rounding:Zt(e,0,8),r=G(new i(r),t+1,e),n=le(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};$.toFixed=function(t,e){var n,r,i=this,u=i.constructor;return t===void 0?n=le(i):(Zt(t,0,Ce),e===void 0?e=u.rounding:Zt(e,0,8),r=G(new u(i),t+i.e+1,e),n=le(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};$.toFraction=function(t){var e,n,r,i,u,o,s,a,c,f,l,h,p=this,w=p.d,d=p.constructor;if(!w)return new d(p);if(c=n=new d(1),r=a=new d(0),e=new d(r),u=e.e=Hu(w)-p.e-1,o=u%K,e.d[0]=St(10,o<0?K+o:o),t==null)t=u>0?e:c;else{if(s=new d(t),!s.isInt()||s.lt(c))throw Error(Ae+s);t=s.gt(e)?u>0?e:c:s}for(Q=!1,s=new d(Ot(w)),f=d.precision,d.precision=u=w.length*K*2;l=ht(s,e,0,1,1),i=n.plus(l.times(r)),i.cmp(t)!=1;)n=r,r=i,i=c,c=a.plus(l.times(i)),a=i,i=e,e=s.minus(l.times(i)),s=i;return i=ht(t.minus(n),r,0,1,1),a=a.plus(i.times(c)),n=n.plus(i.times(r)),a.s=c.s=p.s,h=ht(c,r,u,1).minus(p).abs().cmp(ht(a,n,u,1).minus(p).abs())<1?[c,r]:[a,n],d.precision=f,Q=!0,h};$.toHexadecimal=$.toHex=function(t,e){return Yr(this,16,t,e)};$.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:Zt(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Q=!1,n=ht(n,t,0,e,1).times(t),Q=!0,G(n)):(t.s=n.s,n=t),n};$.toNumber=function(){return+this};$.toOctal=function(t,e){return Yr(this,8,t,e)};$.toPower=$.pow=function(t){var e,n,r,i,u,o,s=this,a=s.constructor,c=+(t=new a(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new a(St(+s,c));if(s=new a(s),s.eq(1))return s;if(r=a.precision,u=a.rounding,t.eq(1))return G(s,r,u);if(e=zt(t.e/K),e>=t.d.length-1&&(n=c<0?-c:c)<=wc)return i=Zu(a,s,n,r),t.s<0?new a(1).div(i):G(i,r,u);if(o=s.s,o<0){if(e<t.d.length-1)return new a(NaN);if(t.d[e]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return n=St(+s,c),e=n==0||!isFinite(n)?zt(c*(Math.log("0."+Ot(s.d))/Math.LN10+s.e+1)):new a(n+"").e,e>a.maxE+1||e<a.minE-1?new a(e>0?o/0:0):(Q=!1,a.rounding=s.s=1,n=Math.min(12,(e+"").length),i=Mr(t.times(Fe(s,r+n)),r),i.d&&(i=G(i,r+5,1),hn(i.d,r,u)&&(e=r+10,i=G(Mr(t.times(Fe(s,e+n)),e),e+5,1),+Ot(i.d).slice(r+1,r+15)+1==1e14&&(i=G(i,r+1,0)))),i.s=o,Q=!0,a.rounding=u,G(i,r,u))};$.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=le(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Zt(t,1,Ce),e===void 0?e=i.rounding:Zt(e,0,8),r=G(new i(r),t,e),n=le(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};$.toSignificantDigits=$.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Zt(t,1,Ce),e===void 0?e=r.rounding:Zt(e,0,8)),G(new r(n),t,e)};$.toString=function(){var t=this,e=t.constructor,n=le(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};$.truncated=$.trunc=function(){return G(new this.constructor(this),this.e+1,1)};$.valueOf=$.toJSON=function(){var t=this,e=t.constructor,n=le(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function Ot(t){var e,n,r,i=t.length-1,u="",o=t[0];if(i>0){for(u+=o,e=1;e<i;e++)r=t[e]+"",n=K-r.length,n&&(u+=ye(n)),u+=r;o=t[e],r=o+"",n=K-r.length,n&&(u+=ye(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function Zt(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ae+t)}function hn(t,e,n,r){var i,u,o,s;for(u=t[0];u>=10;u/=10)--e;return--e<0?(e+=K,i=0):(i=Math.ceil((e+1)/K),e%=K),u=St(10,K-e),s=t[i]%u|0,r==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),o=n<4&&s==99999||n>3&&s==49999||s==5e4||s==0):o=(n<4&&s+1==u||n>3&&s+1==u/2)&&(t[i+1]/u/100|0)==St(10,e-2)-1||(s==u/2||s==0)&&(t[i+1]/u/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),o=(r||n<4)&&s==9999||!r&&n>3&&s==4999):o=((r||n<4)&&s+1==u||!r&&n>3&&s+1==u/2)&&(t[i+1]/u/1e3|0)==St(10,e-3)-1,o}function Nn(t,e,n){for(var r,i=[0],u,o=0,s=t.length;o<s;){for(u=i.length;u--;)i[u]*=e;for(i[0]+=xr.indexOf(t.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Fc(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/sr(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=Xe(t,1,e.times(i),new t(1));for(var u=n;u--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}var ht=function(){function t(r,i,u){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%u|0,s=o/u|0;return s&&r.unshift(s),r}function e(r,i,u,o){var s,a;if(u!=o)a=u>o?1:-1;else for(s=a=0;s<u;s++)if(r[s]!=i[s]){a=r[s]>i[s]?1:-1;break}return a}function n(r,i,u,o){for(var s=0;u--;)r[u]-=s,s=r[u]<i[u]?1:0,r[u]=s*o+r[u]-i[u];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,u,o,s,a){var c,f,l,h,p,w,d,m,F,C,y,_,g,D,A,b,B,T,M,j,q=r.constructor,Z=r.s==i.s?1:-1,W=r.d,z=i.d;if(!W||!W[0]||!z||!z[0])return new q(!r.s||!i.s||(W?z&&W[0]==z[0]:!z)?NaN:W&&W[0]==0||!z?Z*0:Z/0);for(a?(p=1,f=r.e-i.e):(a=oe,p=K,f=zt(r.e/p)-zt(i.e/p)),M=z.length,B=W.length,F=new q(Z),C=F.d=[],l=0;z[l]==(W[l]||0);l++);if(z[l]>(W[l]||0)&&f--,u==null?(D=u=q.precision,o=q.rounding):s?D=u+(r.e-i.e)+1:D=u,D<0)C.push(1),w=!0;else{if(D=D/p+2|0,l=0,M==1){for(h=0,z=z[0],D++;(l<B||h)&&D--;l++)A=h*a+(W[l]||0),C[l]=A/z|0,h=A%z|0;w=h||l<B}else{for(h=a/(z[0]+1)|0,h>1&&(z=t(z,h,a),W=t(W,h,a),M=z.length,B=W.length),b=M,y=W.slice(0,M),_=y.length;_<M;)y[_++]=0;j=z.slice(),j.unshift(0),T=z[0],z[1]>=a/2&&++T;do h=0,c=e(z,y,M,_),c<0?(g=y[0],M!=_&&(g=g*a+(y[1]||0)),h=g/T|0,h>1?(h>=a&&(h=a-1),d=t(z,h,a),m=d.length,_=y.length,c=e(d,y,m,_),c==1&&(h--,n(d,M<m?j:z,m,a))):(h==0&&(c=h=1),d=z.slice()),m=d.length,m<_&&d.unshift(0),n(y,d,_,a),c==-1&&(_=y.length,c=e(z,y,M,_),c<1&&(h++,n(y,M<_?j:z,_,a))),_=y.length):c===0&&(h++,y=[0]),C[l++]=h,c&&y[0]?y[_++]=W[b]||0:(y=[W[b]],_=1);while((b++<B||y[0]!==void 0)&&D--);w=y[0]!==void 0}C[0]||C.shift()}if(p==1)F.e=f,Lu=w;else{for(l=1,h=C[0];h>=10;h/=10)l++;F.e=l+f*p-1,G(F,s?u+F.e+1:u,o,w)}return F}}();function G(t,e,n,r){var i,u,o,s,a,c,f,l,h,p=t.constructor;t:if(e!=null){if(l=t.d,!l)return t;for(i=1,s=l[0];s>=10;s/=10)i++;if(u=e-i,u<0)u+=K,o=e,f=l[h=0],a=f/St(10,i-o-1)%10|0;else if(h=Math.ceil((u+1)/K),s=l.length,h>=s)if(r){for(;s++<=h;)l.push(0);f=a=0,i=1,u%=K,o=u-K+1}else break t;else{for(f=s=l[h],i=1;s>=10;s/=10)i++;u%=K,o=u-K+i,a=o<0?0:f/St(10,i-o-1)%10|0}if(r=r||e<0||l[h+1]!==void 0||(o<0?f:f%St(10,i-o-1)),c=n<4?(a||r)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||r||n==6&&(u>0?o>0?f/St(10,i-o):0:l[h-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,c?(e-=t.e+1,l[0]=St(10,(K-e%K)%K),t.e=-e||0):l[0]=t.e=0,t;if(u==0?(l.length=h,s=1,h--):(l.length=h+1,s=St(10,K-u),l[h]=o>0?(f/St(10,i-o)%St(10,o)|0)*s:0),c)for(;;)if(h==0){for(u=1,o=l[0];o>=10;o/=10)u++;for(o=l[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(t.e++,l[0]==oe&&(l[0]=1));break}else{if(l[h]+=s,l[h]!=oe)break;l[h--]=0,s=1}for(u=l.length;l[--u]===0;)l.pop()}return Q&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function le(t,e,n){if(!t.isFinite())return Yu(t);var r,i=t.e,u=Ot(t.d),o=u.length;return e?(n&&(r=n-o)>0?u=u.charAt(0)+"."+u.slice(1)+ye(r):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(t.e<0?"e":"e+")+t.e):i<0?(u="0."+ye(-i-1)+u,n&&(r=n-o)>0&&(u+=ye(r))):i>=o?(u+=ye(i+1-o),n&&(r=n-i-1)>0&&(u=u+"."+ye(r))):((r=i+1)<o&&(u=u.slice(0,r)+"."+u.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(u+="."),u+=ye(r))),u}function or(t,e){var n=t[0];for(e*=K;n>=10;n/=10)e++;return e}function Un(t,e,n){if(e>yc)throw Q=!0,n&&(t.precision=n),Error(qu);return G(new t(Ln),e,1,!0)}function ce(t,e,n){if(e>Br)throw Error(qu);return G(new t(qn),e,n,!0)}function Hu(t){var e=t.length-1,n=e*K+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ye(t){for(var e="";t--;)e+="0";return e}function Zu(t,e,n,r){var i,u=new t(1),o=Math.ceil(r/K+4);for(Q=!1;;){if(n%2&&(u=u.times(e),Ni(u.d,o)&&(i=!0)),n=zt(n/2),n===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}e=e.times(e),Ni(e.d,o)}return Q=!0,u}function Mi(t){return t.d[t.d.length-1]&1}function Xu(t,e,n){for(var r,i,u=new t(e[0]),o=0;++o<e.length;){if(i=new t(e[o]),!i.s){u=i;break}r=u.cmp(i),(r===n||r===0&&u.s===n)&&(u=i)}return u}function Mr(t,e){var n,r,i,u,o,s,a,c=0,f=0,l=0,h=t.constructor,p=h.rounding,w=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(Q=!1,a=w):a=e,s=new h(.03125);t.e>-2;)t=t.times(s),l+=5;for(r=Math.log(St(2,l))/Math.LN10*2+5|0,a+=r,n=u=o=new h(1),h.precision=a;;){if(u=G(u.times(t),a,1),n=n.times(++f),s=o.plus(ht(u,n,a,1)),Ot(s.d).slice(0,a)===Ot(o.d).slice(0,a)){for(i=l;i--;)o=G(o.times(o),a,1);if(e==null)if(c<3&&hn(o.d,a-r,p,c))h.precision=a+=10,n=u=s=new h(1),f=0,c++;else return G(o,h.precision=w,p,Q=!0);else return h.precision=w,o}o=s}}function Fe(t,e){var n,r,i,u,o,s,a,c,f,l,h,p=1,w=10,d=t,m=d.d,F=d.constructor,C=F.rounding,y=F.precision;if(d.s<0||!m||!m[0]||!d.e&&m[0]==1&&m.length==1)return new F(m&&!m[0]?-1/0:d.s!=1?NaN:m?0:d);if(e==null?(Q=!1,f=y):f=e,F.precision=f+=w,n=Ot(m),r=n.charAt(0),Math.abs(u=d.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=Ot(d.d),r=n.charAt(0),p++;u=d.e,r>1?(d=new F("0."+n),u++):d=new F(r+"."+n.slice(1))}else return c=Un(F,f+2,y).times(u+""),d=Fe(new F(r+"."+n.slice(1)),f-w).plus(c),F.precision=y,e==null?G(d,y,C,Q=!0):d;for(l=d,a=o=d=ht(d.minus(1),d.plus(1),f,1),h=G(d.times(d),f,1),i=3;;){if(o=G(o.times(h),f,1),c=a.plus(ht(o,new F(i),f,1)),Ot(c.d).slice(0,f)===Ot(a.d).slice(0,f))if(a=a.times(2),u!==0&&(a=a.plus(Un(F,f+2,y).times(u+""))),a=ht(a,new F(p),f,1),e==null)if(hn(a.d,f-w,C,s))F.precision=f+=w,c=o=d=ht(l.minus(1),l.plus(1),f,1),h=G(d.times(d),f,1),i=s=1;else return G(a,F.precision=y,C,Q=!0);else return F.precision=y,a;a=c,i+=2}}function Yu(t){return String(t.s*t.s/0)}function Sn(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%K,n<0&&(r+=K),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=K;r<i;)t.d.push(+e.slice(r,r+=K));e=e.slice(r),r=K-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Q&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Ec(t,e){var n,r,i,u,o,s,a,c,f;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Wu.test(e))return Sn(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(gc.test(e))n=16,e=e.toLowerCase();else if(Dc.test(e))n=2;else if(vc.test(e))n=8;else throw Error(Ae+e);for(u=e.search(/p/i),u>0?(a=+e.slice(u+1),e=e.substring(2,u)):e=e.slice(2),u=e.indexOf("."),o=u>=0,r=t.constructor,o&&(e=e.replace(".",""),s=e.length,u=s-u,i=Zu(r,new r(n),u,u*2)),c=Nn(e,n,oe),f=c.length-1,u=f;c[u]===0;--u)c.pop();return u<0?new r(t.s*0):(t.e=or(c,f),t.d=c,Q=!1,o&&(t=ht(t,i,s*4)),a&&(t=t.times(Math.abs(a)<54?St(2,a):Ye.pow(2,a))),Q=!0,t)}function Ac(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Xe(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/sr(5,n)),e=Xe(t,2,e,e);for(var i,u=new t(5),o=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(u.plus(i.times(o.times(i).minus(s))));return e}function Xe(t,e,n,r,i){var u,o,s,a,c=t.precision,f=Math.ceil(c/K);for(Q=!1,a=n.times(n),s=new t(r);;){if(o=ht(s.times(a),new t(e++*e++),c,1),s=i?r.plus(o):r.minus(o),r=ht(o.times(a),new t(e++*e++),c,1),o=s.plus(r),o.d[f]!==void 0){for(u=f;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=r,r=o,o=u}return Q=!0,o.d.length=f+1,o}function sr(t,e){for(var n=t;--e;)n*=t;return n}function Gu(t,e){var n,r=e.s<0,i=ce(t,t.precision,1),u=i.times(.5);if(e=e.abs(),e.lte(u))return ge=r?4:1,e;if(n=e.divToInt(i),n.isZero())ge=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(u))return ge=Mi(n)?r?2:3:r?4:1,e;ge=Mi(n)?r?1:4:r?3:2}return e.minus(i).abs()}function Yr(t,e,n,r){var i,u,o,s,a,c,f,l,h,p=t.constructor,w=n!==void 0;if(w?(Zt(n,1,Ce),r===void 0?r=p.rounding:Zt(r,0,8)):(n=p.precision,r=p.rounding),!t.isFinite())f=Yu(t);else{for(f=le(t),o=f.indexOf("."),w?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,o>=0&&(f=f.replace(".",""),h=new p(1),h.e=f.length-o,h.d=Nn(le(h),10,i),h.e=h.d.length),l=Nn(f,10,i),u=a=l.length;l[--a]==0;)l.pop();if(!l[0])f=w?"0p+0":"0";else{if(o<0?u--:(t=new p(t),t.d=l,t.e=u,t=ht(t,h,n,r,0,i),l=t.d,u=t.e,c=Lu),o=l[n],s=i/2,c=c||l[n+1]!==void 0,c=r<4?(o!==void 0||c)&&(r===0||r===(t.s<0?3:2)):o>s||o===s&&(r===4||c||r===6&&l[n-1]&1||r===(t.s<0?8:7)),l.length=n,c)for(;++l[--n]>i-1;)l[n]=0,n||(++u,l.unshift(1));for(a=l.length;!l[a-1];--a);for(o=0,f="";o<a;o++)f+=xr.charAt(l[o]);if(w){if(a>1)if(e==16||e==8){for(o=e==16?4:3,--a;a%o;a++)f+="0";for(l=Nn(f,i,e),a=l.length;!l[a-1];--a);for(o=1,f="1.";o<a;o++)f+=xr.charAt(l[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)f="0"+f;f="0."+f}else if(++u>a)for(u-=a;u--;)f+="0";else u<a&&(f=f.slice(0,u)+"."+f.slice(u))}f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}return t.s<0?"-"+f:f}function Ni(t,e){if(t.length>e)return t.length=e,!0}function Cc(t){return new this(t).abs()}function _c(t){return new this(t).acos()}function xc(t){return new this(t).acosh()}function bc(t,e){return new this(t).plus(e)}function Bc(t){return new this(t).asin()}function Mc(t){return new this(t).asinh()}function Nc(t){return new this(t).atan()}function Sc(t){return new this(t).atanh()}function Tc(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,u=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=ce(this,u,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?ce(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=ce(this,u,1).times(.5),n.s=t.s):e.s<0?(this.precision=u,this.rounding=1,n=this.atan(ht(t,e,u,1)),e=ce(this,u,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(ht(t,e,u,1)),n}function Ic(t){return new this(t).cbrt()}function Pc(t){return G(t=new this(t),t.e+1,2)}function $c(t,e,n){return new this(t).clamp(e,n)}function Oc(t){if(!t||typeof t!="object")throw Error(ur+"Object expected");var e,n,r,i=t.defaults===!0,u=["precision",1,Ce,"rounding",0,8,"toExpNeg",-qe,0,"toExpPos",0,qe,"maxE",0,qe,"minE",-qe,0,"modulo",0,9];for(e=0;e<u.length;e+=3)if(n=u[e],i&&(this[n]=br[n]),(r=t[n])!==void 0)if(zt(r)===r&&r>=u[e+1]&&r<=u[e+2])this[n]=r;else throw Error(Ae+n+": "+r);if(n="crypto",i&&(this[n]=br[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Uu);else this[n]=!1;else throw Error(Ae+n+": "+r);return this}function Rc(t){return new this(t).cos()}function zc(t){return new this(t).cosh()}function Ju(t){var e,n,r;function i(u){var o,s,a,c=this;if(!(c instanceof i))return new i(u);if(c.constructor=i,Si(u)){c.s=u.s,Q?!u.d||u.e>i.maxE?(c.e=NaN,c.d=null):u.e<i.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(a=typeof u,a==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;Q?o>i.maxE?(c.e=NaN,c.d=null):o<i.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[u]):(c.e=o,c.d=[u]);return}if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return Sn(c,u.toString())}if(a==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(s===43&&(u=u.slice(1)),c.s=1),Wu.test(u)?Sn(c,u):Ec(c,u);if(a==="bigint")return u<0?(u=-u,c.s=-1):c.s=1,Sn(c,u.toString());throw Error(Ae+u)}if(i.prototype=$,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Oc,i.clone=Ju,i.isDecimal=Si,i.abs=Cc,i.acos=_c,i.acosh=xc,i.add=bc,i.asin=Bc,i.asinh=Mc,i.atan=Nc,i.atanh=Sc,i.atan2=Tc,i.cbrt=Ic,i.ceil=Pc,i.clamp=$c,i.cos=Rc,i.cosh=zc,i.div=kc,i.exp=jc,i.floor=Lc,i.hypot=qc,i.ln=Uc,i.log=Vc,i.log10=Hc,i.log2=Wc,i.max=Zc,i.min=Xc,i.mod=Yc,i.mul=Gc,i.pow=Jc,i.random=Kc,i.round=Qc,i.sign=tf,i.sin=ef,i.sinh=nf,i.sqrt=rf,i.sub=uf,i.sum=of,i.tan=sf,i.tanh=af,i.trunc=cf,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function kc(t,e){return new this(t).div(e)}function jc(t){return new this(t).exp()}function Lc(t){return G(t=new this(t),t.e+1,3)}function qc(){var t,e,n=new this(0);for(Q=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Q=!0,new this(1/0);n=e}return Q=!0,n.sqrt()}function Si(t){return t instanceof Ye||t&&t.toStringTag===Vu||!1}function Uc(t){return new this(t).ln()}function Vc(t,e){return new this(t).log(e)}function Wc(t){return new this(t).log(2)}function Hc(t){return new this(t).log(10)}function Zc(){return Xu(this,arguments,-1)}function Xc(){return Xu(this,arguments,1)}function Yc(t,e){return new this(t).mod(e)}function Gc(t,e){return new this(t).mul(e)}function Jc(t,e){return new this(t).pow(e)}function Kc(t){var e,n,r,i,u=0,o=new this(1),s=[];if(t===void 0?t=this.precision:Zt(t,1,Ce),r=Math.ceil(t/K),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));u<r;)i=e[u],i>=429e7?e[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);u<r;)i=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+((e[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,u):(s.push(i%1e7),u+=4);u=r/4}else throw Error(Uu);else for(;u<r;)s[u++]=Math.random()*1e7|0;for(r=s[--u],t%=K,r&&t&&(i=St(10,K-t),s[u]=(r/i|0)*i);s[u]===0;u--)s.pop();if(u<0)n=0,s=[0];else{for(n=-1;s[0]===0;n-=K)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<K&&(n-=K-r)}return o.e=n,o.d=s,o}function Qc(t){return G(t=new this(t),t.e+1,this.rounding)}function tf(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function ef(t){return new this(t).sin()}function nf(t){return new this(t).sinh()}function rf(t){return new this(t).sqrt()}function uf(t,e){return new this(t).sub(e)}function of(){var t=0,e=arguments,n=new this(e[t]);for(Q=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return Q=!0,G(n,this.precision,this.rounding)}function sf(t){return new this(t).tan()}function af(t){return new this(t).tanh()}function cf(t){return G(t=new this(t),t.e+1,1)}$[Symbol.for("nodejs.util.inspect.custom")]=$.toString;$[Symbol.toStringTag]="Decimal";var Ye=$.constructor=Ju(br);Ln=new Ye(Ln);qn=new Ye(qn);var ff="BigNumber",lf=["?on","config"],hf=rt(ff,lf,t=>{var{on:e,config:n}=t,r=Ye.clone({precision:n.precision,modulo:Ye.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,u){i.precision!==u.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Rt=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Qt=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},df=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},mr=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},ke=function(){throw SyntaxError("Invalid Param")};function Dr(t,e){const n=Math.abs(t),r=Math.abs(e);return t===0?Math.log(r):e===0?Math.log(n):n<3e3&&r<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const pf={re:0,im:0},xe=function(t,e){const n=pf;if(t==null)n.re=n.im=0;else if(e!==void 0)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return S.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return S.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else t.length===2?(n.re=t[0],n.im=t[1]):ke();break;case"string":n.im=n.re=0;const r=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;r===null&&ke();for(let o=0;o<r.length;o++){const s=r[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?u++:s==="i"||s==="I"?(i+u===0&&ke(),r[o+1]!==" "&&!isNaN(r[o+1])?(n.im+=parseFloat((u%2?"-":"")+r[o+1]),o++):n.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(s))&&ke(),r[o+1]==="i"||r[o+1]==="I"?(n.im+=parseFloat((u%2?"-":"")+s),o++):n.re+=parseFloat((u%2?"-":"")+s),i=u=0))}i+u>0&&ke();break;case"number":n.im=0,n.re=t;break;default:ke()}return isNaN(n.re)||isNaN(n.im),n};function S(t,e){if(!(this instanceof S))return new S(t,e);const n=xe(t,e);this.re=n.re,this.im=n.im}S.prototype={re:0,im:0,sign:function(){const t=mr(this.re,this.im);return new S(this.re/t,this.im/t)},add:function(t,e){const n=xe(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?S.NAN:S.INFINITY:new S(this.re+n.re,this.im+n.im)},sub:function(t,e){const n=xe(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?S.NAN:S.INFINITY:new S(this.re-n.re,this.im-n.im)},mul:function(t,e){const n=xe(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;return r&&o||i&&u?S.NAN:r||i?S.INFINITY:n.im===0&&this.im===0?new S(this.re*n.re,0):new S(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){const n=xe(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;if(u&&o||r&&i)return S.NAN;if(o||r)return S.INFINITY;if(u||i)return S.ZERO;if(n.im===0)return new S(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const s=n.re/n.im,a=n.re*s+n.im;return new S((this.re*s+this.im)/a,(this.im*s-this.re)/a)}else{const s=n.im/n.re,a=n.im*s+n.re;return new S((this.re+this.im*s)/a,(this.im-this.re*s)/a)}},pow:function(t,e){const n=xe(t,e),r=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return S.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new S(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new S(Math.pow(this.im,n.re),0);case 1:return new S(0,Math.pow(this.im,n.re));case 2:return new S(-Math.pow(this.im,n.re),0);case 3:return new S(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return S.ZERO;const u=Math.atan2(this.im,this.re),o=Dr(this.re,this.im);let s=Math.exp(n.re*o-n.im*u),a=n.im*o+n.re*u;return new S(s*Math.cos(a),s*Math.sin(a))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new S(Math.sqrt(t),0):new S(0,Math.sqrt(-t));const n=mr(t,e);let r=Math.sqrt(.5*(n+Math.abs(t))),i=Math.abs(e)/(2*r);return t>=0?new S(r,e<0?-i:i):new S(i,e<0?-r:r)},exp:function(){const t=Math.exp(this.re);return this.im===0?new S(t,0):new S(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new S(Math.expm1(t)*Math.cos(e)+df(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new S(Math.log(t),0):new S(Dr(t,e),Math.atan2(e,t))},abs:function(){return mr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new S(Math.sin(t)*Rt(e),Math.cos(t)*Qt(e))},cos:function(){const t=this.re,e=this.im;return new S(Math.cos(t)*Rt(e),-Math.sin(t)*Qt(e))},tan:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)+Rt(e);return new S(Math.sin(t)/n,Qt(e)/n)},cot:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)-Rt(e);return new S(-Math.sin(t)/n,Qt(e)/n)},sec:function(){const t=this.re,e=this.im,n=.5*Rt(2*e)+.5*Math.cos(2*t);return new S(Math.cos(t)*Rt(e)/n,Math.sin(t)*Qt(e)/n)},csc:function(){const t=this.re,e=this.im,n=.5*Rt(2*e)-.5*Math.cos(2*t);return new S(Math.sin(t)*Rt(e)/n,-Math.cos(t)*Qt(e)/n)},asin:function(){const t=this.re,e=this.im,n=new S(e*e-t*t+1,-2*t*e).sqrt(),r=new S(n.re-e,n.im+t).log();return new S(r.im,-r.re)},acos:function(){const t=this.re,e=this.im,n=new S(e*e-t*t+1,-2*t*e).sqrt(),r=new S(n.re-e,n.im+t).log();return new S(Math.PI/2-r.im,r.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new S(0,1/0);if(e===-1)return new S(0,-1/0)}const n=t*t+(1-e)*(1-e),r=new S((1-e*e-t*t)/n,-2*t/n).log();return new S(-.5*r.im,.5*r.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new S(Math.atan2(1,t),0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).atan():new S(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new S(0,1/0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).acos():new S(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new S(Math.PI/2,1/0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).asin():new S(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new S(Qt(t)*Math.cos(e),Rt(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new S(Rt(t)*Math.cos(e),Qt(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,n=Rt(t)+Math.cos(e);return new S(Qt(t)/n,Math.sin(e)/n)},coth:function(){const t=2*this.re,e=2*this.im,n=Rt(t)-Math.cos(e);return new S(Qt(t)/n,-Math.sin(e)/n)},csch:function(){const t=this.re,e=this.im,n=Math.cos(2*e)-Rt(2*t);return new S(-2*Qt(t)*Math.cos(e)/n,2*Rt(t)*Math.sin(e)/n)},sech:function(){const t=this.re,e=this.im,n=Math.cos(2*e)+Rt(2*t);return new S(2*Rt(t)*Math.cos(e)/n,-2*Qt(t)*Math.sin(e)/n)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,n=t>1&&e===0,r=1-t,i=1+t,u=r*r+e*e,o=u!==0?new S((i*r-e*e)/u,(e*r+i*e)/u):new S(t!==-1?t/0:0,e!==0?e/0:0),s=o.re;return o.re=Dr(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new S(0,Math.PI/2);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).atanh():new S(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new S(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const n=t*t+e*e;return n!==0?new S(t/n,-e/n).asinh():new S(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return S.INFINITY;const n=t*t+e*e;return n!==0?new S(t/n,-e/n).acosh():new S(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;const t=this.re,e=this.im,n=t*t+e*e;return new S(t/n,-e/n)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new S(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new S(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new S(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const n=xe(t,e);return Math.abs(n.re-this.re)<=S.EPSILON&&Math.abs(n.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){let t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<S.EPSILON&&(t=0),Math.abs(e)<S.EPSILON&&(e=0),e===0?n+t:(t!==0?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),e!==1&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};S.ZERO=new S(0,0);S.ONE=new S(1,0);S.I=new S(0,1);S.PI=new S(Math.PI,0);S.E=new S(Math.E,0);S.INFINITY=new S(1/0,1/0);S.NAN=new S(NaN,NaN);S.EPSILON=1e-15;var mf="Complex",Df=[],gf=rt(mf,Df,()=>(Object.defineProperty(S,"name",{value:"Complex"}),S.prototype.constructor=S,S.prototype.type="Complex",S.prototype.isComplex=!0,S.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},S.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},S.prototype.format=function(t){var e="",n=this.im,r=this.re,i=_r(this.re,t),u=_r(this.im,t),o=mt(t)?t:t?t.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(r/n)<s&&(r=0),Math.abs(n/r)<s&&(n=0)}return n===0?e=i:r===0?n===1?e="i":n===-1?e="-i":e=u+"i":n<0?n===-1?e=i+" - i":e=i+" - "+u.substring(1)+"i":n===1?e=i+" + i":e=i+" + "+u+"i",e},S.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return S(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(mt(n)){if(Ou(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),mt(r))return new S({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},S.prototype.valueOf=S.prototype.toString,S.fromJSON=function(t){return new S(t)},S.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},S),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const Y=BigInt(0),tt=BigInt(1),dn=BigInt(2),Nr=BigInt(5),Vt=BigInt(10),vf=2e3,L={s:tt,n:Y,d:tt};function me(t,e){try{t=BigInt(t)}catch{throw we()}return t*e}function re(t){return typeof t=="bigint"?t:Math.floor(t)}function Dt(t,e){if(e===Y)throw Gr();const n=Object.create(te.prototype);n.s=t<Y?-tt:tt,t=t<Y?-t:t;const r=Be(t,e);return n.n=t/r,n.d=e/r,n}function je(t){const e={};let n=t,r=dn,i=Nr-tt;for(;i<=n;){for(;n%r===Y;)n/=r,e[r]=(e[r]||Y)+tt;i+=tt+dn*r++}return n!==t?n>1&&(e[n]=(e[n]||Y)+tt):e[t]=(e[t]||Y)+tt,e}const Pt=function(t,e){let n=Y,r=tt,i=tt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")n=t;else{if(isNaN(t))throw we();if(t%1!==0)throw Ti();n=BigInt(t)}if(typeof e=="bigint")r=e;else{if(isNaN(e))throw we();if(e%1!==0)throw Ti();r=BigInt(e)}i=n*r}else if(typeof t=="object"){if("d"in t&&"n"in t)n=BigInt(t.n),r=BigInt(t.d),"s"in t&&(n*=BigInt(t.s));else if(0 in t)n=BigInt(t[0]),1 in t&&(r=BigInt(t[1]));else if(typeof t=="bigint")n=t;else throw we();i=n*r}else if(typeof t=="number"){if(isNaN(t))throw we();if(t<0&&(i=-tt,t=-t),t%1===0)n=BigInt(t);else{let u=1,o=0,s=1,a=1,c=1,f=1e7;for(t>=1&&(u=10**Math.floor(1+Math.log10(t)),t/=u);s<=f&&c<=f;){let l=(o+a)/(s+c);if(t===l){s+c<=f?(n=o+a,r=s+c):c>s?(n=a,r=c):(n=o,r=s);break}else t>l?(o+=a,s+=c):(a+=o,c+=s),s>f?(n=a,r=c):(n=o,r=s)}n=BigInt(n)*BigInt(u),r=BigInt(r)}}else if(typeof t=="string"){let u=0,o=Y,s=Y,a=Y,c=tt,f=tt,l=t.replace(/_/g,"").match(/\d+|./g);if(l===null)throw we();if(l[u]==="-"?(i=-tt,u++):l[u]==="+"&&u++,l.length===u+1?s=me(l[u++],i):l[u+1]==="."||l[u]==="."?(l[u]!=="."&&(o=me(l[u++],i)),u++,(u+1===l.length||l[u+1]==="("&&l[u+3]===")"||l[u+1]==="'"&&l[u+3]==="'")&&(s=me(l[u],i),c=Vt**BigInt(l[u].length),u++),(l[u]==="("&&l[u+2]===")"||l[u]==="'"&&l[u+2]==="'")&&(a=me(l[u+1],i),f=Vt**BigInt(l[u+1].length)-tt,u+=3)):l[u+1]==="/"||l[u+1]===":"?(s=me(l[u],i),c=me(l[u+2],tt),u+=3):l[u+3]==="/"&&l[u+1]===" "&&(o=me(l[u],i),s=me(l[u+2],i),c=me(l[u+4],tt),u+=5),l.length<=u)r=c*f,i=n=a+r*o+f*s;else throw we()}else if(typeof t=="bigint")n=t,i=t,r=tt;else throw we();if(r===Y)throw Gr();L.s=i<Y?-tt:tt,L.n=n<Y?-n:n,L.d=r<Y?-r:r};function wf(t,e,n){let r=tt;for(;e>Y;t=t*t%n,e>>=tt)e&tt&&(r=r*t%n);return r}function yf(t,e){for(;e%dn===Y;e/=dn);for(;e%Nr===Y;e/=Nr);if(e===tt)return Y;let n=Vt%e,r=1;for(;n!==tt;r++)if(n=n*Vt%e,r>vf)return Y;return BigInt(r)}function Ff(t,e,n){let r=tt,i=wf(Vt,n,e);for(let u=0;u<300;u++){if(r===i)return BigInt(u);r=r*Vt%e,i=i*Vt%e}return 0}function Be(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function te(t,e){if(Pt(t,e),this instanceof te)t=Be(L.d,L.n),this.s=L.s,this.n=L.n/t,this.d=L.d/t;else return Dt(L.s*L.n,L.d)}var Gr=function(){return new Error("Division by Zero")},we=function(){return new Error("Invalid argument")},Ti=function(){return new Error("Parameters must be integer")};te.prototype={s:tt,n:Y,d:tt,abs:function(){return Dt(this.n,this.d)},neg:function(){return Dt(-this.s*this.n,this.d)},add:function(t,e){return Pt(t,e),Dt(this.s*this.n*L.d+L.s*this.d*L.n,this.d*L.d)},sub:function(t,e){return Pt(t,e),Dt(this.s*this.n*L.d-L.s*this.d*L.n,this.d*L.d)},mul:function(t,e){return Pt(t,e),Dt(this.s*L.s*this.n*L.n,this.d*L.d)},div:function(t,e){return Pt(t,e),Dt(this.s*L.s*this.n*L.d,this.d*L.n)},clone:function(){return Dt(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return Dt(this.s*this.n%this.d,tt);if(Pt(t,e),Y===L.n*this.d)throw Gr();return Dt(this.s*(L.d*this.n)%(L.n*this.d),L.d*this.d)},gcd:function(t,e){return Pt(t,e),Dt(Be(L.n,this.n)*Be(L.d,this.d),L.d*this.d)},lcm:function(t,e){return Pt(t,e),L.n===Y&&this.n===Y?Dt(Y,tt):Dt(L.n*this.n,Be(L.n,this.n)*Be(L.d,this.d))},inverse:function(){return Dt(this.s*this.d,this.n)},pow:function(t,e){if(Pt(t,e),L.d===tt)return L.s<Y?Dt((this.s*this.d)**L.n,this.n**L.n):Dt((this.s*this.n)**L.n,this.d**L.n);if(this.s<Y)return null;let n=je(this.n),r=je(this.d),i=tt,u=tt;for(let o in n)if(o!=="1"){if(o==="0"){i=Y;break}if(n[o]*=L.n,n[o]%L.d===Y)n[o]/=L.d;else return null;i*=BigInt(o)**n[o]}for(let o in r)if(o!=="1"){if(r[o]*=L.n,r[o]%L.d===Y)r[o]/=L.d;else return null;u*=BigInt(o)**r[o]}return L.s<Y?Dt(u,i):Dt(i,u)},log:function(t,e){if(Pt(t,e),this.s<=Y||L.s<=Y)return null;const n={},r=je(L.n),i=je(L.d),u=je(this.n),o=je(this.d);for(const c in i)r[c]=(r[c]||Y)-i[c];for(const c in o)u[c]=(u[c]||Y)-o[c];for(const c in r)c!=="1"&&(n[c]=!0);for(const c in u)c!=="1"&&(n[c]=!0);let s=null,a=null;for(const c in n){const f=r[c]||Y,l=u[c]||Y;if(f===Y){if(l!==Y)return null;continue}let h=l,p=f;const w=Be(h,p);if(h/=w,p/=w,s===null&&a===null)s=h,a=p;else if(h*a!==s*p)return null}return s!==null&&a!==null?Dt(s,a):null},equals:function(t,e){return Pt(t,e),this.s*this.n*L.d===L.s*L.n*this.d},lt:function(t,e){return Pt(t,e),this.s*this.n*L.d<L.s*L.n*this.d},lte:function(t,e){return Pt(t,e),this.s*this.n*L.d<=L.s*L.n*this.d},gt:function(t,e){return Pt(t,e),this.s*this.n*L.d>L.s*L.n*this.d},gte:function(t,e){return Pt(t,e),this.s*this.n*L.d>=L.s*L.n*this.d},compare:function(t,e){Pt(t,e);let n=this.s*this.n*L.d-L.s*L.n*this.d;return(Y<n)-(n<Y)},ceil:function(t){return t=Vt**BigInt(t||0),Dt(re(this.s*t*this.n/this.d)+(t*this.n%this.d>Y&&this.s>=Y?tt:Y),t)},floor:function(t){return t=Vt**BigInt(t||0),Dt(re(this.s*t*this.n/this.d)-(t*this.n%this.d>Y&&this.s<Y?tt:Y),t)},round:function(t){return t=Vt**BigInt(t||0),Dt(re(this.s*t*this.n/this.d)+this.s*((this.s>=Y?tt:Y)+dn*(t*this.n%this.d)>this.d?tt:Y),t)},roundTo:function(t,e){Pt(t,e);const n=this.n*L.d,r=this.d*L.n,i=n%r;let u=re(n/r);return i+i>=r&&u++,Dt(this.s*u*L.n,L.d)},divisible:function(t,e){return Pt(t,e),!(!(L.n*this.d)||this.n*L.d%(L.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let e=this.n,n=this.d;t=t||15;let r=yf(e,n),i=Ff(e,n,r),u=this.s<Y?"-":"";if(u+=re(e/n),e%=n,e*=Vt,e&&(u+="."),r){for(let o=i;o--;)u+=re(e/n),e%=n,e*=Vt;u+="(";for(let o=r;o--;)u+=re(e/n),e%=n,e*=Vt;u+=")"}else for(let o=t;e&&o--;)u+=re(e/n),e%=n,e*=Vt;return u},toFraction:function(t){let e=this.n,n=this.d,r=this.s<Y?"-":"";if(n===tt)r+=e;else{let i=re(e/n);t&&i>Y&&(r+=i,r+=" ",e%=n),r+=e,r+="/",r+=n}return r},toLatex:function(t){let e=this.n,n=this.d,r=this.s<Y?"-":"";if(n===tt)r+=e;else{let i=re(e/n);t&&i>Y&&(r+=i,e%=n),r+="\\frac{",r+=e,r+="}{",r+=n,r+="}"}return r},toContinued:function(){let t=this.n,e=this.d,n=[];do{n.push(re(t/e));let r=t%e;t=e,e=r}while(t!==tt);return n},simplify:function(t){const e=BigInt(1/(t||.001)|0),n=this.abs(),r=n.toContinued();for(let i=1;i<r.length;i++){let u=Dt(r[i-1],tt);for(let s=i-2;s>=0;s--)u=u.inverse().add(r[s]);let o=u.sub(n);if(o.n*e<o.d)return u.mul(this.s)}return this}};var Ef="Fraction",Af=[],Cf=rt(Ef,Af,()=>(Object.defineProperty(te,"name",{value:"Fraction"}),te.prototype.constructor=te,te.prototype.type="Fraction",te.prototype.isFraction=!0,te.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},te.fromJSON=function(t){return new te(t)},te),{isClass:!0}),_f="Matrix",xf=[],bf=rt(_f,xf,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,n,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function gr(t,e,n){var r=t.constructor,i=new r(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Tt(n))throw new Error("size must be an integer");if(t.greaterThan(i.pow(n-1).sub(1))||t.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(n))),u="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(u);case 8:return"".concat(t.toOctal()).concat(u);case 16:return"".concat(t.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function Bf(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=zu(e);switch(n){case"fixed":return Nf(t,r);case"exponential":return Ii(t,r);case"engineering":return Mf(t,r);case"bin":return gr(t,2,i);case"oct":return gr(t,8,i);case"hex":return gr(t,16,i);case"auto":{var u=Pi(e?.lowerExp,-3),o=Pi(e?.upperExp,5);if(t.isZero())return"0";var s,a=t.toSignificantDigits(r),c=a.e;return c>=u&&c<o?s=a.toFixed():s=Ii(t,r),s.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],l=arguments[4];return f!=="."?f+l:l})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Mf(t,e){var n=t.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),u=i.toPrecision(e);if(u.includes("e")){var o=t.constructor;u=new o(u).toFixed()}return u+"e"+(n>=0?"+":"")+r.toString()}function Ii(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function Nf(t,e){return t.toFixed(e)}function Pi(t,e){return mt(t)?t:Bt(t)?t.toNumber():e}function bt(t,e){var n=Sf(t,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Sf(t,e){if(typeof t=="number")return _r(t,e);if(Bt(t))return Bf(t,e);if(Tf(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return Ku(t,e);if(ae(t))return $i(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var n=Object.keys(t).map(r=>$i(r)+": "+bt(t[r],e));return"{"+n.join(", ")+"}"}return String(t)}function $i(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);n+=i in Oi?Oi[i]:i,r++}return'"'+n+'"'}var Oi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Ku(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=Ku(t[i],e);return n+="]",n}else return bt(t,e)}function Tf(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function gt(t,e,n){if(!(this instanceof gt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}gt.prototype=new RangeError;gt.prototype.constructor=RangeError;gt.prototype.name="DimensionError";gt.prototype.isDimensionError=!0;function Qe(t,e,n){if(!(this instanceof Qe))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Qe.prototype=new RangeError;Qe.prototype.constructor=RangeError;Qe.prototype.name="IndexError";Qe.prototype.isIndexError=!0;function Ht(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Qu(t,e,n){var r,i=t.length;if(i!==e[n])throw new gt(i,e[n]);if(n<e.length-1){var u=n+1;for(r=0;r<i;r++){var o=t[r];if(!Array.isArray(o))throw new gt(e.length-1,e.length,"<");Qu(t[r],e,u)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new gt(e.length+1,e.length,">")}function Ri(t,e){var n=e.length===0;if(n){if(Array.isArray(t))throw new gt(t.length,0)}else Qu(t,e,0)}function wt(t,e){if(t!==void 0){if(!mt(t)||!Tt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Qe(t,e)}}function Sr(t,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!mt(i)||!Tt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+bt(e)+")")}),(mt(t)||Bt(t))&&(t=[t]);var r=n!==void 0?n:0;return Tr(t,e,0,r),t}function Tr(t,e,n,r){var i,u,o=t.length,s=e[n],a=Math.min(o,s);if(t.length=s,n<e.length-1){var c=n+1;for(i=0;i<a;i++)u=t[i],Array.isArray(u)||(u=[u],t[i]=u),Tr(u,e,c,r);for(i=a;i<s;i++)u=[],t[i]=u,Tr(u,e,c,r)}else{for(i=0;i<a;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=a;i<s;i++)t[i]=r}}function to(t,e){var n=Pf(t,!0),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new gt(0,r,"!=");e=Jr(e,r);var i=eo(e);if(r!==i)throw new gt(i,r,"!=");try{return If(n,e)}catch(u){throw u instanceof gt?new gt(i,r,"!="):u}}function Jr(t,e){var n=eo(t),r=t.slice(),i=-1,u=t.indexOf(i),o=t.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,a=e%n===0;if(s)if(a)r[u]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return r}function eo(t){return t.reduce((e,n)=>e*n,1)}function If(t,e){for(var n=t,r,i=e.length-1;i>0;i--){var u=e[i];r=[];for(var o=n.length/u,s=0;s<o;s++)r.push(n.slice(s*u,(s+1)*u));n=r}return n}function no(t,e,n,r){var i=r||Ht(t);if(n)for(var u=0;u<n;u++)t=[t],i.unshift(1);for(t=ro(t,e,0);i.length<e;)i.push(1);return t}function ro(t,e,n){var r,i;if(Array.isArray(t)){var u=n+1;for(r=0,i=t.length;r<i;r++)t[r]=ro(t[r],e,u)}else for(var o=n;o<e;o++)t=[t];return t}function Pf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var n=[];return e?i(t):r(t),n;function r(u){for(var o=0;o<u.length;o++){var s=u[o];Array.isArray(s)?r(s):n.push(s)}}function i(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)i(u[o]);else for(var s=0;s<u.length;s++)n.push(u[s])}}function Kr(t,e){for(var n,r=0,i=0;i<t.length;i++){var u=t[i],o=Array.isArray(u);if(i===0&&o&&(r=u.length),o&&u.length!==r)return;var s=o?Kr(u,e):e(u);if(n===void 0)n=s;else if(n!==s)return"mixed"}return n}function io(t,e,n,r){if(r<n){if(t.length!==e.length)throw new gt(t.length,e.length);for(var i=[],u=0;u<t.length;u++)i[u]=io(t[u],e[u],n,r+1);return i}else return t.concat(e)}function $f(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(n,r){return io(n,r,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Of(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.map(h=>h.length),i=Math.max(...r),u=new Array(i).fill(null),o=0;o<e.length;o++)for(var s=e[o],a=r[o],c=0;c<a;c++){var f=i-a+c;s[c]>u[f]&&(u[f]=s[c])}for(var l=0;l<e.length;l++)uo(e[l],u);return u}function uo(t,e){for(var n=e.length,r=t.length,i=0;i<r;i++){var u=n-r+i;if(t[i]<e[u]&&t[i]>1||t[i]>e[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(r," with size ").concat(t[i]," to size ").concat(e[u]))}}function zi(t,e){var n=Ht(t);if(Ze(n,e))return t;uo(n,e);var r=Of(n,e),i=r.length,u=[...Array(i-n.length).fill(1),...n],o=zf(t);n.length<i&&(o=to(o,u),n=Ht(o));for(var s=0;s<i;s++)n[s]<r[s]&&(o=Rf(o,r[s],s),n=Ht(o));return o}function Rf(t,e,n){return $f(...Array(e).fill(t),n)}function oo(t,e){if(!Array.isArray(t))throw new Error("Array expected");var n=Ht(t);if(e.length!==n.length)throw new gt(e.length,n.length);for(var r=0;r<e.length;r++)wt(e[r],n[r]);return e.reduce((i,u)=>i[u],t)}function ki(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(n)return u(t);var r=[];return i(t,0);function i(o,s){if(Array.isArray(o)){for(var a=o.length,c=Array(a),f=0;f<a;f++)r[s]=f,c[f]=i(o[f],s+1);return c}else return e(o,r.slice(0,s),t)}function u(o){if(Array.isArray(o)){for(var s=o.length,a=Array(s),c=0;c<s;c++)a[c]=u(o[c]);return a}else return e(o)}}function zf(t){return bu([],t)}function Vn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(kn.isTypedFunction(t)){var i;if(r)i=1;else{var u=(e.isMatrix?e.size():Ht(e)).map(()=>0),o=e.isMatrix?e.get(u):oo(e,u);i=Lf(t,o,u,e)}var s;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var a=kf(t,i);s=a!==void 0?a:t}else s=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var f=arguments.length,l=new Array(f),h=0;h<f;h++)l[h]=arguments[h];return ji(s,l.slice(0,i),n,t.name)}}:{isUnary:!1,fn:function(){for(var f=arguments.length,l=new Array(f),h=0;h<f;h++)l[h]=arguments[h];return ji(s,l,n,t.name)}}}return r===void 0?{isUnary:jf(t),fn:t}:{isUnary:r,fn:t}}function kf(t,e){var n=[];if(Object.entries(t.signatures).forEach(r=>{var[i,u]=r;i.split(",").length===e&&n.push(u)}),n.length===1)return n[0]}function jf(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var n=e.match(/\(.*?\)/);return!/\.\.\./.test(n)}function Lf(t,e,n,r){for(var i=[e,n,r],u=3;u>0;u--){var o=i.slice(0,u);if(kn.resolve(t,o)!==null)return u}}function ji(t,e,n,r){try{return t(...e)}catch(i){qf(i,e,n,r)}}function qf(t,e,n,r){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(Ee(e[0]))),e.length>=2&&u.push("index: ".concat(Ee(e[1]))),e.length>=3&&u.push("array: ".concat(Ee(e[2]))),new TypeError("Function ".concat(n," cannot apply callback arguments ")+"".concat(r,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(n," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(t.message))}var Uf="DenseMatrix",Vf=["Matrix"],Wf=rt(Uf,Vf,t=>{var{Matrix:e}=t;function n(f,l){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(l&&!ae(l))throw new Error("Invalid datatype: "+l);if(Ct(f))f.type==="DenseMatrix"?(this._data=At(f._data),this._size=At(f._size),this._datatype=l||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=l||f._datatype);else if(f&&Nt(f.data)&&Nt(f.size))this._data=f.data,this._size=f.size,Ri(this._data,this._size),this._datatype=l||f.datatype;else if(Nt(f))this._data=c(f),this._size=Ht(this._data),Ri(this._data,this._size),this._datatype=l;else{if(f)throw new TypeError("Unsupported type of data ("+Ee(f)+")");this._data=[],this._size=[0],this._datatype=l}}n.prototype=new e,n.prototype.createDenseMatrix=function(f,l){return new n(f,l)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Kr(this._data,Ee)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,l){return new n(f,l)},n.prototype.subset=function(f,l,h){switch(arguments.length){case 1:return r(this,f);case 2:case 3:return u(this,f,l,h);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(f){return oo(this._data,f)},n.prototype.set=function(f,l,h){if(!Nt(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new gt(f.length,this._size.length,"<");var p,w,d,m=f.map(function(C){return C+1});a(this,m,h);var F=this._data;for(p=0,w=f.length-1;p<w;p++)d=f[p],wt(d,F.length),F=F[d];return d=f[f.length-1],wt(d,F.length),F[d]=l,this};function r(f,l){if(!Zr(l))throw new TypeError("Invalid index");var h=l.isScalar();if(h)return f.get(l.min());var p=l.size();if(p.length!==f._size.length)throw new gt(p.length,f._size.length);for(var w=l.min(),d=l.max(),m=0,F=f._size.length;m<F;m++)wt(w[m],f._size[m]),wt(d[m],f._size[m]);var C=new n([]),y=i(f._data,l);return C._size=y.size,C._datatype=f._datatype,C._data=y.data,C}function i(f,l){var h=l.size().length-1,p=Array(h);return{data:w(f),size:p};function w(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=l.dimension(m);return p[m]=F.size()[0],m<h?F.map(C=>(wt(C,d.length),w(d[C],m+1))).valueOf():F.map(C=>(wt(C,d.length),d[C])).valueOf()}}function u(f,l,h,p){if(!l||l.isIndex!==!0)throw new TypeError("Invalid index");var w=l.size(),d=l.isScalar(),m;if(Ct(h)?(m=h.size(),h=h.valueOf()):m=Ht(h),d){if(m.length!==0)throw new TypeError("Scalar expected");f.set(l.min(),h,p)}else{if(!Ze(m,w))try{m.length===0?h=zi([h],w):h=zi(h,w),m=Ht(h)}catch{}if(w.length<f._size.length)throw new gt(w.length,f._size.length,"<");if(m.length<w.length){for(var F=0,C=0;w[F]===1&&m[F]===1;)F++;for(;w[F]===1;)C++,F++;h=no(h,w.length,C,m)}if(!Ze(w,m))throw new gt(w,m,">");var y=l.max().map(function(_){return _+1});a(f,y,p),o(f._data,l,h)}return f}function o(f,l,h){var p=l.size().length-1;w(f,h);function w(d,m){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=l.dimension(F);F<p?C.forEach((y,_)=>{wt(y,d.length),w(d[y],m[_[0]],F+1)}):C.forEach((y,_)=>{wt(y,d.length),d[y]=m[_[0]]})}}n.prototype.resize=function(f,l,h){if(!Rn(f))throw new TypeError("Array or Matrix expected");var p=f.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),w=h?this.clone():this;return s(w,p,l)};function s(f,l,h){if(l.length===0){for(var p=f._data;Nt(p);)p=p[0];return p}return f._size=l.slice(0),f._data=Sr(f._data,f._size,h),f}n.prototype.reshape=function(f,l){var h=l?this.clone():this;h._data=to(h._data,f);var p=h._size.reduce((w,d)=>w*d);return h._size=Jr(f,p),h};function a(f,l,h){for(var p=f._size.slice(0),w=!1;p.length<l.length;)p.push(0),w=!0;for(var d=0,m=l.length;d<m;d++)l[d]>p[d]&&(p[d]=l[d],w=!0);w&&s(f,p,h)}n.prototype.clone=function(){var f=new n({data:At(this._data),size:At(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this,p=h._size.length-1;if(p<0)return h.clone();var w=Vn(f,h,"map",l),d=w.fn,m=h.create(void 0,h._datatype);if(m._size=h._size,l||w.isUnary)return m._data=D(h._data),m;if(p===0){for(var F=h.valueOf(),C=Array(F.length),y=0;y<F.length;y++)C[y]=d(F[y],[y],h);return m._data=C,m}var _=[];return m._data=g(h._data),m;function g(A){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=Array(A.length);if(b<p)for(var T=0;T<A.length;T++)_[b]=T,B[T]=g(A[T],b+1);else for(var M=0;M<A.length;M++)_[b]=M,B[M]=d(A[M],_.slice(),h);return B}function D(A){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=Array(A.length);if(b<p)for(var T=0;T<A.length;T++)B[T]=D(A[T],b+1);else for(var M=0;M<A.length;M++)B[M]=d(A[M]);return B}},n.prototype.forEach=function(f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this,p=h._size.length-1;if(p<0)return;var w=Vn(f,h,"map",l),d=w.fn;if(l||w.isUnary){y(h._data);return}if(p===0){for(var m=0;m<h._data.length;m++)d(h._data[m],[m],h);return}var F=[];C(h._data);function C(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(g<p)for(var D=0;D<_.length;D++)F[g]=D,C(_[D],g+1);else for(var A=0;A<_.length;A++)F[g]=A,d(_[A],F.slice(),h)}function y(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(g<p)for(var D=0;D<_.length;D++)y(_[D],g+1);else for(var A=0;A<_.length;A++)d(_[A])}},n.prototype[Symbol.iterator]=function*(){var f=this._size.length-1;if(!(f<0)){if(f===0){for(var l=0;l<this._data.length;l++)yield{value:this._data[l],index:[l]};return}var h=[],p=function*(d,m){if(m<f)for(var F=0;F<d.length;F++)h[m]=F,yield*p(d[F],m+1);else for(var C=0;C<d.length;C++)h[m]=C,yield{value:d[C],index:h.slice()}};yield*p(this._data,0)}},n.prototype.rows=function(){var f=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var p of h)f.push(new n([p],this._datatype));return f},n.prototype.columns=function(){var f=this,l=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,w=function(F){var C=p.map(y=>[y[F]]);l.push(new n(C,f._datatype))},d=0;d<h[1];d++)w(d);return l},n.prototype.toArray=function(){return At(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(f){return bt(this._data,f)},n.prototype.toString=function(){return bt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(Bt(f)&&(f=f.toNumber()),!mt(f)||!Tt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var l=f>0?f:0,h=f<0?-f:0,p=this._size[0],w=this._size[1],d=Math.min(p-h,w-l),m=[],F=0;F<d;F++)m[F]=this._data[F+h][F+l];return new n({data:m,size:[d],datatype:this._datatype})},n.diagonal=function(f,l,h,p){if(!Nt(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(A){if(Bt(A)&&(A=A.toNumber()),!mt(A)||!Tt(A)||A<1)throw new Error("Size values must be positive integers");return A}),h){if(Bt(h)&&(h=h.toNumber()),!mt(h)||!Tt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var w=h>0?h:0,d=h<0?-h:0,m=f[0],F=f[1],C=Math.min(m-d,F-w),y;if(Nt(l)){if(l.length!==C)throw new Error("Invalid value array length");y=function(b){return l[b]}}else if(Ct(l)){var _=l.size();if(_.length!==1||_[0]!==C)throw new Error("Invalid matrix length");y=function(b){return l.get([b])}}else y=function(){return l};p||(p=Bt(y(0))?y(0).mul(0):0);var g=[];if(f.length>0){g=Sr(g,f,p);for(var D=0;D<C;D++)g[D+d][D+w]=y(D)}return new n({data:g,size:[m,F]})},n.fromJSON=function(f){return new n(f)},n.prototype.swapRows=function(f,l){if(!mt(f)||!Tt(f)||!mt(l)||!Tt(l))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return wt(f,this._size[0]),wt(l,this._size[0]),n._swapRows(f,l,this._data),this},n._swapRows=function(f,l,h){var p=h[f];h[f]=h[l],h[l]=p};function c(f){return Ct(f)?c(f.valueOf()):Nt(f)?f.map(c):f}return n},{isClass:!0});function Pe(t,e,n){if(!n)return Ct(t)?t.map(i=>e(i),!1,!0):ki(t,e,!0);var r=i=>i===0?i:e(i);return Ct(t)?t.map(i=>r(i),!1,!0):ki(t,r,!0)}var so="number",Qr="number, number";function ao(t){return Math.abs(t)}ao.signature=so;function co(t,e){return t+e}co.signature=Qr;function fo(t,e){return t-e}fo.signature=Qr;function lo(t,e){return t*e}lo.signature=Qr;function ho(t){return-t}ho.signature=so;function Hf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(n),r))}var Li="isZero",Zf=["typed","equalScalar"],Xf=rt(Li,Zf,t=>{var{typed:e,equalScalar:n}=t;return e(Li,{"number | BigNumber | Complex | Fraction":r=>n(r,0),bigint:r=>r===0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Pe(i,r))})});function Yf(t,e,n,r){return jn(t.re,e.re,n,r)&&jn(t.im,e.im,n,r)}var Gf=rt("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),Wn="equalScalar",Jf=["typed","config"],Kf=rt(Wn,Jf,t=>{var{typed:e,config:n}=t,r=Gf({typed:e});return e(Wn,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return jn(u,o,n.relTol,n.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||Hf(u,o,n.relTol,n.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Yf(u,o,n.relTol,n.absTol)}},r)});rt(Wn,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Wn,{"number, number":function(i,u){return jn(i,u,n.relTol,n.absTol)}})});var Qf="SparseMatrix",tl=["typed","equalScalar","Matrix"],el=rt(Qf,tl,t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(d,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!ae(m))throw new Error("Invalid datatype: "+m);if(Ct(d))u(this,d,m);else if(d&&Nt(d.index)&&Nt(d.ptr)&&Nt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=m||d.datatype;else if(Nt(d))o(this,d,m);else{if(d)throw new TypeError("Unsupported type of data ("+Ee(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(d,m,F){m.type==="SparseMatrix"?(d._values=m._values?At(m._values):void 0,d._index=At(m._index),d._ptr=At(m._ptr),d._size=At(m._size),d._datatype=F||m._datatype):o(d,m.valueOf(),F||m._datatype)}function o(d,m,F){d._values=[],d._index=[],d._ptr=[],d._datatype=F;var C=m.length,y=0,_=n,g=0;if(ae(F)&&(_=e.find(n,[F,F])||n,g=e.convert(0,F)),C>0){var D=0;do{d._ptr.push(d._index.length);for(var A=0;A<C;A++){var b=m[A];if(Nt(b)){if(D===0&&y<b.length&&(y=b.length),D<b.length){var B=b[D];_(B,g)||(d._values.push(B),d._index.push(A))}}else D===0&&y<1&&(y=1),_(b,g)||(d._values.push(b),d._index.push(A))}D++}while(D<y)}d._ptr.push(d._index.length),d._size=[C,y]}i.prototype=new r,i.prototype.createSparseMatrix=function(d,m){return new i(d,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Kr(this._values,Ee)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,m){return new i(d,m)},i.prototype.density=function(){var d=this._size[0],m=this._size[1];return d!==0&&m!==0?this._index.length/(d*m):0},i.prototype.subset=function(d,m,F){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,d);case 2:case 3:return a(this,d,m,F);default:throw new SyntaxError("Wrong number of arguments")}};function s(d,m){if(!Zr(m))throw new TypeError("Invalid index");var F=m.isScalar();if(F)return d.get(m.min());var C=m.size();if(C.length!==d._size.length)throw new gt(C.length,d._size.length);var y,_,g,D,A=m.min(),b=m.max();for(y=0,_=d._size.length;y<_;y++)wt(A[y],d._size[y]),wt(b[y],d._size[y]);var B=d._values,T=d._index,M=d._ptr,j=m.dimension(0),q=m.dimension(1),Z=[],W=[];j.forEach(function(H,et){W[H]=et[0],Z[H]=!0});var z=B?[]:void 0,J=[],X=[];return q.forEach(function(H){for(X.push(J.length),g=M[H],D=M[H+1];g<D;g++)y=T[g],Z[y]===!0&&(J.push(W[y]),z&&z.push(B[g]))}),X.push(J.length),new i({values:z,index:J,ptr:X,size:C,datatype:d._datatype})}function a(d,m,F,C){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var y=m.size(),_=m.isScalar(),g;if(Ct(F)?(g=F.size(),F=F.toArray()):g=Ht(F),_){if(g.length!==0)throw new TypeError("Scalar expected");d.set(m.min(),F,C)}else{if(y.length!==1&&y.length!==2)throw new gt(y.length,d._size.length,"<");if(g.length<y.length){for(var D=0,A=0;y[D]===1&&g[D]===1;)D++;for(;y[D]===1;)A++,D++;F=no(F,y.length,A,g)}if(!Ze(y,g))throw new gt(y,g,">");if(y.length===1){var b=m.dimension(0);b.forEach(function(M,j){wt(M),d.set([M,0],F[j[0]],C)})}else{var B=m.dimension(0),T=m.dimension(1);B.forEach(function(M,j){wt(M),T.forEach(function(q,Z){wt(q),d.set([M,q],F[j[0]][Z[0]],C)})})}}return d}i.prototype.get=function(d){if(!Nt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new gt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=d[0],F=d[1];wt(m,this._size[0]),wt(F,this._size[1]);var C=c(m,this._ptr[F],this._ptr[F+1],this._index);return C<this._ptr[F+1]&&this._index[C]===m?this._values[C]:0},i.prototype.set=function(d,m,F){if(!Nt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new gt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=d[0],y=d[1],_=this._size[0],g=this._size[1],D=n,A=0;ae(this._datatype)&&(D=e.find(n,[this._datatype,this._datatype])||n,A=e.convert(0,this._datatype)),(C>_-1||y>g-1)&&(h(this,Math.max(C+1,_),Math.max(y+1,g),F),_=this._size[0],g=this._size[1]),wt(C,_),wt(y,g);var b=c(C,this._ptr[y],this._ptr[y+1],this._index);return b<this._ptr[y+1]&&this._index[b]===C?D(m,A)?f(b,y,this._values,this._index,this._ptr):this._values[b]=m:D(m,A)||l(b,C,y,m,this._values,this._index,this._ptr),this};function c(d,m,F,C){if(F-m===0)return F;for(var y=m;y<F;y++)if(C[y]===d)return y;return m}function f(d,m,F,C,y){F.splice(d,1),C.splice(d,1);for(var _=m+1;_<y.length;_++)y[_]--}function l(d,m,F,C,y,_,g){y.splice(d,0,C),_.splice(d,0,m);for(var D=F+1;D<g.length;D++)g[D]++}i.prototype.resize=function(d,m,F){if(!Rn(d))throw new TypeError("Array or Matrix expected");var C=d.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(_){if(!mt(_)||!Tt(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+bt(C)+")")});var y=F?this.clone():this;return h(y,C[0],C[1],m)};function h(d,m,F,C){var y=C||0,_=n,g=0;ae(d._datatype)&&(_=e.find(n,[d._datatype,d._datatype])||n,g=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var D=!_(y,g),A=d._size[0],b=d._size[1],B,T,M;if(F>b){for(T=b;T<F;T++)if(d._ptr[T]=d._values.length,D)for(B=0;B<A;B++)d._values.push(y),d._index.push(B);d._ptr[F]=d._values.length}else F<b&&(d._ptr.splice(F+1,b-F),d._values.splice(d._ptr[F],d._values.length),d._index.splice(d._ptr[F],d._index.length));if(b=F,m>A){if(D){var j=0;for(T=0;T<b;T++){d._ptr[T]=d._ptr[T]+j,M=d._ptr[T+1]+j;var q=0;for(B=A;B<m;B++,q++)d._values.splice(M+q,0,y),d._index.splice(M+q,0,B),j++}d._ptr[b]=d._values.length}}else if(m<A){var Z=0;for(T=0;T<b;T++){d._ptr[T]=d._ptr[T]-Z;var W=d._ptr[T],z=d._ptr[T+1]-Z;for(M=W;M<z;M++)B=d._index[M],B>m-1&&(d._values.splice(M,1),d._index.splice(M,1),Z++)}d._ptr[T]=d._values.length}return d._size[0]=m,d._size[1]=F,d}i.prototype.reshape=function(d,m){if(!Nt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(H){if(!mt(H)||!Tt(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+bt(d)+")")});var F=this._size[0]*this._size[1];d=Jr(d,F);var C=d[0]*d[1];if(F!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=m?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var _=[],g=0;g<y._ptr.length;g++)for(var D=0;D<y._ptr[g+1]-y._ptr[g];D++)_.push(g);for(var A=y._values.slice(),b=y._index.slice(),B=0;B<y._index.length;B++){var T=b[B],M=_[B],j=T*y._size[1]+M;_[B]=j%d[1],b[B]=Math.floor(j/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var q=0;q<y._ptr.length;q++)y._ptr[q]=0;for(var Z=0;Z<A.length;Z++){var W=b[Z],z=_[Z],J=A[Z],X=c(W,y._ptr[z],y._ptr[z+1],y._index);l(X,W,z,J,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?At(this._values):void 0,index:At(this._index),ptr:At(this._ptr),size:At(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var F=this,C=this._size[0],y=this._size[1],_=Vn(d,F,"map"),g=function(A,b,B){return _.fn(A,[b,B],F)};return p(this,0,C-1,0,y-1,g,m)};function p(d,m,F,C,y,_,g){var D=[],A=[],b=[],B=n,T=0;ae(d._datatype)&&(B=e.find(n,[d._datatype,d._datatype])||n,T=e.convert(0,d._datatype));for(var M=function(ct,_t,Ft){var vt=_(ct,_t,Ft);B(vt,T)||(D.push(vt),A.push(_t))},j=C;j<=y;j++){b.push(D.length);var q=d._ptr[j],Z=d._ptr[j+1];if(g)for(var W=q;W<Z;W++){var z=d._index[W];z>=m&&z<=F&&M(d._values[W],z-m,j-C)}else{for(var J={},X=q;X<Z;X++){var H=d._index[X];J[H]=d._values[X]}for(var et=m;et<=F;et++){var ot=et in J?J[et]:0;M(ot,et-m,j-C)}}}return b.push(D.length),new i({values:D,index:A,ptr:b,size:[F-m+1,y-C+1]})}i.prototype.forEach=function(d,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var F=this,C=this._size[0],y=this._size[1],_=Vn(d,F,"forEach"),g=0;g<y;g++){var D=this._ptr[g],A=this._ptr[g+1];if(m)for(var b=D;b<A;b++){var B=this._index[b];_.fn(this._values[b],[B,g],F)}else{for(var T={},M=D;M<A;M++){var j=this._index[M];T[j]=this._values[M]}for(var q=0;q<C;q++){var Z=q in T?T[q]:0;_.fn(Z,[q,g],F)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],m=0;m<d;m++)for(var F=this._ptr[m],C=this._ptr[m+1],y=F;y<C;y++){var _=this._index[y];yield{value:this._values[y],index:[_,m]}}},i.prototype.toArray=function(){return w(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return w(this._values,this._index,this._ptr,this._size,!1)};function w(d,m,F,C,y){var _=C[0],g=C[1],D=[],A,b;for(A=0;A<_;A++)for(D[A]=[],b=0;b<g;b++)D[A][b]=0;for(b=0;b<g;b++)for(var B=F[b],T=F[b+1],M=B;M<T;M++)A=m[M],D[A][b]=d?y?At(d[M]):d[M]:1;return D}return i.prototype.format=function(d){for(var m=this._size[0],F=this._size[1],C=this.density(),y="Sparse Matrix ["+bt(m,d)+" x "+bt(F,d)+"] density: "+bt(C,d)+`
`,_=0;_<F;_++)for(var g=this._ptr[_],D=this._ptr[_+1],A=g;A<D;A++){var b=this._index[A];y+=`
    (`+bt(b,d)+", "+bt(_,d)+") ==> "+(this._values?bt(this._values[A],d):"X")}return y},i.prototype.toString=function(){return bt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(Bt(d)&&(d=d.toNumber()),!mt(d)||!Tt(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var m=d>0?d:0,F=d<0?-d:0,C=this._size[0],y=this._size[1],_=Math.min(C-F,y-m),g=[],D=[],A=[];A[0]=0;for(var b=m;b<y&&g.length<_;b++)for(var B=this._ptr[b],T=this._ptr[b+1],M=B;M<T;M++){var j=this._index[M];if(j===b-m+F){g.push(this._values[M]),D[g.length-1]=j-F;break}}return A.push(g.length),new i({values:g,index:D,ptr:A,size:[_,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,m,F,C,y){if(!Nt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(H){if(Bt(H)&&(H=H.toNumber()),!mt(H)||!Tt(H)||H<1)throw new Error("Size values must be positive integers");return H}),F){if(Bt(F)&&(F=F.toNumber()),!mt(F)||!Tt(F))throw new TypeError("The parameter k must be an integer number")}else F=0;var _=n,g=0;ae(y)&&(_=e.find(n,[y,y])||n,g=e.convert(0,y));var D=F>0?F:0,A=F<0?-F:0,b=d[0],B=d[1],T=Math.min(b-A,B-D),M;if(Nt(m)){if(m.length!==T)throw new Error("Invalid value array length");M=function(et){return m[et]}}else if(Ct(m)){var j=m.size();if(j.length!==1||j[0]!==T)throw new Error("Invalid matrix length");M=function(et){return m.get([et])}}else M=function(){return m};for(var q=[],Z=[],W=[],z=0;z<B;z++){W.push(q.length);var J=z-D;if(J>=0&&J<T){var X=M(J);_(X,g)||(Z.push(J+A),q.push(X))}}return W.push(q.length),new i({values:q,index:Z,ptr:W,size:[b,B]})},i.prototype.swapRows=function(d,m){if(!mt(d)||!Tt(d)||!mt(m)||!Tt(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return wt(d,this._size[0]),wt(m,this._size[0]),i._swapRows(d,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,m,F,C,y){for(var _=C[d],g=C[d+1],D=_;D<g;D++)y(F[D],m[D])},i._swapRows=function(d,m,F,C,y,_){for(var g=0;g<F;g++){var D=_[g],A=_[g+1],b=c(d,D,A,y),B=c(m,D,A,y);if(b<A&&B<A&&y[b]===d&&y[B]===m){if(C){var T=C[b];C[b]=C[B],C[B]=T}continue}if(b<A&&y[b]===d&&(B>=A||y[B]!==m)){var M=C?C[b]:void 0;y.splice(B,0,m),C&&C.splice(B,0,M),y.splice(B<=b?b+1:b,1),C&&C.splice(B<=b?b+1:b,1);continue}if(B<A&&y[B]===m&&(b>=A||y[b]!==d)){var j=C?C[B]:void 0;y.splice(b,0,d),C&&C.splice(b,0,j),y.splice(b<=B?B+1:B,1),C&&C.splice(b<=B?B+1:B,1)}}},i},{isClass:!0}),nl="number",rl=["typed"];function il(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:t,radix:n,integerPart:r,fractionalPart:i}}else return null}function ul(t){for(var e=parseInt(t.integerPart,t.radix),n=0,r=0;r<t.fractionalPart.length;r++){var i=parseInt(t.fractionalPart[r],t.radix);n+=i/Math.pow(t.radix,r+1)}var u=e+n;if(isNaN(u))throw new SyntaxError('String "'+t.input+'" is not a valid number');return u}var ol=rt(nl,rl,t=>{var{typed:e}=t,n=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=il(i);if(u)return ul(u);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var a=Number(i);if(isNaN(a))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(a>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));a>=2**(o-1)&&(a=a-2**o)}return a},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":e.referToSelf(r=>i=>Pe(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),sl="bignumber",al=["typed","BigNumber"],cl=rt(sl,al,t=>{var{typed:e,BigNumber:n}=t;return e("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],s=n(u[1]),a=new n(2).pow(Number(o));if(s.gt(a.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new n(2).pow(Number(o)-1);return s.gte(c)?s.sub(a):s}return new n(i)},BigNumber:function(i){return i},bigint:function(i){return new n(i.toString())},Unit:e.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Fraction:function(i){return new n(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new n(0)},"Array | Matrix":e.referToSelf(r=>i=>Pe(i,r))})}),fl="fraction",ll=["typed","Fraction"],hl=rt(fl,ll,t=>{var{typed:e,Fraction:n}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,u){return new n(i,u)},"bigint, bigint":function(i,u){return new n(i,u)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},bigint:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Object:function(i){return new n(i)},"Array | Matrix":e.referToSelf(r=>i=>Pe(i,r))})}),qi="matrix",dl=["typed","Matrix","DenseMatrix","SparseMatrix"],pl=rt(qi,dl,t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(qi,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,a){return u([],s,a)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,a){if(s==="dense"||s==="default"||s===void 0)return new r(o,a);if(s==="sparse")return new i(o,a);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),Ui="unaryMinus",ml=["typed"],Dl=rt(Ui,ml,t=>{var{typed:e}=t;return e(Ui,{number:ho,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:e.referToSelf(n=>r=>{var i=r.clone();return i.value=e.find(n,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(n=>r=>Pe(r,n,!0))})}),Vi="abs",gl=["typed"],vl=rt(Vi,gl,t=>{var{typed:e}=t;return e(Vi,{number:ao,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":e.referToSelf(n=>r=>Pe(r,n,!0))})}),Wi="addScalar",wl=["typed"],yl=rt(Wi,wl,t=>{var{typed:e}=t;return e(Wi,{"number, number":co,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=e.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Hi="subtractScalar",Fl=["typed"],El=rt(Hi,Fl,t=>{var{typed:e}=t;return e(Hi,{"number, number":fo,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=e.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Al="matAlgo11xS0s",Cl=["typed","equalScalar"],_l=rt(Al,Cl,t=>{var{typed:e,equalScalar:n}=t;return function(i,u,o,s){var a=i._values,c=i._index,f=i._ptr,l=i._size,h=i._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=l[0],w=l[1],d,m=n,F=0,C=o;typeof h=="string"&&(d=h,m=e.find(n,[d,d]),F=e.convert(0,d),u=e.convert(u,d),C=e.find(o,[d,d]));for(var y=[],_=[],g=[],D=0;D<w;D++){g[D]=_.length;for(var A=f[D],b=f[D+1],B=A;B<b;B++){var T=c[B],M=s?C(u,a[B]):C(a[B],u);m(M,F)||(_.push(T),y.push(M))}}return g[w]=_.length,i.createSparseMatrix({values:y,index:_,ptr:g,size:[p,w],datatype:d})}}),xl="matAlgo14xDs",bl=["typed"],Bl=rt(xl,bl,t=>{var{typed:e}=t;return function(i,u,o,s){var a=i._data,c=i._size,f=i._datatype,l,h=o;typeof f=="string"&&(l=f,u=e.convert(u,l),h=e.find(o,[l,l]));var p=c.length>0?n(h,0,c,c[0],a,u,s):[];return i.createDenseMatrix({data:p,size:At(c),datatype:l})};function n(r,i,u,o,s,a,c){var f=[];if(i===u.length-1)for(var l=0;l<o;l++)f[l]=c?r(a,s[l]):r(s[l],a);else for(var h=0;h<o;h++)f[h]=n(r,i+1,u,u[i+1],s[h],a,c);return f}}),Ml="multiplyScalar",Nl=["typed"],Sl=rt(Ml,Nl,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":lo,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),Zi="multiply",Tl=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Il=rt(Zi,Tl,t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:u,dot:o}=t,s=_l({typed:e,equalScalar:u}),a=Bl({typed:e});function c(g,D){switch(g.length){case 1:switch(D.length){case 1:if(g[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(g[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+g[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(g[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+g[1]+") must match Vector length ("+D[0]+")");break;case 2:if(g[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+g[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+g.length+" dimensions)")}}function f(g,D,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return o(g,D)}function l(g,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(g,D)}function h(g,D){var A=g._data,b=g._size,B=g._datatype||g.getDataType(),T=D._data,M=D._size,j=D._datatype||D.getDataType(),q=b[0],Z=M[1],W,z=r,J=i;B&&j&&B===j&&typeof B=="string"&&B!=="mixed"&&(W=B,z=e.find(r,[W,W]),J=e.find(i,[W,W]));for(var X=[],H=0;H<Z;H++){for(var et=J(A[0],T[0][H]),ot=1;ot<q;ot++)et=z(et,J(A[ot],T[ot][H]));X[H]=et}return g.createDenseMatrix({data:X,size:[Z],datatype:B===g._datatype&&j===D._datatype?W:void 0})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":C}),w=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":F,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":_});function d(g,D){var A=g._data,b=g._size,B=g._datatype||g.getDataType(),T=D._data,M=D._datatype||D.getDataType(),j=b[0],q=b[1],Z,W=r,z=i;B&&M&&B===M&&typeof B=="string"&&B!=="mixed"&&(Z=B,W=e.find(r,[Z,Z]),z=e.find(i,[Z,Z]));for(var J=[],X=0;X<j;X++){for(var H=A[X],et=z(H[0],T[0]),ot=1;ot<q;ot++)et=W(et,z(H[ot],T[ot]));J[X]=et}return g.createDenseMatrix({data:J,size:[j],datatype:B===g._datatype&&M===D._datatype?Z:void 0})}function m(g,D){var A=g._data,b=g._size,B=g._datatype||g.getDataType(),T=D._data,M=D._size,j=D._datatype||D.getDataType(),q=b[0],Z=b[1],W=M[1],z,J=r,X=i;B&&j&&B===j&&typeof B=="string"&&B!=="mixed"&&B!=="mixed"&&(z=B,J=e.find(r,[z,z]),X=e.find(i,[z,z]));for(var H=[],et=0;et<q;et++){var ot=A[et];H[et]=[];for(var it=0;it<W;it++){for(var ct=X(ot[0],T[0][it]),_t=1;_t<Z;_t++)ct=J(ct,X(ot[_t],T[_t][it]));H[et][it]=ct}}return g.createDenseMatrix({data:H,size:[q,W],datatype:B===g._datatype&&j===D._datatype?z:void 0})}function F(g,D){var A=g._data,b=g._size,B=g._datatype||g.getDataType(),T=D._values,M=D._index,j=D._ptr,q=D._size,Z=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var W=b[0],z=q[1],J,X=r,H=i,et=u,ot=0;B&&Z&&B===Z&&typeof B=="string"&&B!=="mixed"&&(J=B,X=e.find(r,[J,J]),H=e.find(i,[J,J]),et=e.find(u,[J,J]),ot=e.convert(0,J));for(var it=[],ct=[],_t=[],Ft=D.createSparseMatrix({values:it,index:ct,ptr:_t,size:[W,z],datatype:B===g._datatype&&Z===D._datatype?J:void 0}),vt=0;vt<z;vt++){_t[vt]=ct.length;var pt=j[vt],kt=j[vt+1];if(kt>pt)for(var ft=0,st=0;st<W;st++){for(var Gt=st+1,$t=void 0,lt=pt;lt<kt;lt++){var It=M[lt];ft!==Gt?($t=H(A[st][It],T[lt]),ft=Gt):$t=X($t,H(A[st][It],T[lt]))}ft===Gt&&!et($t,ot)&&(ct.push(st),it.push($t))}}return _t[z]=ct.length,Ft}function C(g,D){var A=g._values,b=g._index,B=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=D._data,j=D._datatype||D.getDataType(),q=g._size[0],Z=D._size[0],W=[],z=[],J=[],X,H=r,et=i,ot=u,it=0;T&&j&&T===j&&typeof T=="string"&&T!=="mixed"&&(X=T,H=e.find(r,[X,X]),et=e.find(i,[X,X]),ot=e.find(u,[X,X]),it=e.convert(0,X));var ct=[],_t=[];J[0]=0;for(var Ft=0;Ft<Z;Ft++){var vt=M[Ft];if(!ot(vt,it))for(var pt=B[Ft],kt=B[Ft+1],ft=pt;ft<kt;ft++){var st=b[ft];_t[st]?ct[st]=H(ct[st],et(vt,A[ft])):(_t[st]=!0,z.push(st),ct[st]=et(vt,A[ft]))}}for(var Gt=z.length,$t=0;$t<Gt;$t++){var lt=z[$t];W[$t]=ct[lt]}return J[1]=z.length,g.createSparseMatrix({values:W,index:z,ptr:J,size:[q,1],datatype:T===g._datatype&&j===D._datatype?X:void 0})}function y(g,D){var A=g._values,b=g._index,B=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=D._data,j=D._datatype||D.getDataType(),q=g._size[0],Z=D._size[0],W=D._size[1],z,J=r,X=i,H=u,et=0;T&&j&&T===j&&typeof T=="string"&&T!=="mixed"&&(z=T,J=e.find(r,[z,z]),X=e.find(i,[z,z]),H=e.find(u,[z,z]),et=e.convert(0,z));for(var ot=[],it=[],ct=[],_t=g.createSparseMatrix({values:ot,index:it,ptr:ct,size:[q,W],datatype:T===g._datatype&&j===D._datatype?z:void 0}),Ft=[],vt=[],pt=0;pt<W;pt++){ct[pt]=it.length;for(var kt=pt+1,ft=0;ft<Z;ft++){var st=M[ft][pt];if(!H(st,et))for(var Gt=B[ft],$t=B[ft+1],lt=Gt;lt<$t;lt++){var It=b[lt];vt[It]!==kt?(vt[It]=kt,it.push(It),Ft[It]=X(st,A[lt])):Ft[It]=J(Ft[It],X(st,A[lt]))}}for(var Jt=ct[pt],de=it.length,pe=Jt;pe<de;pe++){var $e=it[pe];ot[pe]=Ft[$e]}}return ct[W]=it.length,_t}function _(g,D){var A=g._values,b=g._index,B=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType(),M=D._values,j=D._index,q=D._ptr,Z=D._datatype||D._data===void 0?D._datatype:D.getDataType(),W=g._size[0],z=D._size[1],J=A&&M,X,H=r,et=i;T&&Z&&T===Z&&typeof T=="string"&&T!=="mixed"&&(X=T,H=e.find(r,[X,X]),et=e.find(i,[X,X]));for(var ot=J?[]:void 0,it=[],ct=[],_t=g.createSparseMatrix({values:ot,index:it,ptr:ct,size:[W,z],datatype:T===g._datatype&&Z===D._datatype?X:void 0}),Ft=J?[]:void 0,vt=[],pt,kt,ft,st,Gt,$t,lt,It,Jt=0;Jt<z;Jt++){ct[Jt]=it.length;var de=Jt+1;for(Gt=q[Jt],$t=q[Jt+1],st=Gt;st<$t;st++)if(It=j[st],J)for(kt=B[It],ft=B[It+1],pt=kt;pt<ft;pt++)lt=b[pt],vt[lt]!==de?(vt[lt]=de,it.push(lt),Ft[lt]=et(M[st],A[pt])):Ft[lt]=H(Ft[lt],et(M[st],A[pt]));else for(kt=B[It],ft=B[It+1],pt=kt;pt<ft;pt++)lt=b[pt],vt[lt]!==de&&(vt[lt]=de,it.push(lt));if(J)for(var pe=ct[Jt],$e=it.length,Oe=pe;Oe<$e;Oe++){var hr=it[Oe];ot[Oe]=Ft[hr]}}return ct[z]=it.length,_t}return e(Zi,i,{"Array, Array":e.referTo("Matrix, Matrix",g=>(D,A)=>{c(Ht(D),Ht(A));var b=g(n(D),n(A));return Ct(b)?b.valueOf():b}),"Matrix, Matrix":function(D,A){var b=D.size(),B=A.size();return c(b,B),b.length===1?B.length===1?f(D,A,b[0]):l(D,A):B.length===1?p(D,A):w(D,A)},"Matrix, Array":e.referTo("Matrix,Matrix",g=>(D,A)=>g(D,n(A))),"Array, Matrix":e.referToSelf(g=>(D,A)=>g(n(D,A.storage()),A)),"SparseMatrix, any":function(D,A){return s(D,A,i,!1)},"DenseMatrix, any":function(D,A){return a(D,A,i,!1)},"any, SparseMatrix":function(D,A){return s(A,D,i,!0)},"any, DenseMatrix":function(D,A){return a(A,D,i,!0)},"Array, any":function(D,A){return a(n(D),A,i,!1).valueOf()},"any, Array":function(D,A){return a(n(A),D,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(g=>(D,A,b)=>{for(var B=g(D,A),T=0;T<b.length;T++)B=g(B,b[T]);return B})})}),Xi="conj",Pl=["typed"],$l=rt(Xi,Pl,t=>{var{typed:e}=t;return e(Xi,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),Unit:e.referToSelf(n=>r=>new r.constructor(n(r.toNumeric()),r.formatUnits())),"Array | Matrix":e.referToSelf(n=>r=>Pe(r,n))})}),Yi="identity",Ol=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Rl=rt(Yi,Ol,t=>{var{typed:e,config:n,matrix:r,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=t;return e(Yi,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(f){return r(f)},"number | BigNumber":function(f){return a(f,f,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(f,l){return a(f,f,l)},"number | BigNumber, number | BigNumber":function(f,l){return a(f,l,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(f,l,h){return a(f,l,h)},Array:function(f){return s(f)},"Array, string":function(f,l){return s(f,l)},Matrix:function(f){return s(f.valueOf(),f.storage())},"Matrix, string":function(f,l){return s(f.valueOf(),l)}});function s(c,f){switch(c.length){case 0:return f?r(f):[];case 1:return a(c[0],c[0],f);case 2:return a(c[0],c[1],f);default:throw new Error("Vector containing two values expected")}}function a(c,f,l){var h=Bt(c)||Bt(f)?i:null;if(Bt(c)&&(c=c.toNumber()),Bt(f)&&(f=f.toNumber()),!Tt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Tt(f)||f<1)throw new Error("Parameters in function identity must be positive integers");var p=h?new i(1):1,w=h?new h(0):0,d=[c,f];if(l){if(l==="sparse")return o.diagonal(d,p,0,w);if(l==="dense")return u.diagonal(d,p,0,w);throw new TypeError('Unknown matrix type "'.concat(l,'"'))}for(var m=Sr([],d,w),F=c<f?c:f,C=0;C<F;C++)m[C][C]=p;return m}});function zl(){throw new Error('No "bignumber" implementation available')}function kl(){throw new Error('No "fraction" implementation available')}function jl(){throw new Error('No "matrix" implementation available')}var Gi="size",Ll=["typed","config","?matrix"],ql=rt(Gi,Ll,t=>{var{typed:e,config:n,matrix:r}=t;return e(Gi,{Matrix:function(u){return u.create(u.size(),"number")},Array:Ht,string:function(u){return n.matrix==="Array"?[u.length]:r([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return n.matrix==="Array"?[]:r?r([],"dense","number"):jl()}})}),Ul="numeric",Vl=["number","?bignumber","?fraction"],Wl=rt(Ul,Vl,t=>{var{number:e,bignumber:n,fraction:r}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>e(o),BigNumber:n?o=>n(o):zl,bigint:o=>BigInt(o),Fraction:r?o=>r(o):kl};return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var f=Ee(s);if(!(f in i))throw new TypeError("Cannot convert "+s+' of type "'+f+'"; valid input types are '+Object.keys(i).join(", "));if(!(a in u))throw new TypeError("Cannot convert "+s+' to type "'+a+'"; valid output types are '+Object.keys(u).join(", "));return a===f?s:u[a](s)}}),Ji="divideScalar",Hl=["typed","numeric"],Zl=rt(Ji,Hl,t=>{var{typed:e,numeric:n}=t;return e(Ji,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),Ki="dot",Xl=["typed","addScalar","multiplyScalar","conj","size"],Yl=rt(Ki,Xl,t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:u}=t;return e(Ki,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":a});function o(f,l){var h=c(f),p=c(l),w,d;if(h.length===1)w=h[0];else if(h.length===2&&h[1]===1)w=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(p.length===1)d=p[0];else if(p.length===2&&p[1]===1)d=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(w!==d)throw new RangeError("Vectors must have equal length ("+w+" != "+d+")");if(w===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return w}function s(f,l){var h=o(f,l),p=Ct(f)?f._data:f,w=Ct(f)?f._datatype||f.getDataType():void 0,d=Ct(l)?l._data:l,m=Ct(l)?l._datatype||l.getDataType():void 0,F=c(f).length===2,C=c(l).length===2,y=n,_=r;if(w&&m&&w===m&&typeof w=="string"&&w!=="mixed"){var g=w;y=e.find(n,[g,g]),_=e.find(r,[g,g])}if(!F&&!C){for(var D=_(i(p[0]),d[0]),A=1;A<h;A++)D=y(D,_(i(p[A]),d[A]));return D}if(!F&&C){for(var b=_(i(p[0]),d[0][0]),B=1;B<h;B++)b=y(b,_(i(p[B]),d[B][0]));return b}if(F&&!C){for(var T=_(i(p[0][0]),d[0]),M=1;M<h;M++)T=y(T,_(i(p[M][0]),d[M]));return T}if(F&&C){for(var j=_(i(p[0][0]),d[0][0]),q=1;q<h;q++)j=y(j,_(i(p[q][0]),d[q][0]));return j}}function a(f,l){o(f,l);for(var h=f._index,p=f._values,w=l._index,d=l._values,m=0,F=n,C=r,y=0,_=0;y<h.length&&_<w.length;){var g=h[y],D=w[_];if(g<D){y++;continue}if(g>D){_++;continue}g===D&&(m=F(m,C(p[y],d[_])),y++,_++)}return m}function c(f){return Ct(f)?f.size():u(f)}}),Qi="det",Gl=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Jl=rt(Qi,Gl,t=>{var{typed:e,matrix:n,subtractScalar:r,multiply:i,divideScalar:u,isZero:o,unaryMinus:s}=t;return e(Qi,{any:function(f){return At(f)},"Array | Matrix":function(f){var l;switch(Ct(f)?l=f.size():Array.isArray(f)?(f=n(f),l=f.size()):l=[],l.length){case 0:return At(f);case 1:if(l[0]===1)return At(f.valueOf()[0]);if(l[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+bt(l)+")");case 2:{var h=l[0],p=l[1];if(h===p)return a(f.clone().valueOf(),h);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+bt(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+bt(l)+")")}}});function a(c,f,l){if(f===1)return At(c[0][0]);if(f===2)return r(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var h=!1,p=new Array(f).fill(0).map((A,b)=>b),w=0;w<f;w++){var d=p[w];if(o(c[d][w])){var m=void 0;for(m=w+1;m<f;m++)if(!o(c[p[m]][w])){d=p[m],p[m]=p[w],p[w]=d,h=!h;break}if(m===f)return c[d][w]}for(var F=c[d][w],C=w===0?1:c[p[w-1]][w-1],y=w+1;y<f;y++)for(var _=p[y],g=w+1;g<f;g++)c[_][g]=u(r(i(c[_][g],F),i(c[_][w],c[d][g])),C)}var D=c[p[f-1]][f-1];return h?s(D):D}}),tu="inv",Kl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ql=rt(tu,Kl,t=>{var{typed:e,matrix:n,divideScalar:r,addScalar:i,multiply:u,unaryMinus:o,det:s,identity:a,abs:c}=t;return e(tu,{"Array | Matrix":function(h){var p=Ct(h)?h.size():Ht(h);switch(p.length){case 1:if(p[0]===1)return Ct(h)?n([r(1,h.valueOf()[0])]):[r(1,h[0])];throw new RangeError("Matrix must be square (size: "+bt(p)+")");case 2:{var w=p[0],d=p[1];if(w===d)return Ct(h)?n(f(h.valueOf(),w,d),h.storage()):f(h,w,d);throw new RangeError("Matrix must be square (size: "+bt(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+bt(p)+")")}},any:function(h){return r(1,h)}});function f(l,h,p){var w,d,m,F,C;if(h===1){if(F=l[0][0],F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,F)]]}else if(h===2){var y=s(l);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(l[1][1],y),r(o(l[0][1]),y)],[r(o(l[1][0]),y),r(l[0][0],y)]]}else{var _=l.concat();for(w=0;w<h;w++)_[w]=_[w].concat();for(var g=a(h).valueOf(),D=0;D<p;D++){var A=c(_[D][D]),b=D;for(w=D+1;w<h;)c(_[w][D])>A&&(A=c(_[w][D]),b=w),w++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");w=b,w!==D&&(C=_[D],_[D]=_[w],_[w]=C,C=g[D],g[D]=g[w],g[w]=C);var B=_[D],T=g[D];for(w=0;w<h;w++){var M=_[w],j=g[w];if(w!==D){if(M[D]!==0){for(m=r(o(M[D]),B[D]),d=D;d<p;d++)M[d]=i(M[d],u(m,B[d]));for(d=0;d<p;d++)j[d]=i(j[d],u(m,T[d]))}}else{for(m=B[D],d=D;d<p;d++)M[d]=r(M[d],m);for(d=0;d<p;d++)j[d]=r(j[d],m)}}}return g}}}),ti=hf({config:gn}),t0=gf({}),po=Cf({}),ei=bf({}),ni=Wf({Matrix:ei}),Mt=pc({BigNumber:ti,Complex:t0,DenseMatrix:ni,Fraction:po}),e0=vl({typed:Mt}),ri=yl({typed:Mt}),n0=$l({typed:Mt}),ii=Kf({config:gn,typed:Mt}),r0=Xf({equalScalar:ii,typed:Mt}),mo=Sl({typed:Mt}),i0=ol({typed:Mt}),Do=el({Matrix:ei,equalScalar:ii,typed:Mt}),u0=El({typed:Mt}),o0=cl({BigNumber:ti,typed:Mt}),Se=pl({DenseMatrix:ni,Matrix:ei,SparseMatrix:Do,typed:Mt}),s0=hl({Fraction:po,typed:Mt}),a0=Rl({BigNumber:ti,DenseMatrix:ni,SparseMatrix:Do,config:gn,matrix:Se,typed:Mt}),c0=Wl({bignumber:o0,fraction:s0,number:i0}),f0=ql({matrix:Se,config:gn,typed:Mt}),go=Dl({typed:Mt}),vo=Zl({numeric:c0,typed:Mt}),l0=Yl({addScalar:ri,conj:n0,multiplyScalar:mo,size:f0,typed:Mt}),ui=Il({addScalar:ri,dot:l0,equalScalar:ii,matrix:Se,multiplyScalar:mo,typed:Mt}),h0=Jl({divideScalar:vo,isZero:r0,matrix:Se,multiply:ui,subtractScalar:u0,typed:Mt,unaryMinus:go}),d0=Ql({abs:e0,addScalar:ri,det:h0,divideScalar:vo,identity:a0,matrix:Se,multiply:ui,typed:Mt,unaryMinus:go});const p0=t=>{const{m:e,ro:n,rl:r,Cp:i}=t.inputs,u=Array(5).fill(0),o=Array(6).fill(1),s=Array.from({length:6},(p,w)=>w+2),a=Array.from({length:6},(p,w)=>Math.pow(e,w+1)),c=Array.from({length:6},(p,w)=>(w+1)*Math.pow(e,w)),f=Array.from({length:6},(p,w)=>1/(w+2)),l=Se([[1,...u],o,s,a,c,f]),h=Se([2*n,0,-2*r,1/4,0,i/4]);return ui(d0(l),h).toArray()};function m0(t,e,n,r,i,u){const o=t*(e/1e3),s=n-o,a=t/(r*u*i);return{envelopeWeight:o,liftCapacity:s,surfaceCoefficient:a}}function D0(t,e,n,r,i,u){const o=g0(r);v0(o,u,r),w0(o,r),y0(o,t,r),F0(o,r),E0(o,e,n,r),A0(o,r),C0(o,r),_0(o,u,i,r),x0(o,r),b0(o,r),B0(o,r),M0(o,u,r),N0(o,r),S0(o,r);const s=T0(o,i,r),a=I0(o,r);return{patternPoints:o,surfaceArea:s,integratedVolume:u/3*a}}function Xt(t){const e=1/Math.pow(10,12);return Math.abs(t)<e&&t!==0?0:t+0}function g0(t){const e=[];for(let n=0;n<=t;n++)e.push({s:n,phi:0,x2L:0,r2D2:0,r2D:0,x:0,r:0,nr:0,dx:0,dr:0,ds:0,cumulativeS:0,U:0,nU:0,drdx:0,h:0,sPrime:0,theta:0,thetaDegree:0,xP:0,yP:0,nyP:0,dxP:0,dSPrime:0,SV:0});return e}function v0(t,e,n){for(let r=0;r<=n;r++)t[r].phi=e/n*r}function w0(t,e){for(let n=0;n<=e;n++)t[n].x2L=(1-Math.cos(t[n].phi))/2}function y0(t,e,n){for(let r=0;r<=n;r++){let i=0;for(let u=0;u<6;u++)i+=e[u]*Math.pow(t[r].x2L,u+1);t[r].r2D2=Xt(i)}}function F0(t,e){for(let n=0;n<=e;n++)t[n].r2D=Math.sqrt(t[n].r2D2)}function E0(t,e,n,r){for(let i=0;i<=r;i++)t[i].x=Xt(t[i].x2L*e),t[i].r=Xt(t[i].r2D*n),t[i].nr=Xt(-1*t[i].r)}function A0(t,e){for(let n=0;n<=e;n++){if(n==0)continue;const r=t[n-1];t[n].dx=Xt(t[n].x-r.x),t[n].dr=Xt(t[n].r-r.r),t[n].ds=Xt(Math.sqrt(t[n].dx*t[n].dx+t[n].dr*t[n].dr))}}function C0(t,e){let n=0;for(let r=0;r<=e;r++)r!=0&&(n+=t[r].ds,t[r].cumulativeS=Xt(n))}function _0(t,e,n,r){for(let i=0;i<=r;i++)t[i].U=Xt(e*t[i].r/n),t[i].nU=Xt(-1*t[i].U)}function x0(t,e){for(let n=0;n<=e;n++){if(n==0)continue;const r=t[n-1],i=t[n],u=t[n+1];if(n==e){i.drdx=(r.r-i.r)/(r.x-i.x)-(r.r-0)/(r.x-0)+(i.r-0)/(i.x-0);continue}i.drdx=(r.r-i.r)/(r.x-i.x)-(r.r-u.r)/(r.x-u.x)+(i.r-u.r)/(i.x-u.x)}}function b0(t,e){for(let n=0;n<=e;n++){if(n==0)continue;const r=t[n];r.h=Xt(r.r/r.drdx)}}function B0(t,e){for(let n=0;n<=e;n++){if(n==0)continue;const r=t[n];r.sPrime=Math.sqrt(r.r*r.r+r.h*r.h)*Math.sign(r.h)}}function M0(t,e,n){for(let r=0;r<=n;r++){if(r==0)continue;const i=t[r];i.theta=i.U/i.sPrime,r==n&&(i.theta=0),i.thetaDegree=i.theta/(e*180)}}function N0(t,e){for(let n=0;n<=e;n++){const r=t[n];r.xP=r.cumulativeS-r.sPrime+r.sPrime*Math.cos(r.theta),r.yP=r.sPrime*Math.sin(r.theta),r.nyP=-1*r.yP}}function S0(t,e){for(let n=0;n<e;n++)t[n].dxP=t[n+1].xP-t[n].xP;t[e].dxP=0}function T0(t,e,n){let r=0;for(let i=0;i<n;i++)t[i].dSPrime=e*t[i].dxP*(t[i+1].yP+t[i].yP),r+=t[i].dSPrime;return t[n].dSPrime=0,r}function I0(t,e){let n=0;for(let r=0;r<=e;r++){const i=t[r],u=t[r+1];if(r==e){t[r].SV=Xt(0-i.x)*(0**2+0*i.r+i.r**2),n+=t[r].SV;continue}t[r].SV=Xt(u.x-i.x)*(u.r**2+u.r*i.r+i.r**2),n+=t[r].SV}return n}function P0(t,e){let n=0,r=0;for(let i=0;i<6;i++)n+=t[i]/(i+3),r+=t[i]/(i+2);return n/r*e}const vr=t=>{const e=Math.PI,n=p0(t),r=t.inputs.Cp*e/4,i=t.inputs.Vb*r,u=Math.pow(i*Math.pow(t.inputs.L2D,2)*4/(t.inputs.Cp*e),1/3),o=u/t.inputs.L2D,s=P0(n,u),a=t.inputs.n,c=Math.ceil(o*e/.8),{patternPoints:f,surfaceArea:l,integratedVolume:h}=D0(n,u,o,a,c,e),p=m0(l,t.inputs.rhoS,i,u,o,e),w=$0(c,f[a]);return{L:u,D:o,V:i,a:n,nG:c,xCB:s,summary:{...p,surfaceArea:l,integratedVolume:h,cost:w},patternPoints:f}},$0=(t,e)=>{const r=Math.ceil(e.cumulativeS)*t*11;return Math.ceil(r/10)*10},ar=ga(t=>{const e={inputs:{n:50,L2D:5,Vb:4,m:.4,ro:.6,rl:.2,Cp:.65,rhoS:30}},n=vr(e);return{...e,...n,updateInput:(r,i)=>t(u=>{if(r in u.inputs){const o={...u.inputs,[r]:i},s={...u,inputs:o};return{...s,...vr(s)}}return u}),calculate:()=>t(r=>({...r,...vr(r)}))}}),O0=(t,e,n)=>{const r=Math.floor((e-t)/n)+1;if(r<=6)return Array.from({length:r},(o,s)=>({value:t+s*n,label:(t+s*n).toString()}));const i=[{value:t,label:t.toString()}],u=4;for(let o=1;o<u;o++){const s=t+(e-t)*o/u;i.push({value:Math.round(s/n)*n,label:Number(Math.round(s/n)*n).toFixed(1)+""})}return i.push({value:e,label:e.toString()}),i},eu=({id:t,label:e,value:n,onChange:r,min:i=0,max:u=100,step:o=1,marks:s=!1,disabled:a=!1,...c})=>{const f=O0(typeof i=="number"?i:0,typeof u=="number"?u:100,typeof o=="number"?o:1),l=h=>{const p=Number(h.target.value);isNaN(p)||r(h,p)};return x.jsxs(yt,{sx:{width:"100%",paddingRight:8},children:[e&&x.jsxs(yt,{sx:{display:"flex",alignItems:"center",minHeight:36,flexDirection:"column",gap:1},children:[x.jsxs(nt,{id:t,gutterBottom:!0,sx:{fontWeight:"bold",fontFamily:"monospace",color:"#222b3d",whiteSpace:"wrap"},children:[e,":"]}),x.jsx(rn,{variant:"standard",type:"number",value:typeof n=="number"?n:n[0],onChange:l,slotProps:{input:{inputProps:{min:i,max:u,step:o,style:{marginLeft:"10px",fontWeight:"bold",fontFamily:"monospace",color:"#1976d2",textAlign:"center",background:"transparent",fontSize:14,width:`calc(${String(n).length*2}ch)`,minWidth:40,maxWidth:80,transition:"width 0.2s"}}}},sx:{"& .MuiInputBase-root":{fontFamily:"monospace",fontWeight:"bold",color:"#1976d2"},"& .MuiInput-underline:before":{borderColor:"#1976d2"},"& .MuiInput-underline:hover:before":{borderColor:"#1976d2"}}})]}),x.jsx(Ss,{...c,marks:f,min:i,max:u,step:o,value:n,onChange:r,disabled:a,sx:{m:1,color:"#1976d2",height:8,"& .MuiSlider-thumb":{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor","&:hover, &.Mui-focusVisible":{boxShadow:"inherit"}},"& .MuiSlider-track":{height:14},"& .MuiSlider-rail":{height:10},"& .MuiSlider-markLabel":{fontFamily:"monospace"}}})]})},R0=()=>{const{inputs:{L2D:t,Vb:e,m:n,ro:r,rl:i,Cp:u,rhoS:o},updateInput:s}=ar(),a=(l,h)=>{const p=Number(h);isNaN(p)||s(l,p)},c=Lt.useMemo(()=>[{id:"m",label:"Max Thickness Position",value:n,step:.01,min:.2,max:.78,type:"number"},{id:"rhoS",label:"Envelope Material Weight (g/m)",value:o,type:"number",step:1,min:10,max:100},{id:"ro",label:"Bow Radius",value:r,step:.1,min:0,max:2,type:"number"},{id:"rl",label:"Stern Radius",value:i,step:.1,min:0,max:1,type:"number"},{id:"Cp",label:"Prismatic Coefficient",value:u,step:.01,min:.5,max:5,type:"number"}],[n,r,i,u,o]),f=[{id:"L2D",label:"L/D Ratio",value:t,type:"number",step:.1,min:1,max:10},{id:"Vb",label:"Block Volume (m)",value:e,type:"number",step:.1,min:.1,max:20}];return x.jsxs(x.Fragment,{children:[x.jsx(yt,{mb:4,children:x.jsx(ln,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:x.jsxs(Ar,{children:[x.jsx(nt,{variant:"h5",fontWeight:"bold",mb:3,children:"Design Parameters"}),x.jsx(Et,{container:!0,rowSpacing:3,columnSpacing:2,mb:2,columns:12,children:f.map(l=>x.jsx(Et,{size:{xs:12,sm:12,md:6},children:x.jsx(yt,{width:"100%",children:x.jsx(eu,{id:l.id,label:l.label,value:Number(l.value),step:l.step,min:l.min,max:l.max,onChange:(h,p)=>a(l.id,Array.isArray(p)?String(p[0]):String(p))})})},l.id))})]})})}),x.jsx(yt,{mb:4,children:x.jsx(ln,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:x.jsxs(Ar,{children:[x.jsx(nt,{variant:"h5",fontWeight:"bold",mb:3,children:"Shape Coefficients"}),x.jsx(Et,{container:!0,rowSpacing:3,columnSpacing:2,mb:2,columns:12,children:c.map(l=>x.jsx(Et,{size:{xs:12,sm:12,md:6},children:x.jsx(yt,{width:"100%",children:x.jsx(eu,{id:l.id,label:l.label,value:Number(l.value),step:l.step,min:l.min,max:l.max,onChange:(h,p)=>a(l.id,Array.isArray(p)?String(p[0]):String(p))})})},l.id))})]})})})]})},z0=()=>{const{L:t,D:e,V:n,a:r,nG:i,xCB:u,summary:o}=ar();return x.jsxs(yt,{sx:{p:3,width:"100%"},children:[x.jsxs(nt,{variant:"h5",fontWeight:"bold",mb:1,children:[" ","Design Results"]}),x.jsxs(Et,{container:!0,rowSpacing:4,columnSpacing:8,columns:12,children:[x.jsx(Et,{size:{xs:12,md:6,lg:6},children:x.jsxs(yt,{children:[x.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Primary Dimensions"}),x.jsxs(Di,{spacing:1,children:[x.jsx(_e,{label:"Length (L)",value:t.toFixed(3),unit:"m"}),x.jsx(_e,{label:"Diameter (D)",value:e.toFixed(3),unit:"m"}),x.jsx(_e,{label:"Volume (V)",value:n.toFixed(3),unit:"m"}),x.jsx(_e,{label:"Number of Gores (nG)",value:i,unit:"(-)"}),x.jsx(_e,{label:"Center of Buoyancy (xCB)",value:u.toFixed(3),unit:"m from bow"})]})]})}),x.jsx(Et,{size:{xs:12,md:6,lg:6},children:x.jsxs(yt,{children:[x.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Shape Coefficients"}),x.jsx(Et,{container:!0,spacing:2,columns:6,children:r.map((s,a)=>x.jsx(Et,{size:{xs:6,sm:6,md:3},children:x.jsxs(En,{elevation:0,sx:{backgroundColor:Ts[`${600-a*100}`],p:1,borderRadius:1,textAlign:"center"},children:[x.jsxs(nt,{variant:"body1",color:"text.secondary",children:["a",x.jsx("sub",{children:a+1})]}),x.jsx(nt,{variant:"body2",fontWeight:"bold",fontFamily:"monospace",sx:{mt:.5},children:s.toExponential(2)})]},a)},a))})]})}),x.jsx(Et,{size:{xs:12,md:6,lg:6},children:x.jsxs(yt,{children:[x.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Performance"}),x.jsxs(Di,{spacing:1,children:[x.jsx(_e,{label:"Envelope Weight",value:o.envelopeWeight.toFixed(3),unit:"kg"}),x.jsx(_e,{label:"Lift Capacity",value:o.liftCapacity.toFixed(3),unit:"kg"})]})]})}),x.jsx(Et,{size:{xs:12,md:6,lg:6},children:x.jsxs(yt,{sx:{mt:2},children:[x.jsx(nt,{variant:"h6",fontWeight:"bold",mt:3,mb:1,children:"Integration Results"}),x.jsxs(Et,{container:!0,spacing:2,columns:12,children:[x.jsx(Et,{size:{xs:12,sm:12,lg:6},children:x.jsxs(En,{elevation:0,sx:{p:1.5,borderRadius:1,backgroundColor:un[50],textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[x.jsx(nt,{variant:"body2",color:"primary.main",children:"Surface Area"}),x.jsxs(nt,{variant:"body1",fontWeight:"bold",fontFamily:"monospace",children:[o.surfaceArea.toFixed(3)," m"]})]})}),x.jsx(Et,{size:{xs:12,sm:12,lg:6},children:x.jsxs(En,{elevation:0,sx:{height:"100%",p:1.5,borderRadius:1,backgroundColor:Is[50],textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[x.jsx(nt,{variant:"body2",color:"success.main",children:"Volume (Integrated)"}),x.jsxs(nt,{variant:"body1",fontWeight:"bold",fontFamily:"monospace",children:[o.integratedVolume.toFixed(3)," m"]})]})}),x.jsx(Et,{size:{xs:12,sm:12,lg:12},children:x.jsxs(En,{elevation:0,sx:{p:3,borderRadius:1,backgroundColor:Ps[50],textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[x.jsx(nt,{variant:"body2",color:"success.main",children:"Cost excl. VAT (Estimation)"}),x.jsxs(nt,{variant:"body1",fontWeight:"bold",fontFamily:"monospace",children:[o.cost.toFixed(0)," "]})]})})]}),Math.abs(o.integratedVolume-n)>.01&&x.jsxs($s,{severity:"warning",sx:{mt:2},children:["Note: Integrated volume differs from theoretical volume by"," ",(o.integratedVolume-n).toFixed(3)," m (",Math.abs((o.integratedVolume-n)/n*100).toFixed(1),"%)"]})]})})]})]})},_e=({label:t,value:e,unit:n="(-)"})=>x.jsxs(Et,{container:!0,spacing:2,alignItems:"end",justifyContent:"space-between",columns:2,children:[x.jsx(Et,{size:1,children:x.jsxs(nt,{variant:"body1",color:"text.secondary",children:[t,":"]})}),x.jsx(Et,{size:1,children:x.jsxs(nt,{variant:"body1",fontWeight:"500",fontFamily:"monospace",children:[e," ",n&&x.jsx(nt,{component:"span",variant:"body1",color:"text.secondary",children:n})]})})]});function Tn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k0(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wo(t){let e,n,r;t.length!==2?(e=Tn,n=(s,a)=>Tn(t(s),a),r=(s,a)=>t(s)-a):(e=t===Tn||t===k0?t:j0,n=t,r=t);function i(s,a,c=0,f=s.length){if(c<f){if(e(a,a)!==0)return f;do{const l=c+f>>>1;n(s[l],a)<0?c=l+1:f=l}while(c<f)}return c}function u(s,a,c=0,f=s.length){if(c<f){if(e(a,a)!==0)return f;do{const l=c+f>>>1;n(s[l],a)<=0?c=l+1:f=l}while(c<f)}return c}function o(s,a,c=0,f=s.length){const l=i(s,a,c,f-1);return l>c&&r(s[l-1],a)>-r(s[l],a)?l-1:l}return{left:i,center:o,right:u}}function j0(){return 0}function L0(t){return t===null?NaN:+t}const q0=wo(Tn),U0=q0.right;wo(L0).center;const V0=U0,W0=Math.sqrt(50),H0=Math.sqrt(10),Z0=Math.sqrt(2);function Hn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),u=r/Math.pow(10,i),o=u>=W0?10:u>=H0?5:u>=Z0?2:1;let s,a,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),a=Math.round(e*c),s/c<t&&++s,a/c>e&&--a,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),a=Math.round(e/c),s*c<t&&++s,a*c>e&&--a),a<s&&.5<=n&&n<2?Hn(t,e,n*2):[s,a,c]}function X0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,u,o]=r?Hn(e,t,n):Hn(t,e,n);if(!(u>=i))return[];const s=u-i+1,a=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)a[c]=(u-c)/-o;else for(let c=0;c<s;++c)a[c]=(u-c)*o;else if(o<0)for(let c=0;c<s;++c)a[c]=(i+c)/-o;else for(let c=0;c<s;++c)a[c]=(i+c)*o;return a}function Ir(t,e,n){return e=+e,t=+t,n=+n,Hn(t,e,n)[2]}function Y0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ir(e,t,n):Ir(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function G0(t){return t}var wr=1,yr=2,Pr=3,sn=4,nu=1e-6;function J0(t){return"translate("+t+",0)"}function K0(t){return"translate(0,"+t+")"}function Q0(t){return e=>+t(e)}function th(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function eh(){return!this.__axis}function yo(t,e){var n=[],r=null,i=null,u=6,o=6,s=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===wr||t===sn?-1:1,f=t===sn||t===yr?"x":"y",l=t===wr||t===Pr?J0:K0;function h(p){var w=r??(e.ticks?e.ticks.apply(e,n):e.domain()),d=i??(e.tickFormat?e.tickFormat.apply(e,n):G0),m=Math.max(u,0)+s,F=e.range(),C=+F[0]+a,y=+F[F.length-1]+a,_=(e.bandwidth?th:Q0)(e.copy(),a),g=p.selection?p.selection():p,D=g.selectAll(".domain").data([null]),A=g.selectAll(".tick").data(w,e).order(),b=A.exit(),B=A.enter().append("g").attr("class","tick"),T=A.select("line"),M=A.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(B),T=T.merge(B.append("line").attr("stroke","currentColor").attr(f+"2",c*u)),M=M.merge(B.append("text").attr("fill","currentColor").attr(f,c*m).attr("dy",t===wr?"0em":t===Pr?"0.71em":"0.32em")),p!==g&&(D=D.transition(p),A=A.transition(p),T=T.transition(p),M=M.transition(p),b=b.transition(p).attr("opacity",nu).attr("transform",function(j){return isFinite(j=_(j))?l(j+a):this.getAttribute("transform")}),B.attr("opacity",nu).attr("transform",function(j){var q=this.parentNode.__axis;return l((q&&isFinite(q=q(j))?q:_(j))+a)})),b.remove(),D.attr("d",t===sn||t===yr?o?"M"+c*o+","+C+"H"+a+"V"+y+"H"+c*o:"M"+a+","+C+"V"+y:o?"M"+C+","+c*o+"V"+a+"H"+y+"V"+c*o:"M"+C+","+a+"H"+y),A.attr("opacity",1).attr("transform",function(j){return l(_(j)+a)}),T.attr(f+"2",c*u),M.attr(f,c*m).text(d),g.filter(eh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===yr?"start":t===sn?"end":"middle"),g.each(function(){this.__axis=_})}return h.scale=function(p){return arguments.length?(e=p,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(u=o=+p,h):u},h.tickSizeInner=function(p){return arguments.length?(u=+p,h):u},h.tickSizeOuter=function(p){return arguments.length?(o=+p,h):o},h.tickPadding=function(p){return arguments.length?(s=+p,h):s},h.offset=function(p){return arguments.length?(a=+p,h):a},h}function nh(t){return yo(Pr,t)}function rh(t){return yo(sn,t)}var ih={value:()=>{}};function Fo(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new In(n)}function In(t){this._=t}function uh(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}In.prototype=Fo.prototype={constructor:In,on:function(t,e){var n=this._,r=uh(t+"",n),i,u=-1,o=r.length;if(arguments.length<2){for(;++u<o;)if((i=(t=r[u]).type)&&(i=oh(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<o;)if(i=(t=r[u]).type)n[i]=ru(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ru(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new In(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,u;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,i=u.length;r<i;++r)u[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,u=r.length;i<u;++i)r[i].value.apply(e,n)}};function oh(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ru(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ih,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var $r="http://www.w3.org/1999/xhtml";const iu={svg:"http://www.w3.org/2000/svg",xhtml:$r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),iu.hasOwnProperty(e)?{space:iu[e],local:t}:t}function sh(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$r&&e.documentElement.namespaceURI===$r?e.createElement(t):e.createElementNS(n,t)}}function ah(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Eo(t){var e=cr(t);return(e.local?ah:sh)(e)}function ch(){}function oi(t){return t==null?ch:function(){return this.querySelector(t)}}function fh(t){typeof t!="function"&&(t=oi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u=e[i],o=u.length,s=r[i]=new Array(o),a,c,f=0;f<o;++f)(a=u[f])&&(c=t.call(a,a.__data__,f,u))&&("__data__"in a&&(c.__data__=a.__data__),s[f]=c);return new Yt(r,this._parents)}function lh(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hh(){return[]}function Ao(t){return t==null?hh:function(){return this.querySelectorAll(t)}}function dh(t){return function(){return lh(t.apply(this,arguments))}}function ph(t){typeof t=="function"?t=dh(t):t=Ao(t);for(var e=this._groups,n=e.length,r=[],i=[],u=0;u<n;++u)for(var o=e[u],s=o.length,a,c=0;c<s;++c)(a=o[c])&&(r.push(t.call(a,a.__data__,c,o)),i.push(a));return new Yt(r,i)}function Co(t){return function(){return this.matches(t)}}function _o(t){return function(e){return e.matches(t)}}var mh=Array.prototype.find;function Dh(t){return function(){return mh.call(this.children,t)}}function gh(){return this.firstElementChild}function vh(t){return this.select(t==null?gh:Dh(typeof t=="function"?t:_o(t)))}var wh=Array.prototype.filter;function yh(){return Array.from(this.children)}function Fh(t){return function(){return wh.call(this.children,t)}}function Eh(t){return this.selectAll(t==null?yh:Fh(typeof t=="function"?t:_o(t)))}function Ah(t){typeof t!="function"&&(t=Co(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u=e[i],o=u.length,s=r[i]=[],a,c=0;c<o;++c)(a=u[c])&&t.call(a,a.__data__,c,u)&&s.push(a);return new Yt(r,this._parents)}function xo(t){return new Array(t.length)}function Ch(){return new Yt(this._enter||this._groups.map(xo),this._parents)}function Zn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Zn.prototype={constructor:Zn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _h(t){return function(){return t}}function xh(t,e,n,r,i,u){for(var o=0,s,a=e.length,c=u.length;o<c;++o)(s=e[o])?(s.__data__=u[o],r[o]=s):n[o]=new Zn(t,u[o]);for(;o<a;++o)(s=e[o])&&(i[o]=s)}function bh(t,e,n,r,i,u,o){var s,a,c=new Map,f=e.length,l=u.length,h=new Array(f),p;for(s=0;s<f;++s)(a=e[s])&&(h[s]=p=o.call(a,a.__data__,s,e)+"",c.has(p)?i[s]=a:c.set(p,a));for(s=0;s<l;++s)p=o.call(t,u[s],s,u)+"",(a=c.get(p))?(r[s]=a,a.__data__=u[s],c.delete(p)):n[s]=new Zn(t,u[s]);for(s=0;s<f;++s)(a=e[s])&&c.get(h[s])===a&&(i[s]=a)}function Bh(t){return t.__data__}function Mh(t,e){if(!arguments.length)return Array.from(this,Bh);var n=e?bh:xh,r=this._parents,i=this._groups;typeof t!="function"&&(t=_h(t));for(var u=i.length,o=new Array(u),s=new Array(u),a=new Array(u),c=0;c<u;++c){var f=r[c],l=i[c],h=l.length,p=Nh(t.call(f,f&&f.__data__,c,r)),w=p.length,d=s[c]=new Array(w),m=o[c]=new Array(w),F=a[c]=new Array(h);n(f,l,d,m,F,p,e);for(var C=0,y=0,_,g;C<w;++C)if(_=d[C]){for(C>=y&&(y=C+1);!(g=m[y])&&++y<w;);_._next=g||null}}return o=new Yt(o,r),o._enter=s,o._exit=a,o}function Nh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sh(){return new Yt(this._exit||this._groups.map(xo),this._parents)}function Th(t,e,n){var r=this.enter(),i=this,u=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?u.remove():n(u),r&&i?r.merge(i).order():i}function Ih(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,u=r.length,o=Math.min(i,u),s=new Array(i),a=0;a<o;++a)for(var c=n[a],f=r[a],l=c.length,h=s[a]=new Array(l),p,w=0;w<l;++w)(p=c[w]||f[w])&&(h[w]=p);for(;a<i;++a)s[a]=n[a];return new Yt(s,this._parents)}function Ph(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,u=r[i],o;--i>=0;)(o=r[i])&&(u&&o.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(o,u),u=o);return this}function $h(t){t||(t=Oh);function e(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u){for(var o=n[u],s=o.length,a=i[u]=new Array(s),c,f=0;f<s;++f)(c=o[f])&&(a[f]=c);a.sort(e)}return new Yt(i,this._parents).order()}function Oh(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rh(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zh(){return Array.from(this)}function kh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,u=r.length;i<u;++i){var o=r[i];if(o)return o}return null}function jh(){let t=0;for(const e of this)++t;return t}function Lh(){return!this.node()}function qh(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],u=0,o=i.length,s;u<o;++u)(s=i[u])&&t.call(s,s.__data__,u,i);return this}function Uh(t){return function(){this.removeAttribute(t)}}function Vh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wh(t,e){return function(){this.setAttribute(t,e)}}function Hh(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Zh(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Xh(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Yh(t,e){var n=cr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vh:Uh:typeof e=="function"?n.local?Xh:Zh:n.local?Hh:Wh)(n,e))}function bo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gh(t){return function(){this.style.removeProperty(t)}}function Jh(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Kh(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Qh(t,e,n){return arguments.length>1?this.each((e==null?Gh:typeof e=="function"?Kh:Jh)(t,e,n??"")):Ge(this.node(),t)}function Ge(t,e){return t.style.getPropertyValue(e)||bo(t).getComputedStyle(t,null).getPropertyValue(e)}function td(t){return function(){delete this[t]}}function ed(t,e){return function(){this[t]=e}}function nd(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function rd(t,e){return arguments.length>1?this.each((e==null?td:typeof e=="function"?nd:ed)(t,e)):this.node()[t]}function Bo(t){return t.trim().split(/^|\s+/)}function si(t){return t.classList||new Mo(t)}function Mo(t){this._node=t,this._names=Bo(t.getAttribute("class")||"")}Mo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function No(t,e){for(var n=si(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function So(t,e){for(var n=si(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function id(t){return function(){No(this,t)}}function ud(t){return function(){So(this,t)}}function od(t,e){return function(){(e.apply(this,arguments)?No:So)(this,t)}}function sd(t,e){var n=Bo(t+"");if(arguments.length<2){for(var r=si(this.node()),i=-1,u=n.length;++i<u;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?od:e?id:ud)(n,e))}function ad(){this.textContent=""}function cd(t){return function(){this.textContent=t}}function fd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ld(t){return arguments.length?this.each(t==null?ad:(typeof t=="function"?fd:cd)(t)):this.node().textContent}function hd(){this.innerHTML=""}function dd(t){return function(){this.innerHTML=t}}function pd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function md(t){return arguments.length?this.each(t==null?hd:(typeof t=="function"?pd:dd)(t)):this.node().innerHTML}function Dd(){this.nextSibling&&this.parentNode.appendChild(this)}function gd(){return this.each(Dd)}function vd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wd(){return this.each(vd)}function yd(t){var e=typeof t=="function"?t:Eo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Fd(){return null}function Ed(t,e){var n=typeof t=="function"?t:Eo(t),r=e==null?Fd:typeof e=="function"?e:oi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ad(){var t=this.parentNode;t&&t.removeChild(this)}function Cd(){return this.each(Ad)}function _d(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bd(t){return this.select(t?xd:_d)}function Bd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Md(t){return function(e){t.call(this,e,this.__data__)}}function Nd(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Sd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,u;n<i;++n)u=e[n],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):e[++r]=u;++r?e.length=r:delete this.__on}}}function Td(t,e,n){return function(){var r=this.__on,i,u=Md(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=n),i.value=e;return}}this.addEventListener(t.type,u,n),i={type:t.type,name:t.name,value:e,listener:u,options:n},r?r.push(i):this.__on=[i]}}function Id(t,e,n){var r=Nd(t+""),i,u=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,c=s.length,f;a<c;++a)for(i=0,f=s[a];i<u;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(s=e?Td:Sd,i=0;i<u;++i)this.each(s(r[i],e,n));return this}function To(t,e,n){var r=bo(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Pd(t,e){return function(){return To(this,t,e)}}function $d(t,e){return function(){return To(this,t,e.apply(this,arguments))}}function Od(t,e){return this.each((typeof e=="function"?$d:Pd)(t,e))}function*Rd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,u=r.length,o;i<u;++i)(o=r[i])&&(yield o)}var Io=[null];function Yt(t,e){this._groups=t,this._parents=e}function vn(){return new Yt([[document.documentElement]],Io)}function zd(){return this}Yt.prototype=vn.prototype={constructor:Yt,select:fh,selectAll:ph,selectChild:vh,selectChildren:Eh,filter:Ah,data:Mh,enter:Ch,exit:Sh,join:Th,merge:Ih,selection:zd,order:Ph,sort:$h,call:Rh,nodes:zh,node:kh,size:jh,empty:Lh,each:qh,attr:Yh,style:Qh,property:rd,classed:sd,text:ld,html:md,raise:gd,lower:wd,append:yd,insert:Ed,remove:Cd,clone:bd,datum:Bd,on:Id,dispatch:Od,[Symbol.iterator]:Rd};function kd(t){return typeof t=="string"?new Yt([[document.querySelector(t)]],[document.documentElement]):new Yt([[t]],Io)}function ai(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Po(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wn(){}var pn=.7,Xn=1/pn,We="\\s*([+-]?\\d+)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jd=/^#([0-9a-f]{3,8})$/,Ld=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),qd=new RegExp(`^rgb\\(${fe},${fe},${fe}\\)$`),Ud=new RegExp(`^rgba\\(${We},${We},${We},${mn}\\)$`),Vd=new RegExp(`^rgba\\(${fe},${fe},${fe},${mn}\\)$`),Wd=new RegExp(`^hsl\\(${mn},${fe},${fe}\\)$`),Hd=new RegExp(`^hsla\\(${mn},${fe},${fe},${mn}\\)$`),uu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ai(wn,Te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ou,formatHex:ou,formatHex8:Zd,formatHsl:Xd,formatRgb:su,toString:su});function ou(){return this.rgb().formatHex()}function Zd(){return this.rgb().formatHex8()}function Xd(){return $o(this).formatHsl()}function su(){return this.rgb().formatRgb()}function Te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jd.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?au(e):n===3?new Wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ld.exec(t))?new Wt(e[1],e[2],e[3],1):(e=qd.exec(t))?new Wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ud.exec(t))?xn(e[1],e[2],e[3],e[4]):(e=Vd.exec(t))?xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wd.exec(t))?lu(e[1],e[2]/100,e[3]/100,1):(e=Hd.exec(t))?lu(e[1],e[2]/100,e[3]/100,e[4]):uu.hasOwnProperty(t)?au(uu[t]):t==="transparent"?new Wt(NaN,NaN,NaN,0):null}function au(t){return new Wt(t>>16&255,t>>8&255,t&255,1)}function xn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wt(t,e,n,r)}function Yd(t){return t instanceof wn||(t=Te(t)),t?(t=t.rgb(),new Wt(t.r,t.g,t.b,t.opacity)):new Wt}function Or(t,e,n,r){return arguments.length===1?Yd(t):new Wt(t,e,n,r??1)}function Wt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ai(Wt,Or,Po(wn,{brighter(t){return t=t==null?Xn:Math.pow(Xn,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pn:Math.pow(pn,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wt(Ne(this.r),Ne(this.g),Ne(this.b),Yn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cu,formatHex:cu,formatHex8:Gd,formatRgb:fu,toString:fu}));function cu(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}`}function Gd(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}${Me((isNaN(this.opacity)?1:this.opacity)*255)}`}function fu(){const t=Yn(this.opacity);return`${t===1?"rgb(":"rgba("}${Ne(this.r)}, ${Ne(this.g)}, ${Ne(this.b)}${t===1?")":`, ${t})`}`}function Yn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ne(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Me(t){return t=Ne(t),(t<16?"0":"")+t.toString(16)}function lu(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ue(t,e,n,r)}function $o(t){if(t instanceof ue)return new ue(t.h,t.s,t.l,t.opacity);if(t instanceof wn||(t=Te(t)),!t)return new ue;if(t instanceof ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),u=Math.max(e,n,r),o=NaN,s=u-i,a=(u+i)/2;return s?(e===u?o=(n-r)/s+(n<r)*6:n===u?o=(r-e)/s+2:o=(e-n)/s+4,s/=a<.5?u+i:2-u-i,o*=60):s=a>0&&a<1?0:o,new ue(o,s,a,t.opacity)}function Jd(t,e,n,r){return arguments.length===1?$o(t):new ue(t,e,n,r??1)}function ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ai(ue,Jd,Po(wn,{brighter(t){return t=t==null?Xn:Math.pow(Xn,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pn:Math.pow(pn,t),new ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wt(Fr(t>=240?t-240:t+120,i,r),Fr(t,i,r),Fr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ue(hu(this.h),bn(this.s),bn(this.l),Yn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yn(this.opacity);return`${t===1?"hsl(":"hsla("}${hu(this.h)}, ${bn(this.s)*100}%, ${bn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hu(t){return t=(t||0)%360,t<0?t+360:t}function bn(t){return Math.max(0,Math.min(1,t||0))}function Fr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ci=t=>()=>t;function Kd(t,e){return function(n){return t+n*e}}function Qd(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tp(t){return(t=+t)==1?Oo:function(e,n){return n-e?Qd(e,n,t):ci(isNaN(e)?n:e)}}function Oo(t,e){var n=e-t;return n?Kd(t,n):ci(isNaN(t)?e:t)}const Gn=function t(e){var n=tp(e);function r(i,u){var o=n((i=Or(i)).r,(u=Or(u)).r),s=n(i.g,u.g),a=n(i.b,u.b),c=Oo(i.opacity,u.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=a(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function ep(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(u){for(i=0;i<n;++i)r[i]=t[i]*(1-u)+e[i]*u;return r}}function np(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rp(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),u=new Array(n),o;for(o=0;o<r;++o)i[o]=fi(t[o],e[o]);for(;o<n;++o)u[o]=e[o];return function(s){for(o=0;o<r;++o)u[o]=i[o](s);return u}}function ip(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ie(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function up(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fi(t[i],e[i]):r[i]=e[i];return function(u){for(i in n)r[i]=n[i](u);return r}}var Rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Er=new RegExp(Rr.source,"g");function op(t){return function(){return t}}function sp(t){return function(e){return t(e)+""}}function Ro(t,e){var n=Rr.lastIndex=Er.lastIndex=0,r,i,u,o=-1,s=[],a=[];for(t=t+"",e=e+"";(r=Rr.exec(t))&&(i=Er.exec(e));)(u=i.index)>n&&(u=e.slice(n,u),s[o]?s[o]+=u:s[++o]=u),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:ie(r,i)})),n=Er.lastIndex;return n<e.length&&(u=e.slice(n),s[o]?s[o]+=u:s[++o]=u),s.length<2?a[0]?sp(a[0].x):op(e):(e=a.length,function(c){for(var f=0,l;f<e;++f)s[(l=a[f]).i]=l.x(c);return s.join("")})}function fi(t,e){var n=typeof e,r;return e==null||n==="boolean"?ci(e):(n==="number"?ie:n==="string"?(r=Te(e))?(e=r,Gn):Ro:e instanceof Te?Gn:e instanceof Date?ip:np(e)?ep:Array.isArray(e)?rp:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?up:ie)(t,e)}function ap(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var du=180/Math.PI,zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zo(t,e,n,r,i,u){var o,s,a;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),t*r<e*n&&(t=-t,e=-e,a=-a,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(e,t)*du,skewX:Math.atan(a)*du,scaleX:o,scaleY:s}}var Bn;function cp(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zr:zo(e.a,e.b,e.c,e.d,e.e,e.f)}function fp(t){return t==null||(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",t),!(t=Bn.transform.baseVal.consolidate()))?zr:(t=t.matrix,zo(t.a,t.b,t.c,t.d,t.e,t.f))}function ko(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function u(c,f,l,h,p,w){if(c!==l||f!==h){var d=p.push("translate(",null,e,null,n);w.push({i:d-4,x:ie(c,l)},{i:d-2,x:ie(f,h)})}else(l||h)&&p.push("translate("+l+e+h+n)}function o(c,f,l,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:l.push(i(l)+"rotate(",null,r)-2,x:ie(c,f)})):f&&l.push(i(l)+"rotate("+f+r)}function s(c,f,l,h){c!==f?h.push({i:l.push(i(l)+"skewX(",null,r)-2,x:ie(c,f)}):f&&l.push(i(l)+"skewX("+f+r)}function a(c,f,l,h,p,w){if(c!==l||f!==h){var d=p.push(i(p)+"scale(",null,",",null,")");w.push({i:d-4,x:ie(c,l)},{i:d-2,x:ie(f,h)})}else(l!==1||h!==1)&&p.push(i(p)+"scale("+l+","+h+")")}return function(c,f){var l=[],h=[];return c=t(c),f=t(f),u(c.translateX,c.translateY,f.translateX,f.translateY,l,h),o(c.rotate,f.rotate,l,h),s(c.skewX,f.skewX,l,h),a(c.scaleX,c.scaleY,f.scaleX,f.scaleY,l,h),c=f=null,function(p){for(var w=-1,d=h.length,m;++w<d;)l[(m=h[w]).i]=m.x(p);return l.join("")}}}var lp=ko(cp,"px, ","px)","deg)"),hp=ko(fp,", ",")",")"),Je=0,an=0,nn=0,jo=1e3,Jn,cn,Kn=0,Ie=0,fr=0,Dn=typeof performance=="object"&&performance.now?performance:Date,Lo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function li(){return Ie||(Lo(dp),Ie=Dn.now()+fr)}function dp(){Ie=0}function Qn(){this._call=this._time=this._next=null}Qn.prototype=qo.prototype={constructor:Qn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?li():+n)+(e==null?0:+e),!this._next&&cn!==this&&(cn?cn._next=this:Jn=this,cn=this),this._call=t,this._time=n,kr()},stop:function(){this._call&&(this._call=null,this._time=1/0,kr())}};function qo(t,e,n){var r=new Qn;return r.restart(t,e,n),r}function pp(){li(),++Je;for(var t=Jn,e;t;)(e=Ie-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Je}function pu(){Ie=(Kn=Dn.now())+fr,Je=an=0;try{pp()}finally{Je=0,Dp(),Ie=0}}function mp(){var t=Dn.now(),e=t-Kn;e>jo&&(fr-=e,Kn=t)}function Dp(){for(var t,e=Jn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Jn=n);cn=t,kr(r)}function kr(t){if(!Je){an&&(an=clearTimeout(an));var e=t-Ie;e>24?(t<1/0&&(an=setTimeout(pu,t-Dn.now()-fr)),nn&&(nn=clearInterval(nn))):(nn||(Kn=Dn.now(),nn=setInterval(mp,jo)),Je=1,Lo(pu))}}function mu(t,e,n){var r=new Qn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var gp=Fo("start","end","cancel","interrupt"),vp=[],Uo=0,Du=1,jr=2,Pn=3,gu=4,Lr=5,$n=6;function lr(t,e,n,r,i,u){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;wp(t,n,{name:e,index:r,group:i,on:gp,tween:vp,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Uo})}function hi(t,e){var n=se(t,e);if(n.state>Uo)throw new Error("too late; already scheduled");return n}function he(t,e){var n=se(t,e);if(n.state>Pn)throw new Error("too late; already running");return n}function se(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wp(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=qo(u,0,n.time);function u(c){n.state=Du,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,l,h,p;if(n.state!==Du)return a();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Pn)return mu(o);p.state===gu?(p.state=$n,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[f]):+f<e&&(p.state=$n,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[f])}if(mu(function(){n.state===Pn&&(n.state=gu,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=jr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===jr){for(n.state=Pn,i=new Array(h=n.tween.length),f=0,l=-1;f<h;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=p);i.length=l+1}}function s(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=Lr,1),l=-1,h=i.length;++l<h;)i[l].call(t,f);n.state===Lr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=$n,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function yp(t,e){var n=t.__transition,r,i,u=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){u=!1;continue}i=r.state>jr&&r.state<Lr,r.state=$n,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}u&&delete t.__transition}}function Fp(t){return this.each(function(){yp(this,t)})}function Ep(t,e){var n,r;return function(){var i=he(this,t),u=i.tween;if(u!==n){r=n=u;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ap(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var u=he(this,t),o=u.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===e){i[a]=s;break}a===c&&i.push(s)}u.tween=i}}function Cp(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=se(this.node(),n).tween,i=0,u=r.length,o;i<u;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Ep:Ap)(n,t,e))}function di(t,e,n){var r=t._id;return t.each(function(){var i=he(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return se(i,r).value[e]}}function Vo(t,e){var n;return(typeof e=="number"?ie:e instanceof Te?Gn:(n=Te(e))?(e=n,Gn):Ro)(t,e)}function _p(t){return function(){this.removeAttribute(t)}}function xp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bp(t,e,n){var r,i=n+"",u;return function(){var o=this.getAttribute(t);return o===i?null:o===r?u:u=e(r=o,n)}}function Bp(t,e,n){var r,i=n+"",u;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?u:u=e(r=o,n)}}function Mp(t,e,n){var r,i,u;return function(){var o,s=n(this),a;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),a=s+"",o===a?null:o===r&&a===i?u:(i=a,u=e(r=o,s)))}}function Np(t,e,n){var r,i,u;return function(){var o,s=n(this),a;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),a=s+"",o===a?null:o===r&&a===i?u:(i=a,u=e(r=o,s)))}}function Sp(t,e){var n=cr(t),r=n==="transform"?hp:Vo;return this.attrTween(t,typeof e=="function"?(n.local?Np:Mp)(n,r,di(this,"attr."+t,e)):e==null?(n.local?xp:_p)(n):(n.local?Bp:bp)(n,r,e))}function Tp(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ip(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pp(t,e){var n,r;function i(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Ip(t,u)),n}return i._value=e,i}function $p(t,e){var n,r;function i(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Tp(t,u)),n}return i._value=e,i}function Op(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=cr(t);return this.tween(n,(r.local?Pp:$p)(r,e))}function Rp(t,e){return function(){hi(this,t).delay=+e.apply(this,arguments)}}function zp(t,e){return e=+e,function(){hi(this,t).delay=e}}function kp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Rp:zp)(e,t)):se(this.node(),e).delay}function jp(t,e){return function(){he(this,t).duration=+e.apply(this,arguments)}}function Lp(t,e){return e=+e,function(){he(this,t).duration=e}}function qp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jp:Lp)(e,t)):se(this.node(),e).duration}function Up(t,e){if(typeof e!="function")throw new Error;return function(){he(this,t).ease=e}}function Vp(t){var e=this._id;return arguments.length?this.each(Up(e,t)):se(this.node(),e).ease}function Wp(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;he(this,t).ease=n}}function Hp(t){if(typeof t!="function")throw new Error;return this.each(Wp(this._id,t))}function Zp(t){typeof t!="function"&&(t=Co(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u=e[i],o=u.length,s=r[i]=[],a,c=0;c<o;++c)(a=u[c])&&t.call(a,a.__data__,c,u)&&s.push(a);return new ve(r,this._parents,this._name,this._id)}function Xp(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,u=Math.min(r,i),o=new Array(r),s=0;s<u;++s)for(var a=e[s],c=n[s],f=a.length,l=o[s]=new Array(f),h,p=0;p<f;++p)(h=a[p]||c[p])&&(l[p]=h);for(;s<r;++s)o[s]=e[s];return new ve(o,this._parents,this._name,this._id)}function Yp(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Gp(t,e,n){var r,i,u=Yp(e)?hi:he;return function(){var o=u(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function Jp(t,e){var n=this._id;return arguments.length<2?se(this.node(),n).on.on(t):this.each(Gp(n,t,e))}function Kp(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Qp(){return this.on("end.remove",Kp(this._id))}function t1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=oi(t));for(var r=this._groups,i=r.length,u=new Array(i),o=0;o<i;++o)for(var s=r[o],a=s.length,c=u[o]=new Array(a),f,l,h=0;h<a;++h)(f=s[h])&&(l=t.call(f,f.__data__,h,s))&&("__data__"in f&&(l.__data__=f.__data__),c[h]=l,lr(c[h],e,n,h,c,se(f,n)));return new ve(u,this._parents,e,n)}function e1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ao(t));for(var r=this._groups,i=r.length,u=[],o=[],s=0;s<i;++s)for(var a=r[s],c=a.length,f,l=0;l<c;++l)if(f=a[l]){for(var h=t.call(f,f.__data__,l,a),p,w=se(f,n),d=0,m=h.length;d<m;++d)(p=h[d])&&lr(p,e,n,d,h,w);u.push(h),o.push(f)}return new ve(u,o,e,n)}var n1=vn.prototype.constructor;function r1(){return new n1(this._groups,this._parents)}function i1(t,e){var n,r,i;return function(){var u=Ge(this,t),o=(this.style.removeProperty(t),Ge(this,t));return u===o?null:u===n&&o===r?i:i=e(n=u,r=o)}}function Wo(t){return function(){this.style.removeProperty(t)}}function u1(t,e,n){var r,i=n+"",u;return function(){var o=Ge(this,t);return o===i?null:o===r?u:u=e(r=o,n)}}function o1(t,e,n){var r,i,u;return function(){var o=Ge(this,t),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(t),Ge(this,t))),o===a?null:o===r&&a===i?u:(i=a,u=e(r=o,s))}}function s1(t,e){var n,r,i,u="style."+e,o="end."+u,s;return function(){var a=he(this,t),c=a.on,f=a.value[u]==null?s||(s=Wo(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),a.on=r}}function a1(t,e,n){var r=(t+="")=="transform"?lp:Vo;return e==null?this.styleTween(t,i1(t,r)).on("end.style."+t,Wo(t)):typeof e=="function"?this.styleTween(t,o1(t,r,di(this,"style."+t,e))).each(s1(this._id,t)):this.styleTween(t,u1(t,r,e),n).on("end.style."+t,null)}function c1(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function f1(t,e,n){var r,i;function u(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&c1(t,o,n)),r}return u._value=e,u}function l1(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,f1(t,e,n??""))}function h1(t){return function(){this.textContent=t}}function d1(t){return function(){var e=t(this);this.textContent=e??""}}function p1(t){return this.tween("text",typeof t=="function"?d1(di(this,"text",t)):h1(t==null?"":t+""))}function m1(t){return function(e){this.textContent=t.call(this,e)}}function D1(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&m1(i)),e}return r._value=t,r}function g1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,D1(t))}function v1(){for(var t=this._name,e=this._id,n=Ho(),r=this._groups,i=r.length,u=0;u<i;++u)for(var o=r[u],s=o.length,a,c=0;c<s;++c)if(a=o[c]){var f=se(a,e);lr(a,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ve(r,this._parents,t,n)}function w1(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(u,o){var s={value:o},a={value:function(){--i===0&&u()}};n.each(function(){var c=he(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),c.on=e}),i===0&&u()})}var y1=0;function ve(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ho(){return++y1}var De=vn.prototype;ve.prototype={constructor:ve,select:t1,selectAll:e1,selectChild:De.selectChild,selectChildren:De.selectChildren,filter:Zp,merge:Xp,selection:r1,transition:v1,call:De.call,nodes:De.nodes,node:De.node,size:De.size,empty:De.empty,each:De.each,on:Jp,attr:Sp,attrTween:Op,style:a1,styleTween:l1,text:p1,textTween:g1,remove:Qp,tween:Cp,delay:kp,duration:qp,ease:Vp,easeVarying:Hp,end:w1,[Symbol.iterator]:De[Symbol.iterator]};function F1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var E1={time:null,delay:0,duration:250,ease:F1};function A1(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function C1(t){var e,n;t instanceof ve?(e=t._id,t=t._name):(e=Ho(),(n=E1).time=li(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var o=r[u],s=o.length,a,c=0;c<s;++c)(a=o[c])&&lr(a,t,e,c,o,n||A1(a,e));return new ve(r,this._parents,t,e)}vn.prototype.interrupt=Fp;vn.prototype.transition=C1;const qr=Math.PI,Ur=2*qr,be=1e-6,_1=Ur-be;function Zo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function x1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zo;const n=10**e;return function(r){this._+=r[0];for(let i=1,u=r.length;i<u;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class b1{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zo:x1(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,u,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+u},${this._y1=+o}`}arcTo(e,n,r,i,u){if(e=+e,n=+n,r=+r,i=+i,u=+u,u<0)throw new Error(`negative radius: ${u}`);let o=this._x1,s=this._y1,a=r-e,c=i-n,f=o-e,l=s-n,h=f*f+l*l;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>be)if(!(Math.abs(l*a-c*f)>be)||!u)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,w=i-s,d=a*a+c*c,m=p*p+w*w,F=Math.sqrt(d),C=Math.sqrt(h),y=u*Math.tan((qr-Math.acos((d+h-m)/(2*F*C)))/2),_=y/C,g=y/F;Math.abs(_-1)>be&&this._append`L${e+_*f},${n+_*l}`,this._append`A${u},${u},0,0,${+(l*p>f*w)},${this._x1=e+g*a},${this._y1=n+g*c}`}}arc(e,n,r,i,u,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),c=e+s,f=n+a,l=1^o,h=o?i-u:u-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>be||Math.abs(this._y1-f)>be)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%Ur+Ur),h>_1?this._append`A${r},${r},0,1,${l},${e-s},${n-a}A${r},${r},0,1,${l},${this._x1=c},${this._y1=f}`:h>be&&this._append`A${r},${r},0,${+(h>=qr)},${l},${this._x1=e+r*Math.cos(u)},${this._y1=n+r*Math.sin(u)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function B1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ke(t){return t=tr(Math.abs(t)),t?t[1]:NaN}function M1(t,e){return function(n,r){for(var i=n.length,u=[],o=0,s=t[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),u.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=t[o=(o+1)%t.length];return u.reverse().join(e)}}function N1(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var S1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function er(t){if(!(e=S1.exec(t)))throw new Error("invalid format: "+t);var e;return new pi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}er.prototype=pi.prototype;function pi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T1(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Xo;function I1(t,e){var n=tr(t,e);if(!n)return t+"";var r=n[0],i=n[1],u=i-(Xo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+tr(t,Math.max(0,e+u-1))[0]}function vu(t,e){var n=tr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:B1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vu(t*100,e),r:vu,s:I1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yu(t){return t}var Fu=Array.prototype.map,Eu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function P1(t){var e=t.grouping===void 0||t.thousands===void 0?yu:M1(Fu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?yu:N1(Fu.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",a=t.nan===void 0?"NaN":t.nan+"";function c(l){l=er(l);var h=l.fill,p=l.align,w=l.sign,d=l.symbol,m=l.zero,F=l.width,C=l.comma,y=l.precision,_=l.trim,g=l.type;g==="n"?(C=!0,g="g"):wu[g]||(y===void 0&&(y=12),_=!0,g="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var D=d==="$"?n:d==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",A=d==="$"?r:/[%p]/.test(g)?o:"",b=wu[g],B=/[defgprs%]/.test(g);y=y===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function T(M){var j=D,q=A,Z,W,z;if(g==="c")q=b(M)+q,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?a:b(Math.abs(M),y),_&&(M=T1(M)),J&&+M==0&&w!=="+"&&(J=!1),j=(J?w==="("?w:s:w==="-"||w==="("?"":w)+j,q=(g==="s"?Eu[8+Xo/3]:"")+q+(J&&w==="("?")":""),B){for(Z=-1,W=M.length;++Z<W;)if(z=M.charCodeAt(Z),48>z||z>57){q=(z===46?i+M.slice(Z+1):M.slice(Z))+q,M=M.slice(0,Z);break}}}C&&!m&&(M=e(M,1/0));var X=j.length+M.length+q.length,H=X<F?new Array(F-X+1).join(h):"";switch(C&&m&&(M=e(H+M,H.length?F-q.length:1/0),H=""),p){case"<":M=j+M+q+H;break;case"=":M=j+H+M+q;break;case"^":M=H.slice(0,X=H.length>>1)+j+M+q+H.slice(X);break;default:M=H+j+M+q;break}return u(M)}return T.toString=function(){return l+""},T}function f(l,h){var p=c((l=er(l),l.type="f",l)),w=Math.max(-8,Math.min(8,Math.floor(Ke(h)/3)))*3,d=Math.pow(10,-w),m=Eu[8+w/3];return function(F){return p(d*F)+m}}return{format:c,formatPrefix:f}}var Mn,Yo,Go;$1({thousands:",",grouping:[3],currency:["$",""]});function $1(t){return Mn=P1(t),Yo=Mn.format,Go=Mn.formatPrefix,Mn}function O1(t){return Math.max(0,-Ke(Math.abs(t)))}function R1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ke(e)/3)))*3-Ke(Math.abs(t)))}function z1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ke(e)-Ke(t))+1}function k1(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function j1(t){return function(){return t}}function L1(t){return+t}var Au=[0,1];function Ue(t){return t}function Vr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:j1(isNaN(e)?NaN:.5)}function q1(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function U1(t,e,n){var r=t[0],i=t[1],u=e[0],o=e[1];return i<r?(r=Vr(i,r),u=n(o,u)):(r=Vr(r,i),u=n(u,o)),function(s){return u(r(s))}}function V1(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),u=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Vr(t[o],t[o+1]),u[o]=n(e[o],e[o+1]);return function(s){var a=V0(t,s,1,r)-1;return u[a](i[a](s))}}function W1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function H1(){var t=Au,e=Au,n=fi,r,i,u,o=Ue,s,a,c;function f(){var h=Math.min(t.length,e.length);return o!==Ue&&(o=q1(t[0],t[h-1])),s=h>2?V1:U1,a=c=null,l}function l(h){return h==null||isNaN(h=+h)?u:(a||(a=s(t.map(r),e,n)))(r(o(h)))}return l.invert=function(h){return o(i((c||(c=s(e,t.map(r),ie)))(h)))},l.domain=function(h){return arguments.length?(t=Array.from(h,L1),f()):t.slice()},l.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},l.rangeRound=function(h){return e=Array.from(h),n=ap,f()},l.clamp=function(h){return arguments.length?(o=h?!0:Ue,f()):o!==Ue},l.interpolate=function(h){return arguments.length?(n=h,f()):n},l.unknown=function(h){return arguments.length?(u=h,l):u},function(h,p){return r=h,i=p,f()}}function Z1(){return H1()(Ue,Ue)}function X1(t,e,n,r){var i=Y0(t,e,n),u;switch(r=er(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(u=R1(i,o))&&(r.precision=u),Go(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=z1(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=O1(i))&&(r.precision=u-(r.type==="%")*2);break}}return Yo(r)}function Y1(t){var e=t.domain;return t.ticks=function(n){var r=e();return X0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return X1(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,u=r.length-1,o=r[i],s=r[u],a,c,f=10;for(s<o&&(c=o,o=s,s=c,c=i,i=u,u=c);f-- >0;){if(c=Ir(o,s,n),c===a)return r[i]=o,r[u]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;a=c}return t},t}function Wr(){var t=Z1();return t.copy=function(){return W1(t,Wr())},k1.apply(t,arguments),Y1(t)}function Le(t){return function(){return t}}function G1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new b1(e)}function J1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jo(t){this._context=t}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function K1(t){return new Jo(t)}function Q1(t){return t[0]}function tm(t){return t[1]}function Cu(t,e){var n=Le(!0),r=null,i=K1,u=null,o=G1(s);t=typeof t=="function"?t:t===void 0?Q1:Le(t),e=typeof e=="function"?e:e===void 0?tm:Le(e);function s(a){var c,f=(a=J1(a)).length,l,h=!1,p;for(r==null&&(u=i(p=o())),c=0;c<=f;++c)!(c<f&&n(l=a[c],c,a))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+t(l,c,a),+e(l,c,a));if(p)return u=null,p+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Le(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Le(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(u=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=u=null:u=i(r=a),s):r},s}function fn(t,e,n){this.k=t,this.x=e,this.y=n}fn.prototype={constructor:fn,scale:function(t){return t===1?this:new fn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};fn.prototype;const em=()=>{const{patternPoints:t,xCB:e}=ar(),n=Lt.useRef(null),r=600,i=250,u={top:20,right:20,bottom:40,left:40};return Lt.useEffect(()=>{if(!n.current||!t.length)return;const o=kd(n.current);o.selectAll("*").remove();const s=0,a=5,c=-1,f=1,l=(a-s)*.3,h=(f-c)*.3,p=Wr().domain([s-l,a+l]).range([u.left,r-u.right]),w=Wr().domain([c-h,f+h]).range([i-u.bottom,u.top]);o.append("g").attr("transform","translate(0,"+i+")").call(nh(p)),o.append("g").attr("transform","translate("+u.left+",0)").call(rh(w));const d=Cu().x(F=>p(F.x)).y(F=>w(F.r));o.append("path").datum(t).attr("fill","none").attr("stroke",un[300]).attr("stroke-width",2).attr("stroke-dasharray","4 2").attr("d",d);const m=Cu().x(F=>p(F.x)).y(F=>w(F.nr));o.append("path").datum(t).attr("fill","none").attr("stroke",un[300]).attr("stroke-width",2).attr("stroke-dasharray","4 2").attr("d",m),o.append("g").selectAll("circle").data(t).enter().append("circle").attr("cx",F=>p(F.x)).attr("cy",F=>w(F.nr)).attr("r",2).attr("fill",un[500]),o.append("g").selectAll("circle").data(t).enter().append("circle").attr("cx",F=>p(F.x)).attr("cy",F=>w(F.r)).attr("r",2).attr("fill",un[500]),o.append("circle").attr("cx",p(e)).attr("cy",w(0)).attr("r",2).attr("fill",gi[300]),o.append("text").attr("x",p(e)+5).attr("y",w(0)-5).text("xCB").attr("fill",gi[300]).attr("font-size","8px")},[t,e]),x.jsx(ln,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:x.jsxs(Ar,{children:[x.jsx(nt,{variant:"h5",fontWeight:"bold",mb:3,children:"Envelope Pattern Development"}),x.jsx(yt,{mb:4,children:x.jsx("svg",{ref:n,width:"100%",height:"600",viewBox:`0 0 ${r} ${i}`,preserveAspectRatio:"xMidYMid meet"})})]})})},_u=Hr(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),nm=({expanded:t})=>{const e=Lt.useRef(null),n=()=>{e.current&&e.current.scrollIntoView({behavior:"smooth",block:"center"})};return x.jsx(Os,{in:t,timeout:"auto",unmountOnExit:!0,onEntered:n,children:x.jsxs(ln,{ref:e,sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3,mt:2,textAlign:"center",width:"100%",maxWidth:"1000px",mx:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[x.jsx(nt,{variant:"subtitle1",gutterBottom:!0,children:"Airship Design Calculator"}),x.jsx(nt,{variant:"body2",paragraph:!0,children:"Based on Gertler4621 Shape spreadsheet. Computes shape, volume, center of volume, and patterns for Series58 Model 4621 body."}),x.jsxs(vi,{sx:{backgroundColor:"transparent",borderRadius:2,mb:2,width:"100%"},children:[x.jsx(wi,{expandIcon:x.jsx(_u,{}),children:x.jsx(nt,{variant:"body2",children:"License"})}),x.jsxs(yi,{children:[x.jsx(nt,{variant:"body2",paragraph:!0,children:x.jsx(Bu,{href:"https://www.gnu.org/licenses/gpl.html",target:"_blank",rel:"noopener noreferrer",children:"GPL"})}),x.jsx(nt,{variant:"body2",paragraph:!0,children:"This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation."}),x.jsx(nt,{variant:"body2",children:"Source spreadsheet and methodology courtesy of Gertler."})]})]}),x.jsxs(vi,{sx:{backgroundColor:"transparent",borderRadius:2,width:"100%"},children:[x.jsx(wi,{expandIcon:x.jsx(_u,{}),children:x.jsx(nt,{variant:"body2",children:"View Contributors & History"})}),x.jsx(yi,{children:x.jsx(nt,{variant:"body2",component:"div",align:"left",children:x.jsxs("ul",{children:[x.jsx("li",{children:"Gertler 4621 Shape"}),x.jsx("li",{children:"Johannes Eissing, 11.02.2008"}),x.jsx("li",{children:"Martin Zobel, 21.10.2009"}),x.jsx("li",{children:"Johannes Eissing, 23.10.2009"}),x.jsx("li",{children:"Johannes Eissing, 19.11.2019"}),x.jsx("li",{children:"Johannes Eissing, 2016/11/32, added General Public License Agreement."}),x.jsx("li",{children:"Johannes Eissing, 25/11/2019, added coefficient generator."}),x.jsx("li",{children:"Seifeldin Abouelella, 15/07/2025, created this web application."})]})})})]})]})})},rm=()=>{const[t,e]=Lt.useState(!1);return x.jsxs(yt,{component:"footer",sx:{textAlign:"center",paddingBottom:2},children:[x.jsxs(yt,{sx:{mb:1,display:"flex",justifyContent:"center",alignItems:"center",gap:1},children:[x.jsxs(nt,{variant:"body2",color:"textSecondary",children:[" 2025 Airship Design Calculator","   "]}),x.jsx(Bu,{component:"button",variant:"body2",onClick:()=>e(n=>!n),children:t?"Hide License & Credits":"License & Credits"})]}),x.jsx(nm,{expanded:t})]})},im=Hr(x.jsx("path",{d:"M20 11H6.83l2.88-2.88c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0L3.71 11.3c-.39.39-.39 1.02 0 1.41L8.3 17.3c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L6.83 13H20c.55 0 1-.45 1-1s-.45-1-1-1"})),um=()=>{const e=new URLSearchParams(window.location.search).get("url"),n=i=>{try{return new URL(i),!0}catch{return!1}},r=()=>{e&&n(e)&&(window.location.href=e)};return!e||!n(e)?null:x.jsx(yt,{mt:3,children:x.jsx(on,{variant:"outlined",color:"primary",size:"large",onClick:r,startIcon:x.jsx(im,{}),sx:{borderRadius:2,fontWeight:"bold"},children:"Return"})})},om=Hr(x.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),sm=()=>{const e=new URLSearchParams(window.location.search).get("email"),{inputs:n}=ar(),[r,i]=Lt.useState(!1),[u,o]=Lt.useState({name:"",email:"",subject:"",message:""}),s=()=>i(!0),a=()=>{i(!1),o({name:"",email:"",subject:"",message:""})},c=p=>w=>{o(d=>({...d,[p]:w.target.value}))},f=()=>{const p=encodeURIComponent(u.subject||"Airship Design Calculator Inquiry"),w=encodeURIComponent(`Name: ${u.name}
Email: ${u.email}

Message:
${u.message}`);window.location.href=`mailto:${e}?subject=${p}&body=${w}`,a()},l=()=>{const p={...u,...n,rhoS:n.rhoS/1e3},w=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),d=URL.createObjectURL(w),m=document.createElement("a");m.href=d,m.download="airship-calculator-report.json",m.click(),URL.revokeObjectURL(d)},h=u.name.trim()&&u.email.trim()&&u.message.trim();return e?x.jsxs(yt,{display:"flex",justifyContent:"center",pt:4,children:[x.jsx(on,{variant:"outlined",color:"primary",size:"large",onClick:s,startIcon:x.jsx(om,{}),sx:{borderRadius:2},children:"Contact Us"}),x.jsxs(Rs,{open:r,onClose:a,maxWidth:"sm",fullWidth:!0,sx:{borderRadius:3},children:[x.jsxs(zs,{children:[x.jsx(nt,{variant:"h6",component:"div",mb:1,children:"Get in Touch"}),x.jsx(nt,{variant:"body2",color:"text.secondary",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),x.jsx(ks,{children:x.jsxs(yt,{component:"form",sx:{mt:1},children:[x.jsx(rn,{autoFocus:!0,fullWidth:!0,label:"Name",margin:"normal",variant:"outlined",value:u.name,onChange:c("name"),error:u.name.trim().length===0,required:!0}),x.jsx(rn,{fullWidth:!0,label:"Email",type:"email",margin:"normal",variant:"outlined",value:u.email,onChange:c("email"),error:u.email.trim().length===0,required:!0}),x.jsx(rn,{fullWidth:!0,label:"Subject",margin:"normal",variant:"outlined",value:u.subject,onChange:c("subject"),placeholder:"Airship Design Inquiry"}),x.jsx(rn,{fullWidth:!0,label:"Message",multiline:!0,rows:4,margin:"normal",variant:"outlined",value:u.message,onChange:c("message"),placeholder:"Tell us about your project or question...",error:u.message.trim().length===0,required:!0}),x.jsxs(yt,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[x.jsx(nt,{mt:2,maxWidth:"70%",variant:"subtitle1",color:"text.secondary",whiteSpace:"wrap",children:"*Want to request a quote? Please download this file and attach to your email."}),x.jsx(on,{variant:"outlined",size:"small",onClick:l,disabled:!h,sx:{maxHeight:60},children:"Download"})]})]})}),x.jsxs(js,{sx:{px:3,pb:3},children:[x.jsx(on,{onClick:a,color:"inherit",children:"Cancel"}),x.jsx(on,{onClick:f,variant:"contained",disabled:!h,sx:{borderRadius:2},children:"Send Message"})]})]})]}):null},am=Lt.lazy(()=>Hs(()=>import("./Airship3DView-f97b7162.js"),["./Airship3DView-f97b7162.js","./mui-54397bca.js","./three-b75072f3.js"],import.meta.url)),cm=Lt.memo(R0),fm=Lt.memo(z0),lm=Lt.memo(am),hm=Lt.memo(em);function dm(){return console.log("Environment Variables:"),console.log("BASE_URL:","./"),console.log("MODE:","production"),console.log("DEPLOY_URL:",{}.VITE_DEPLOY_URL),x.jsxs(Ls,{sx:{minHeight:"100vh",minWidth:"90vw",bgcolor:"#f9fafb",paddingTop:4},children:[x.jsxs(yt,{component:"header",mb:4,textAlign:"center",children:[x.jsx(nt,{variant:"h3",fontWeight:"bold",color:"text.primary",gutterBottom:!0,children:"Airship Design Calculator"}),x.jsx(nt,{variant:"subtitle1",color:"text.secondary",children:"Gertler Shape Model"}),x.jsx(um,{})]}),x.jsxs(Et,{container:!0,columnSpacing:3,rowSpacing:4,mb:2,children:[x.jsxs(Et,{size:{xs:12,md:12,lg:6},children:[x.jsx(cm,{}),x.jsx(ln,{sx:{bgcolor:"white",p:3,borderRadius:3,boxShadow:3},children:x.jsx(fm,{})})]}),x.jsxs(Et,{size:{xs:12,md:12,lg:6},children:[x.jsx(yt,{mb:4,children:x.jsx(Lt.Suspense,{fallback:x.jsx(qs,{}),children:x.jsx(lm,{})})}),x.jsx(yt,{mb:4,children:x.jsx(hm,{})}),x.jsx(yt,{children:x.jsx(sm,{})})]})]}),x.jsx(Us,{sx:{my:6}}),x.jsx(rm,{})]})}Cr.createRoot(document.getElementById("root")).render(x.jsx(xu.StrictMode,{children:x.jsx(dm,{})}));export{ar as u};
